{"version":3,"file":"static/js/1047.fb00a78f.js","mappings":"4JAEA,MAAMA,GAA0B,IAAAC,GAAoB,OAAQ,CAC1DC,MAAO,CACL,cAAe,YAEhB,mBAAoB,GAEjBC,EAAa,CAAC,OACb,SAASC,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,GAAoB,QAAkB,UAE5C,OAAO,WAAc,QAAaA,EAAmB,CACnD,cAAe,GACfT,MAAO,CACL,SAAY,WAEb,CACDU,OAAO,SAAS,IAAM,CAACZ,KACvBa,SAAS,SAAS,IAAM,EAAC,IAAAZ,GAAoB,SAAU,CACrDa,IAAK,eACLC,OAAO,QAAgBV,EAAKW,OAAOC,IACnCC,IAAKb,EAAKc,SACVC,YAAa,KACZ,KAAM,GAAIjB,MACbF,EAAG,I,yDCpBP,GAAe,QAAgB,CAC7BoB,QACE,MAAMF,GAAW,OAAO,qBAClBG,GAAe,QAAI,MAEnBC,EAAUC,KACd,QAAI,kBAAmBA,IAGnBC,GAAmB,EAAAC,EAAA,GAASH,EAAS,KAErCI,EAAiBC,UACrB,MAAM,IACJC,EAAG,MACHC,EAAK,KACLC,GACEC,EAAGD,KACP,GAAY,wBAARF,EAEJ,OAAQC,GACN,IAAK,OACHL,EAAiBM,KASvB,SAASE,EAAKH,EAAOC,GACnB,IAAIG,EAAqBC,EAEsB,QAA9CD,EAAsBZ,EAAac,aAA2C,IAAxBF,GAA0G,QAA/DC,EAAwBD,EAAoBG,qBAAqD,IAA1BF,GAA4CA,EAAsBG,YAAY,CACrPT,IAAK,sBACLC,QACAC,KAAMQ,KAAKC,MAAMD,KAAKE,UAAUV,KAC/B,KASL,OArBAW,OAAOC,iBAAiB,UAAWhB,IACnC,SAAgB,KACde,OAAOE,oBAAoB,UAAWjB,OAaxC,QAAML,GAAcL,IACX,OAAPA,QAAsB,IAAPA,GAAyBA,EAAG0B,iBAAiB,QAAQ,KAClE,MAAMnB,GAAO,QAAI,mBACbA,GAAMS,EAAK,OAAQT,SAGpB,CACLF,eACAH,eCpDN,GAAgB,GAAK,a,WCGrB,MAAM0B,EAAa,GAEnBA,EAAW,UAAY,EAGvB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS1C,GAAQ,CAAC,eAAeyC,KAE5F","sources":["webpack://cocogoat-web/./src/views/Playground/Frame.vue?2915","webpack://cocogoat-web/./src/views/Playground/Frame.vue","webpack://cocogoat-web/./src/views/Playground/Frame.vue?2596","webpack://cocogoat-web/./src/views/Playground/Frame.vue?de04"],"sourcesContent":["import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-family\": \"genshin\"\n  }\n}, \"Code Playground\", -1);\n\nconst _hoisted_2 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Layout = _resolveComponent(\"Layout\");\n\n  return _openBlock(), _createBlock(_component_Layout, {\n    \"full-height\": \"\",\n    style: {\n      \"overflow\": \"hidden\"\n    }\n  }, {\n    title: _withCtx(() => [_hoisted_1]),\n    default: _withCtx(() => [_createElementVNode(\"iframe\", {\n      ref: \"contentFrame\",\n      class: _normalizeClass(_ctx.$style.fr),\n      src: _ctx.frameUrl,\n      frameborder: \"0\"\n    }, null, 10, _hoisted_2)]),\n    _: 1\n  });\n}","import \"core-js/modules/es.json.stringify.js\";\nimport { ref, defineComponent, onBeforeUnmount, watch } from 'vue';\nimport { getUrl } from '@/router';\nimport { get, set } from '@/store/impl';\nimport { debounce } from 'lodash-es';\nexport default defineComponent({\n  setup() {\n    const frameUrl = getUrl('frames.playground');\n    const contentFrame = ref(null);\n\n    const setCode = code => {\n      set('playground.code', code);\n    };\n\n    const debouncedSrtCode = debounce(setCode, 4000);\n\n    const messageHandler = async ev => {\n      const {\n        app,\n        event,\n        data\n      } = ev.data;\n      if (app !== 'cocogoat.playground') return;\n\n      switch (event) {\n        case 'code':\n          debouncedSrtCode(data);\n      }\n    };\n\n    window.addEventListener('message', messageHandler);\n    onBeforeUnmount(() => {\n      window.removeEventListener('message', messageHandler);\n    });\n\n    function send(event, data) {\n      var _contentFrame$value, _contentFrame$value$c;\n\n      (_contentFrame$value = contentFrame.value) === null || _contentFrame$value === void 0 ? void 0 : (_contentFrame$value$c = _contentFrame$value.contentWindow) === null || _contentFrame$value$c === void 0 ? void 0 : _contentFrame$value$c.postMessage({\n        app: 'cocogoat.playground',\n        event,\n        data: JSON.parse(JSON.stringify(data))\n      }, '*');\n    }\n\n    watch(contentFrame, fr => {\n      fr === null || fr === void 0 ? void 0 : fr.addEventListener('load', () => {\n        const code = get('playground.code');\n        if (code) send('code', code);\n      });\n    });\n    return {\n      contentFrame,\n      frameUrl\n    };\n  }\n\n});","/* unplugin-vue-components disabled */// extracted by mini-css-extract-plugin\nexport default {\"fr\":\"fr-f55b2d\"};","/* unplugin-vue-components disabled */import { render } from \"./Frame.vue?vue&type=template&id=41364679&ts=true\"\nimport script from \"./Frame.vue?vue&type=script&lang=ts\"\nexport * from \"./Frame.vue?vue&type=script&lang=ts\"\n\nconst cssModules = {}\nimport style0 from \"./Frame.vue?vue&type=style&index=0&id=41364679&lang=scss&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"/home/runner/work/cocogoat/cocogoat/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.73.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__cssModules',cssModules]])\n\nexport default __exports__"],"names":["_hoisted_1","_","style","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_Layout","title","default","ref","class","$style","fr","src","frameUrl","frameborder","setup","contentFrame","setCode","code","debouncedSrtCode","debounce","messageHandler","async","app","event","data","ev","send","_contentFrame$value","_contentFrame$value$c","value","contentWindow","postMessage","JSON","parse","stringify","window","addEventListener","removeEventListener","cssModules","__exports__"],"sourceRoot":""}