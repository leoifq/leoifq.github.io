"use strict";(self["define"]=self["define"]||[]).push([[7703],{35200:function(e,n,t){t.d(n,{zG:function(){return f}});var r=t(35512),a=t(19390),o=t(44847),s=t(7728),i=t(28341),c=t(63294),u=t(3146),l=t(40586);function p(){const e=(0,s.G)((()=>(console.log("[worker-macro] webpack"),new s.G(new URL(t.p+t.u(1584),t.b))))),n=(0,r.Ud)(e);return{worker:n,_worker:e}}function m(){const{worker:e,_worker:n}=p(),{worker:t,_worker:r}=p(),{scannerOnImage:s,scannerOnLine:m,recognizeAchievement:d}=e,{recognizeAchievement:f,scannerOnLine:g}=t;let h=(e,n)=>{};const v=e=>{h=e},w=e=>{throw h(-99),e};n.addEventListener("error",w),r.addEventListener("error",w);const y=(async()=>{try{const[n,r]=(0,o.LS)(),s=i.hasSIMD?"ort-wasm-simd.wasm":"ort-wasm.wasm",p=i.hasSIMD?"opencv-simd.wasm":"opencv-normal.wasm";await n,await(0,o.sB)([s,p,"ppocr.ort"],(e=>h(e)),r);const m=(0,l.Z)(u.ag.amos);await Promise.all([e.setResources(a.ZP),t.setResources(a.ZP),e.initAchievementMap(c["default"],m),t.initAchievementMap(c["default"],m)]),h(100)}catch(s){throw h(-1,s),s}n.removeEventListener("error",w),r.removeEventListener("error",w),await Promise.all([e.init(),t.init()])})();return{recognizeAchievement:f,recognizeAchievement2:d,scannerOnLine:g,scannerOnLine2:m,scannerOnImage:s,initPromise:y,workerCV:e,workerOCR:t,onProgress:v}}let d;function f(){return d||(d=m()),d}},87325:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(61583);function a(e,n,t,a,o,s){const i=(0,r.up)("router-view"),c=(0,r.up)("Loader");return e.done?((0,r.wg)(),(0,r.j4)(i,{key:0})):((0,r.wg)(),(0,r.j4)(c,{key:1,source:e.source,instance:e.instance,onDone:n[0]||(n[0]=n=>e.done=!0)},null,8,["source","instance"]))}var o=t(30926),s=t(96181),i=(0,r.aZ)({components:{Loader:s.Z},props:{source:{type:String,required:!0},instance:{type:Function,required:!0}},setup(){return{done:(0,o.iH)(!1)}}}),c=t(14545);const u=(0,c.Z)(i,[["render",a]]);var l=u},91658:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(61583);function a(e,n,t,a,o,s){const i=(0,r.up)("Router");return(0,r.wg)(),(0,r.j4)(i,{source:"achievement",instance:e.getScannerInstance},null,8,["instance"])}var o=t(87325),s=t(35200),i=(0,r.aZ)({components:{Router:o.Z},setup(){return{getScannerInstance:s.zG}}}),c=t(14545);const u=(0,c.Z)(i,[["render",a]]);var l=u},35512:function(e,n,t){t.d(n,{Jj:function(){return p},Ud:function(){return f}});t(23662),t(77253),t(16329);const r=Symbol("Comlink.proxy"),a=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),i=e=>"object"===typeof e&&null!==e||"function"===typeof e,c={canHandle:e=>i(e)&&e[r],serialize(e){const{port1:n,port2:t}=new MessageChannel;return p(e,n),[t,[t]]},deserialize(e){return e.start(),f(e)}},u={canHandle:e=>i(e)&&s in e,serialize({value:e}){let n;return n=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[n,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}},l=new Map([["proxy",c],["throw",u]]);function p(e,n=self){n.addEventListener("message",(function t(r){if(!r||!r.data)return;const{id:a,type:o,path:i}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(b);let u;try{const n=i.slice(0,-1).reduce(((e,n)=>e[n]),e),t=i.reduce(((e,n)=>e[n]),e);switch(o){case"GET":u=t;break;case"SET":n[i.slice(-1)[0]]=b(r.data.value),u=!0;break;case"APPLY":u=t.apply(n,c);break;case"CONSTRUCT":{const e=new t(...c);u=L(e)}break;case"ENDPOINT":{const{port1:n,port2:t}=new MessageChannel;p(e,t),u=E(n,[n])}break;case"RELEASE":u=void 0;break;default:return}}catch(l){u={value:l,[s]:0}}Promise.resolve(u).catch((e=>({value:e,[s]:0}))).then((e=>{const[r,s]=k(e);n.postMessage(Object.assign(Object.assign({},r),{id:a}),s),"RELEASE"===o&&(n.removeEventListener("message",t),d(n))}))})),n.start&&n.start()}function m(e){return"MessagePort"===e.constructor.name}function d(e){m(e)&&e.close()}function f(e,n){return h(e,[],n)}function g(e){if(e)throw new Error("Proxy has been released and is not useable")}function h(e,n=[],t=function(){}){let r=!1;const s=new Proxy(t,{get(t,a){if(g(r),a===o)return()=>S(e,{type:"RELEASE",path:n.map((e=>e.toString()))}).then((()=>{d(e),r=!0}));if("then"===a){if(0===n.length)return{then:()=>s};const t=S(e,{type:"GET",path:n.map((e=>e.toString()))}).then(b);return t.then.bind(t)}return h(e,[...n,a])},set(t,a,o){g(r);const[s,i]=k(o);return S(e,{type:"SET",path:[...n,a].map((e=>e.toString())),value:s},i).then(b)},apply(t,o,s){g(r);const i=n[n.length-1];if(i===a)return S(e,{type:"ENDPOINT"}).then(b);if("bind"===i)return h(e,n.slice(0,-1));const[c,u]=w(s);return S(e,{type:"APPLY",path:n.map((e=>e.toString())),argumentList:c},u).then(b)},construct(t,a){g(r);const[o,s]=w(a);return S(e,{type:"CONSTRUCT",path:n.map((e=>e.toString())),argumentList:o},s).then(b)}});return s}function v(e){return Array.prototype.concat.apply([],e)}function w(e){const n=e.map(k);return[n.map((e=>e[0])),v(n.map((e=>e[1])))]}const y=new WeakMap;function E(e,n){return y.set(e,n),e}function L(e){return Object.assign(e,{[r]:!0})}function k(e){for(const[n,t]of l)if(t.canHandle(e)){const[r,a]=t.serialize(e);return[{type:"HANDLER",name:n,value:r},a]}return[{type:"RAW",value:e},y.get(e)||[]]}function b(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function S(e,n,t){return new Promise((r=>{const a=A();e.addEventListener("message",(function n(t){t.data&&t.data.id&&t.data.id===a&&(e.removeEventListener("message",n),r(t.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:a},n),t)}))}function A(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}},40586:function(e,n,t){var r=t(81319),a=1,o=4;function s(e){return(0,r.Z)(e,a|o)}n["Z"]=s}}]);
//# sourceMappingURL=7703.09786256.js.map