{"version":3,"file":"static/js/3136.083d154c.js","mappings":"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","sources":["webpack://cocogoat-web/./node_modules/.pnpm/escape-html@1.0.3/node_modules/escape-html/index.js","webpack://cocogoat-web/../../../../../packages/components/drawer/src/drawer.ts","webpack://cocogoat-web/../../../../../packages/components/drawer/src/drawer.vue","webpack://cocogoat-web/../../../../../packages/components/drawer/index.ts","webpack://cocogoat-web/../../../../../packages/components/scrollbar/src/util.ts","webpack://cocogoat-web/../../../../../packages/components/scrollbar/src/thumb.ts","webpack://cocogoat-web/../../../../packages/tokens/scrollbar.ts","webpack://cocogoat-web/../../../../../packages/components/scrollbar/src/thumb.vue","webpack://cocogoat-web/../../../../../packages/components/scrollbar/src/bar.ts","webpack://cocogoat-web/../../../../../packages/components/scrollbar/src/bar.vue","webpack://cocogoat-web/../../../../../packages/components/scrollbar/src/scrollbar.ts","webpack://cocogoat-web/../../../../../packages/components/scrollbar/src/scrollbar.vue","webpack://cocogoat-web/../../../../../packages/components/scrollbar/index.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/util.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/store/expand.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/store/current.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/store/tree.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/store/watcher.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/store/index.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/store/helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-layout.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/filter-panel.vue","webpack://cocogoat-web/../../../../../packages/components/table/src/layout-observer.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/tokens.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-header/event-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-header/style.helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-header/utils-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-header/index.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-body/events-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-body/styles-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-body/render-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-body/defaults.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-body/index.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/h-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-footer/mapState-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-footer/style-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-footer/index.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table/utils-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table/style-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table/defaults.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/composables/use-scrollbar.ts","webpack://cocogoat-web/../src/UserAgent_DEPRECATED.js","webpack://cocogoat-web/../src/isEventSupported.js","webpack://cocogoat-web/../src/ExecutionEnvironment.js","webpack://cocogoat-web/../src/normalizeWheel.js","webpack://cocogoat-web/../../../../../packages/directives/mousewheel/index.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table.vue","webpack://cocogoat-web/../../../../../packages/components/table/src/config.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-column/watcher-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-column/render-helper.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-column/defaults.ts","webpack://cocogoat-web/../../../../../packages/components/table/src/table-column/index.ts","webpack://cocogoat-web/../../../../../packages/components/table/index.ts"],"sourcesContent":["/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","import { buildProps } from '@element-plus/utils'\nimport { dialogEmits, dialogProps } from '@element-plus/components/dialog'\nimport type { ExtractPropTypes } from 'vue'\n\nexport const drawerProps = buildProps({\n  ...dialogProps,\n  direction: {\n    type: String,\n    default: 'rtl',\n    values: ['ltr', 'rtl', 'ttb', 'btt'],\n  },\n  size: {\n    type: [String, Number],\n    default: '30%',\n  },\n  withHeader: {\n    type: Boolean,\n    default: true,\n  },\n  modalFade: {\n    type: Boolean,\n    default: true,\n  },\n} as const)\n\nexport type DrawerProps = ExtractPropTypes<typeof drawerProps>\n\nexport const drawerEmits = dialogEmits\n","<template>\n  <teleport to=\"body\" :disabled=\"!appendToBody\">\n    <transition\n      :name=\"ns.b('fade')\"\n      @after-enter=\"afterEnter\"\n      @after-leave=\"afterLeave\"\n      @before-leave=\"beforeLeave\"\n    >\n      <el-overlay\n        v-show=\"visible\"\n        :mask=\"modal\"\n        :overlay-class=\"modalClass\"\n        :z-index=\"zIndex\"\n        @click=\"onModalClick\"\n      >\n        <el-focus-trap\n          loop\n          :trapped=\"visible\"\n          :focus-trap-el=\"drawerRef\"\n          :focus-start-el=\"focusStartRef\"\n          @release-requested=\"onCloseRequested\"\n        >\n          <div\n            ref=\"drawerRef\"\n            aria-modal=\"true\"\n            :aria-label=\"title || undefined\"\n            :aria-labelledby=\"!title ? titleId : undefined\"\n            :aria-describedby=\"bodyId\"\n            :class=\"[ns.b(), direction, visible && 'open', customClass]\"\n            :style=\"\n              isHorizontal ? 'width: ' + drawerSize : 'height: ' + drawerSize\n            \"\n            role=\"dialog\"\n            @click.stop\n          >\n            <span ref=\"focusStartRef\" :class=\"ns.e('sr-focus')\" tabindex=\"-1\" />\n            <header v-if=\"withHeader\" :class=\"ns.e('header')\">\n              <slot\n                v-if=\"!$slots.title\"\n                name=\"header\"\n                :close=\"handleClose\"\n                :title-id=\"titleId\"\n                :title-class=\"ns.e('title')\"\n              >\n                <span\n                  v-if=\"!$slots.title\"\n                  :id=\"titleId\"\n                  role=\"heading\"\n                  :class=\"ns.e('title')\"\n                >\n                  {{ title }}\n                </span>\n              </slot>\n              <slot v-else name=\"title\">\n                <!-- DEPRECATED SLOT -->\n              </slot>\n              <button\n                v-if=\"showClose\"\n                :aria-label=\"t('el.drawer.close')\"\n                :class=\"ns.e('close-btn')\"\n                type=\"button\"\n                @click=\"handleClose\"\n              >\n                <el-icon :class=\"ns.e('close')\"><close /></el-icon>\n              </button>\n            </header>\n            <template v-if=\"rendered\">\n              <div :id=\"bodyId\" :class=\"ns.e('body')\">\n                <slot />\n              </div>\n            </template>\n            <div v-if=\"$slots.footer\" :class=\"ns.e('footer')\">\n              <slot name=\"footer\" />\n            </div>\n          </div>\n        </el-focus-trap>\n      </el-overlay>\n    </transition>\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref } from 'vue'\nimport { Close } from '@element-plus/icons-vue'\n\nimport { ElOverlay } from '@element-plus/components/overlay'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport { useDialog } from '@element-plus/components/dialog'\nimport ElIcon from '@element-plus/components/icon'\nimport { useDeprecated, useLocale, useNamespace } from '@element-plus/hooks'\nimport { drawerEmits, drawerProps } from './drawer'\n\nexport default defineComponent({\n  name: 'ElDrawer',\n  components: {\n    ElOverlay,\n    ElFocusTrap,\n    ElIcon,\n    Close,\n  },\n  props: drawerProps,\n  emits: drawerEmits,\n\n  setup(props, { slots }) {\n    useDeprecated(\n      {\n        scope: 'el-drawer',\n        from: 'the title slot',\n        replacement: 'the header slot',\n        version: '3.0.0',\n        ref: 'https://element-plus.org/en-US/component/drawer.html#slots',\n      },\n      computed(() => !!slots.title)\n    )\n\n    const drawerRef = ref<HTMLElement>()\n    const focusStartRef = ref<HTMLElement>()\n    const ns = useNamespace('drawer')\n    const { t } = useLocale()\n\n    const isHorizontal = computed(\n      () => props.direction === 'rtl' || props.direction === 'ltr'\n    )\n    const drawerSize = computed(() =>\n      typeof props.size === 'number' ? `${props.size}px` : props.size\n    )\n\n    return {\n      ...useDialog(props, drawerRef),\n      drawerRef,\n      focusStartRef,\n      isHorizontal,\n      drawerSize,\n      ns,\n      t,\n    }\n  },\n})\n</script>\n","import { withInstall } from '@element-plus/utils'\nimport Drawer from './src/drawer.vue'\n\nexport const ElDrawer = withInstall(Drawer)\nexport default ElDrawer\n\nexport * from './src/drawer'\n","import type { CSSProperties } from 'vue'\nimport type { ThumbProps } from './thumb'\n\nexport const GAP = 4 // top 2 + bottom 2 of bar instance\n\nexport const BAR_MAP = {\n  vertical: {\n    offset: 'offsetHeight',\n    scroll: 'scrollTop',\n    scrollSize: 'scrollHeight',\n    size: 'height',\n    key: 'vertical',\n    axis: 'Y',\n    client: 'clientY',\n    direction: 'top',\n  },\n  horizontal: {\n    offset: 'offsetWidth',\n    scroll: 'scrollLeft',\n    scrollSize: 'scrollWidth',\n    size: 'width',\n    key: 'horizontal',\n    axis: 'X',\n    client: 'clientX',\n    direction: 'left',\n  },\n} as const\n\nexport const renderThumbStyle = ({\n  move,\n  size,\n  bar,\n}: Pick<ThumbProps, 'move' | 'size'> & {\n  bar: typeof BAR_MAP[keyof typeof BAR_MAP]\n}): CSSProperties => ({\n  [bar.size]: size,\n  transform: `translate${bar.axis}(${move}%)`,\n})\n","import { buildProps } from '@element-plus/utils'\nimport type { ExtractPropTypes } from 'vue'\nimport type Thumb from './thumb.vue'\n\nexport const thumbProps = buildProps({\n  vertical: Boolean,\n  size: String,\n  move: Number,\n  ratio: {\n    type: Number,\n    required: true,\n  },\n  always: Boolean,\n} as const)\nexport type ThumbProps = ExtractPropTypes<typeof thumbProps>\n\nexport type ThumbInstance = InstanceType<typeof Thumb>\n","import type { InjectionKey } from 'vue'\n\nexport interface ScrollbarContext {\n  scrollbarElement: HTMLDivElement\n  wrapElement: HTMLDivElement\n}\n\nexport const scrollbarContextKey: InjectionKey<ScrollbarContext> = Symbol(\n  'scrollbarContextKey'\n)\n","<template>\n  <transition :name=\"ns.b('fade')\">\n    <div\n      v-show=\"always || visible\"\n      ref=\"instance\"\n      :class=\"[ns.e('bar'), ns.is(bar.key)]\"\n      @mousedown=\"clickTrackHandler\"\n    >\n      <div\n        ref=\"thumb\"\n        :class=\"ns.e('thumb')\"\n        :style=\"thumbStyle\"\n        @mousedown=\"clickThumbHandler\"\n      />\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, onBeforeUnmount, ref, toRef } from 'vue'\nimport { isClient, useEventListener } from '@vueuse/core'\nimport { scrollbarContextKey } from '@element-plus/tokens'\nimport { throwError } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport { BAR_MAP, renderThumbStyle } from './util'\nimport { thumbProps } from './thumb'\n\nconst COMPONENT_NAME = 'Thumb'\nconst props = defineProps(thumbProps)\n\nconst scrollbar = inject(scrollbarContextKey)\nconst ns = useNamespace('scrollbar')\n\nif (!scrollbar) throwError(COMPONENT_NAME, 'can not inject scrollbar context')\n\nconst instance = ref<HTMLDivElement>()\nconst thumb = ref<HTMLDivElement>()\n\nconst thumbState = ref<Partial<Record<'X' | 'Y', number>>>({})\nconst visible = ref(false)\n\nlet cursorDown = false\nlet cursorLeave = false\nlet originalOnSelectStart:\n  | ((this: GlobalEventHandlers, ev: Event) => any)\n  | null = isClient ? document.onselectstart : null\n\nconst bar = computed(() => BAR_MAP[props.vertical ? 'vertical' : 'horizontal'])\n\nconst thumbStyle = computed(() =>\n  renderThumbStyle({\n    size: props.size,\n    move: props.move,\n    bar: bar.value,\n  })\n)\n\nconst offsetRatio = computed(\n  () =>\n    // offsetRatioX = original width of thumb / current width of thumb / ratioX\n    // offsetRatioY = original height of thumb / current height of thumb / ratioY\n    // instance height = wrap height - GAP\n    instance.value![bar.value.offset] ** 2 /\n    scrollbar.wrapElement![bar.value.scrollSize] /\n    props.ratio /\n    thumb.value![bar.value.offset]\n)\n\nconst clickThumbHandler = (e: MouseEvent) => {\n  // prevent click event of middle and right button\n  e.stopPropagation()\n  if (e.ctrlKey || [1, 2].includes(e.button)) return\n\n  window.getSelection()?.removeAllRanges()\n  startDrag(e)\n\n  const el = e.currentTarget as HTMLDivElement\n  if (!el) return\n  thumbState.value[bar.value.axis] =\n    el[bar.value.offset] -\n    (e[bar.value.client] - el.getBoundingClientRect()[bar.value.direction])\n}\n\nconst clickTrackHandler = (e: MouseEvent) => {\n  if (!thumb.value || !instance.value || !scrollbar.wrapElement) return\n\n  const offset = Math.abs(\n    (e.target as HTMLElement).getBoundingClientRect()[bar.value.direction] -\n      e[bar.value.client]\n  )\n  const thumbHalf = thumb.value[bar.value.offset] / 2\n  const thumbPositionPercentage =\n    ((offset - thumbHalf) * 100 * offsetRatio.value) /\n    instance.value[bar.value.offset]\n\n  scrollbar.wrapElement[bar.value.scroll] =\n    (thumbPositionPercentage * scrollbar.wrapElement[bar.value.scrollSize]) /\n    100\n}\n\nconst startDrag = (e: MouseEvent) => {\n  e.stopImmediatePropagation()\n  cursorDown = true\n  document.addEventListener('mousemove', mouseMoveDocumentHandler)\n  document.addEventListener('mouseup', mouseUpDocumentHandler)\n  originalOnSelectStart = document.onselectstart\n  document.onselectstart = () => false\n}\n\nconst mouseMoveDocumentHandler = (e: MouseEvent) => {\n  if (!instance.value || !thumb.value) return\n  if (cursorDown === false) return\n\n  const prevPage = thumbState.value[bar.value.axis]\n  if (!prevPage) return\n\n  const offset =\n    (instance.value.getBoundingClientRect()[bar.value.direction] -\n      e[bar.value.client]) *\n    -1\n  const thumbClickPosition = thumb.value[bar.value.offset] - prevPage\n  const thumbPositionPercentage =\n    ((offset - thumbClickPosition) * 100 * offsetRatio.value) /\n    instance.value[bar.value.offset]\n  scrollbar.wrapElement[bar.value.scroll] =\n    (thumbPositionPercentage * scrollbar.wrapElement[bar.value.scrollSize]) /\n    100\n}\n\nconst mouseUpDocumentHandler = () => {\n  cursorDown = false\n  thumbState.value[bar.value.axis] = 0\n  document.removeEventListener('mousemove', mouseMoveDocumentHandler)\n  document.removeEventListener('mouseup', mouseUpDocumentHandler)\n  restoreOnselectstart()\n  if (cursorLeave) visible.value = false\n}\n\nconst mouseMoveScrollbarHandler = () => {\n  cursorLeave = false\n  visible.value = !!props.size\n}\n\nconst mouseLeaveScrollbarHandler = () => {\n  cursorLeave = true\n  visible.value = cursorDown\n}\n\nonBeforeUnmount(() => {\n  restoreOnselectstart()\n  document.removeEventListener('mouseup', mouseUpDocumentHandler)\n})\n\nconst restoreOnselectstart = () => {\n  if (document.onselectstart !== originalOnSelectStart)\n    document.onselectstart = originalOnSelectStart\n}\n\nuseEventListener(\n  toRef(scrollbar, 'scrollbarElement'),\n  'mousemove',\n  mouseMoveScrollbarHandler\n)\nuseEventListener(\n  toRef(scrollbar, 'scrollbarElement'),\n  'mouseleave',\n  mouseLeaveScrollbarHandler\n)\n</script>\n","import { buildProps } from '@element-plus/utils'\nimport type { ExtractPropTypes } from 'vue'\nimport type Bar from './bar.vue'\n\nexport const barProps = buildProps({\n  always: {\n    type: Boolean,\n    default: true,\n  },\n  width: String,\n  height: String,\n  ratioX: {\n    type: Number,\n    default: 1,\n  },\n  ratioY: {\n    type: Number,\n    default: 1,\n  },\n} as const)\nexport type BarProps = ExtractPropTypes<typeof barProps>\n\nexport type BarInstance = InstanceType<typeof Bar>\n","<template>\n  <thumb :move=\"moveX\" :ratio=\"ratioX\" :size=\"width\" :always=\"always\" />\n  <thumb\n    :move=\"moveY\"\n    :ratio=\"ratioY\"\n    :size=\"height\"\n    vertical\n    :always=\"always\"\n  />\n</template>\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { GAP } from './util'\nimport Thumb from './thumb.vue'\nimport { barProps } from './bar'\n\nconst props = defineProps(barProps)\n\nconst moveX = ref(0)\nconst moveY = ref(0)\n\nconst handleScroll = (wrap: HTMLDivElement) => {\n  if (wrap) {\n    const offsetHeight = wrap.offsetHeight - GAP\n    const offsetWidth = wrap.offsetWidth - GAP\n\n    moveY.value = ((wrap.scrollTop * 100) / offsetHeight) * props.ratioY\n    moveX.value = ((wrap.scrollLeft * 100) / offsetWidth) * props.ratioX\n  }\n}\n\ndefineExpose({\n  handleScroll,\n})\n</script>\n","import { buildProps, definePropType, isNumber } from '@element-plus/utils'\nimport type { ExtractPropTypes, StyleValue } from 'vue'\nimport type Scrollbar from './scrollbar.vue'\n\nexport const scrollbarProps = buildProps({\n  height: {\n    type: [String, Number],\n    default: '',\n  },\n  maxHeight: {\n    type: [String, Number],\n    default: '',\n  },\n  native: Boolean,\n  wrapStyle: {\n    type: definePropType<StyleValue>([String, Object, Array]),\n    default: '',\n  },\n  wrapClass: {\n    type: [String, Array],\n    default: '',\n  },\n  viewClass: {\n    type: [String, Array],\n    default: '',\n  },\n  viewStyle: {\n    type: [String, Array, Object],\n    default: '',\n  },\n  noresize: Boolean, // 如果 container 尺寸不会发生变化，最好设置它可以优化性能\n  tag: {\n    type: String,\n    default: 'div',\n  },\n  always: Boolean,\n  minSize: {\n    type: Number,\n    default: 20,\n  },\n} as const)\nexport type ScrollbarProps = ExtractPropTypes<typeof scrollbarProps>\n\nexport const scrollbarEmits = {\n  scroll: ({\n    scrollTop,\n    scrollLeft,\n  }: {\n    scrollTop: number\n    scrollLeft: number\n  }) => [scrollTop, scrollLeft].every(isNumber),\n}\nexport type ScrollbarEmits = typeof scrollbarEmits\n\nexport type ScrollbarInstance = InstanceType<typeof Scrollbar>\n","<template>\n  <div ref=\"scrollbar$\" :class=\"ns.b()\">\n    <div\n      ref=\"wrap$\"\n      :class=\"[\n        wrapClass,\n        ns.e('wrap'),\n        { [ns.em('wrap', 'hidden-default')]: !native },\n      ]\"\n      :style=\"style\"\n      @scroll=\"handleScroll\"\n    >\n      <component\n        :is=\"tag\"\n        ref=\"resize$\"\n        :class=\"[ns.e('view'), viewClass]\"\n        :style=\"viewStyle\"\n      >\n        <slot />\n      </component>\n    </div>\n    <template v-if=\"!native\">\n      <bar\n        ref=\"barRef\"\n        :height=\"sizeHeight\"\n        :width=\"sizeWidth\"\n        :always=\"always\"\n        :ratio-x=\"ratioX\"\n        :ratio-y=\"ratioY\"\n      />\n    </template>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport {\n  computed,\n  nextTick,\n  onMounted,\n  onUpdated,\n  provide,\n  reactive,\n  ref,\n  watch,\n} from 'vue'\nimport { useEventListener, useResizeObserver } from '@vueuse/core'\nimport { addUnit, debugWarn, isNumber, isObject } from '@element-plus/utils'\nimport { scrollbarContextKey } from '@element-plus/tokens'\nimport { useNamespace } from '@element-plus/hooks'\nimport { GAP } from './util'\nimport Bar from './bar.vue'\nimport { scrollbarEmits, scrollbarProps } from './scrollbar'\nimport type { BarInstance } from './bar'\nimport type { CSSProperties, StyleValue } from 'vue'\n\ndefineOptions({\n  name: 'ElScrollbar',\n})\n\nconst props = defineProps(scrollbarProps)\nconst emit = defineEmits(scrollbarEmits)\n\nconst ns = useNamespace('scrollbar')\n\nlet stopResizeObserver: (() => void) | undefined = undefined\nlet stopResizeListener: (() => void) | undefined = undefined\n\nconst scrollbar$ = ref<HTMLDivElement>()\nconst wrap$ = ref<HTMLDivElement>()\nconst resize$ = ref<HTMLElement>()\n\nconst sizeWidth = ref('0')\nconst sizeHeight = ref('0')\nconst barRef = ref<BarInstance>()\nconst ratioY = ref(1)\nconst ratioX = ref(1)\nconst SCOPE = 'ElScrollbar'\n\nconst style = computed<StyleValue>(() => {\n  const style: CSSProperties = {}\n  if (props.height) style.height = addUnit(props.height)\n  if (props.maxHeight) style.maxHeight = addUnit(props.maxHeight)\n  return [props.wrapStyle, style]\n})\n\nconst handleScroll = () => {\n  if (wrap$.value) {\n    barRef.value?.handleScroll(wrap$.value)\n\n    emit('scroll', {\n      scrollTop: wrap$.value.scrollTop,\n      scrollLeft: wrap$.value.scrollLeft,\n    })\n  }\n}\n\nfunction scrollTo(xCord: number, yCord?: number): void\nfunction scrollTo(options: ScrollToOptions): void\nfunction scrollTo(arg1: unknown, arg2?: number) {\n  if (isObject(arg1)) {\n    wrap$.value!.scrollTo(arg1)\n  } else if (isNumber(arg1) && isNumber(arg2)) {\n    wrap$.value!.scrollTo(arg1, arg2)\n  }\n}\n\nconst setScrollTop = (value: number) => {\n  if (!isNumber(value)) {\n    debugWarn(SCOPE, 'value must be a number')\n    return\n  }\n  wrap$.value!.scrollTop = value\n}\n\nconst setScrollLeft = (value: number) => {\n  if (!isNumber(value)) {\n    debugWarn(SCOPE, 'value must be a number')\n    return\n  }\n  wrap$.value!.scrollLeft = value\n}\n\nconst update = () => {\n  if (!wrap$.value) return\n  const offsetHeight = wrap$.value.offsetHeight - GAP\n  const offsetWidth = wrap$.value.offsetWidth - GAP\n\n  const originalHeight = offsetHeight ** 2 / wrap$.value.scrollHeight\n  const originalWidth = offsetWidth ** 2 / wrap$.value.scrollWidth\n  const height = Math.max(originalHeight, props.minSize)\n  const width = Math.max(originalWidth, props.minSize)\n\n  ratioY.value =\n    originalHeight /\n    (offsetHeight - originalHeight) /\n    (height / (offsetHeight - height))\n  ratioX.value =\n    originalWidth /\n    (offsetWidth - originalWidth) /\n    (width / (offsetWidth - width))\n\n  sizeHeight.value = height + GAP < offsetHeight ? `${height}px` : ''\n  sizeWidth.value = width + GAP < offsetWidth ? `${width}px` : ''\n}\n\nwatch(\n  () => props.noresize,\n  (noresize) => {\n    if (noresize) {\n      stopResizeObserver?.()\n      stopResizeListener?.()\n    } else {\n      ;({ stop: stopResizeObserver } = useResizeObserver(resize$, update))\n      stopResizeListener = useEventListener('resize', update)\n    }\n  },\n  { immediate: true }\n)\n\nwatch(\n  () => [props.maxHeight, props.height],\n  () => {\n    if (!props.native)\n      nextTick(() => {\n        update()\n        if (wrap$.value) {\n          barRef.value?.handleScroll(wrap$.value)\n        }\n      })\n  }\n)\n\nprovide(\n  scrollbarContextKey,\n  reactive({\n    scrollbarElement: scrollbar$,\n    wrapElement: wrap$,\n  })\n)\n\nonMounted(() => {\n  if (!props.native) nextTick(() => update())\n})\nonUpdated(() => update())\n\ndefineExpose({\n  /** @description scrollbar wrap ref */\n  wrap$,\n  /** @description update scrollbar state manually */\n  update,\n  /** @description scrolls to a particular set of coordinates */\n  scrollTo,\n  /** @description set distance to scroll top */\n  setScrollTop,\n  /** @description set distance to scroll left */\n  setScrollLeft,\n  /** @description handle scroll event */\n  handleScroll,\n})\n</script>\n","import { withInstall } from '@element-plus/utils'\n\nimport Scrollbar from './src/scrollbar.vue'\n\nexport const ElScrollbar = withInstall(Scrollbar)\nexport default ElScrollbar\n\nexport * from './src/util'\nexport * from './src/scrollbar'\nexport * from './src/thumb'\n","import { createPopper } from '@popperjs/core'\nimport { get } from 'lodash-unified'\nimport escapeHtml from 'escape-html'\nimport { hasOwn, off, on } from '@element-plus/utils'\nimport { useZIndex } from '@element-plus/hooks'\nimport type {\n  IPopperOptions,\n  PopperInstance,\n} from '@element-plus/components/popper'\nimport type { Nullable } from '@element-plus/utils'\nimport type { TableColumnCtx } from './table-column/defaults'\n\nexport const getCell = function (event: Event): HTMLElement {\n  let cell = event.target as HTMLElement\n\n  while (cell && cell.tagName.toUpperCase() !== 'HTML') {\n    if (cell.tagName.toUpperCase() === 'TD') {\n      return cell\n    }\n    cell = cell.parentNode as HTMLElement\n  }\n\n  return null\n}\n\nconst isObject = function (obj: unknown): boolean {\n  return obj !== null && typeof obj === 'object'\n}\n\nexport const orderBy = function <T>(\n  array: T[],\n  sortKey: string,\n  reverse: string | number,\n  sortMethod,\n  sortBy: string | (string | ((a: T, b: T, array?: T[]) => number))[]\n) {\n  if (\n    !sortKey &&\n    !sortMethod &&\n    (!sortBy || (Array.isArray(sortBy) && !sortBy.length))\n  ) {\n    return array\n  }\n  if (typeof reverse === 'string') {\n    reverse = reverse === 'descending' ? -1 : 1\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1\n  }\n  const getKey = sortMethod\n    ? null\n    : function (value, index) {\n        if (sortBy) {\n          if (!Array.isArray(sortBy)) {\n            sortBy = [sortBy]\n          }\n          return sortBy.map((by) => {\n            if (typeof by === 'string') {\n              return get(value, by)\n            } else {\n              return by(value, index, array)\n            }\n          })\n        }\n        if (sortKey !== '$key') {\n          if (isObject(value) && '$value' in value) value = value.$value\n        }\n        return [isObject(value) ? get(value, sortKey) : value]\n      }\n  const compare = function (a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value)\n    }\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1\n      }\n      if (a.key[i] > b.key[i]) {\n        return 1\n      }\n    }\n    return 0\n  }\n  return array\n    .map((value, index) => {\n      return {\n        value,\n        index,\n        key: getKey ? getKey(value, index) : null,\n      }\n    })\n    .sort((a, b) => {\n      let order = compare(a, b)\n      if (!order) {\n        // make stable https://en.wikipedia.org/wiki/Sorting_algorithm#Stability\n        order = a.index - b.index\n      }\n      return order * +reverse\n    })\n    .map((item) => item.value)\n}\n\nexport const getColumnById = function <T>(\n  table: {\n    columns: TableColumnCtx<T>[]\n  },\n  columnId: string\n): null | TableColumnCtx<T> {\n  let column = null\n  table.columns.forEach((item) => {\n    if (item.id === columnId) {\n      column = item\n    }\n  })\n  return column\n}\n\nexport const getColumnByKey = function <T>(\n  table: {\n    columns: TableColumnCtx<T>[]\n  },\n  columnKey: string\n): TableColumnCtx<T> {\n  let column = null\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i]\n    if (item.columnKey === columnKey) {\n      column = item\n      break\n    }\n  }\n  return column\n}\n\nexport const getColumnByCell = function <T>(\n  table: {\n    columns: TableColumnCtx<T>[]\n  },\n  cell: HTMLElement,\n  namespace: string\n): null | TableColumnCtx<T> {\n  const matches = (cell.className || '').match(\n    new RegExp(`${namespace}-table_[^\\\\s]+`, 'gm')\n  )\n  if (matches) {\n    return getColumnById(table, matches[0])\n  }\n  return null\n}\n\nexport const getRowIdentity = <T>(\n  row: T,\n  rowKey: string | ((row: T) => any)\n): string => {\n  if (!row) throw new Error('Row is required when get row identity')\n  if (typeof rowKey === 'string') {\n    if (!rowKey.includes('.')) {\n      return `${row[rowKey]}`\n    }\n    const key = rowKey.split('.')\n    let current = row\n    for (const element of key) {\n      current = current[element]\n    }\n    return `${current}`\n  } else if (typeof rowKey === 'function') {\n    return rowKey.call(null, row)\n  }\n}\n\nexport const getKeysMap = function <T>(\n  array: T[],\n  rowKey: string\n): Record<string, { row: T; index: number }> {\n  const arrayMap = {}\n  ;(array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = { row, index }\n  })\n  return arrayMap\n}\n\nexport function mergeOptions<T, K>(defaults: T, config: K): T & K {\n  const options = {} as T & K\n  let key\n  for (key in defaults) {\n    options[key] = defaults[key]\n  }\n  for (key in config) {\n    if (hasOwn(config as unknown as Record<string, any>, key)) {\n      const value = config[key]\n      if (typeof value !== 'undefined') {\n        options[key] = value\n      }\n    }\n  }\n  return options\n}\n\nexport function parseWidth(width: number | string): number | string {\n  if (width === '') return width\n  if (width !== undefined) {\n    width = Number.parseInt(width as string, 10)\n    if (Number.isNaN(width)) {\n      width = ''\n    }\n  }\n  return width\n}\n\nexport function parseMinWidth(minWidth: number | string): number | string {\n  if (minWidth === '') return minWidth\n  if (minWidth !== undefined) {\n    minWidth = parseWidth(minWidth)\n    if (Number.isNaN(minWidth)) {\n      minWidth = 80\n    }\n  }\n  return minWidth\n}\n\nexport function parseHeight(height: number | string) {\n  if (typeof height === 'number') {\n    return height\n  }\n  if (typeof height === 'string') {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return Number.parseInt(height, 10)\n    } else {\n      return height\n    }\n  }\n  return null\n}\n\n// https://github.com/reduxjs/redux/blob/master/src/compose.js\nexport function compose(...funcs) {\n  if (funcs.length === 0) {\n    return (arg) => arg\n  }\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n  return funcs.reduce(\n    (a, b) =>\n      (...args) =>\n        a(b(...args))\n  )\n}\n\nexport function toggleRowStatus<T>(\n  statusArr: T[],\n  row: T,\n  newVal: boolean\n): boolean {\n  let changed = false\n  const index = statusArr.indexOf(row)\n  const included = index !== -1\n\n  const addRow = () => {\n    statusArr.push(row)\n    changed = true\n  }\n  const removeRow = () => {\n    statusArr.splice(index, 1)\n    changed = true\n  }\n\n  if (typeof newVal === 'boolean') {\n    if (newVal && !included) {\n      addRow()\n    } else if (!newVal && included) {\n      removeRow()\n    }\n  } else {\n    if (included) {\n      removeRow()\n    } else {\n      addRow()\n    }\n  }\n  return changed\n}\n\nexport function walkTreeNode(\n  root,\n  cb,\n  childrenKey = 'children',\n  lazyKey = 'hasChildren'\n) {\n  const isNil = (array) => !(Array.isArray(array) && array.length)\n\n  function _walker(parent, children, level) {\n    cb(parent, children, level)\n    children.forEach((item) => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1)\n        return\n      }\n      const children = item[childrenKey]\n      if (!isNil(children)) {\n        _walker(item, children, level + 1)\n      }\n    })\n  }\n\n  root.forEach((item) => {\n    if (item[lazyKey]) {\n      cb(item, null, 0)\n      return\n    }\n    const children = item[childrenKey]\n    if (!isNil(children)) {\n      _walker(item, children, 0)\n    }\n  })\n}\n\nexport let removePopper\n\nexport function createTablePopper(\n  parentNode: HTMLElement | undefined,\n  trigger: HTMLElement,\n  popperContent: string,\n  popperOptions: Partial<IPopperOptions>,\n  tooltipEffect: string\n) {\n  const { nextZIndex } = useZIndex()\n  const ns = parentNode?.dataset.prefix\n  const scrollContainer = parentNode?.querySelector(`.${ns}-scrollbar__wrap`)\n  function renderContent(): HTMLDivElement {\n    const isLight = tooltipEffect === 'light'\n    const content = document.createElement('div')\n    content.className = `${ns}-popper ${isLight ? 'is-light' : 'is-dark'}`\n    popperContent = escapeHtml(popperContent)\n    content.innerHTML = popperContent\n    content.style.zIndex = String(nextZIndex())\n    // Avoid side effects caused by append to body\n    parentNode?.appendChild(content)\n    return content\n  }\n  function renderArrow(): HTMLDivElement {\n    const arrow = document.createElement('div')\n    arrow.className = `${ns}-popper__arrow`\n    return arrow\n  }\n  function showPopper() {\n    popperInstance && popperInstance.update()\n  }\n  removePopper = () => {\n    try {\n      popperInstance && popperInstance.destroy()\n      content && parentNode?.removeChild(content)\n      off(trigger, 'mouseenter', showPopper)\n      off(trigger, 'mouseleave', removePopper)\n      if (scrollContainer) {\n        off(scrollContainer, 'scroll', removePopper)\n      }\n      removePopper = undefined\n    } catch {}\n  }\n  let popperInstance: Nullable<PopperInstance> = null\n  const content = renderContent()\n  const arrow = renderArrow()\n  content.appendChild(arrow)\n  popperInstance = createPopper(trigger, content, {\n    strategy: 'absolute',\n    modifiers: [\n      {\n        name: 'offset',\n        options: {\n          offset: [0, 8],\n        },\n      },\n      {\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 10,\n        },\n      },\n    ],\n    ...popperOptions,\n  })\n  on(trigger, 'mouseenter', showPopper)\n  on(trigger, 'mouseleave', removePopper)\n  if (scrollContainer) {\n    on(scrollContainer, 'scroll', removePopper)\n  }\n  return popperInstance\n}\n\nexport const isFixedColumn = <T>(\n  index: number,\n  fixed: string | boolean,\n  store: any,\n  realColumns?: TableColumnCtx<T>[]\n) => {\n  let start = 0\n  let after = index\n  if (realColumns) {\n    if (realColumns[index].colSpan > 1) {\n      // fixed column not supported in grouped header\n      return {}\n    }\n    // handle group\n    for (let i = 0; i < index; i++) {\n      start += realColumns[i].colSpan\n    }\n    after = start + realColumns[index].colSpan - 1\n  } else {\n    start = index\n  }\n  let fixedLayout\n  const columns = store.states.columns\n  switch (fixed) {\n    case 'left':\n      if (after < store.states.fixedLeafColumnsLength.value) {\n        fixedLayout = 'left'\n      }\n      break\n    case 'right':\n      if (\n        start >=\n        columns.value.length - store.states.rightFixedLeafColumnsLength.value\n      ) {\n        fixedLayout = 'right'\n      }\n      break\n    default:\n      if (after < store.states.fixedLeafColumnsLength.value) {\n        fixedLayout = 'left'\n      } else if (\n        start >=\n        columns.value.length - store.states.rightFixedLeafColumnsLength.value\n      ) {\n        fixedLayout = 'right'\n      }\n  }\n  return fixedLayout\n    ? {\n        direction: fixedLayout,\n        start,\n        after,\n      }\n    : {}\n}\n\nexport const getFixedColumnsClass = <T>(\n  namespace: string,\n  index: number,\n  fixed: string | boolean,\n  store: any,\n  realColumns?: TableColumnCtx<T>[]\n) => {\n  const classes: string[] = []\n  const { direction, start } = isFixedColumn(index, fixed, store, realColumns)\n  if (direction) {\n    const isLeft = direction === 'left'\n    classes.push(`${namespace}-fixed-column--${direction}`)\n    if (isLeft && start === store.states.fixedLeafColumnsLength.value - 1) {\n      classes.push('is-last-column')\n    } else if (\n      !isLeft &&\n      start ===\n        store.states.columns.value.length -\n          store.states.rightFixedLeafColumnsLength.value\n    ) {\n      classes.push('is-first-column')\n    }\n  }\n  return classes\n}\n\nfunction getOffset<T>(offset: number, column: TableColumnCtx<T>) {\n  return (\n    offset +\n    (column.realWidth === null || Number.isNaN(column.realWidth)\n      ? Number(column.width)\n      : column.realWidth)\n  )\n}\n\nexport const getFixedColumnOffset = <T>(\n  index: number,\n  fixed: string | boolean,\n  store: any,\n  realColumns?: TableColumnCtx<T>[]\n) => {\n  const { direction, start = 0 } = isFixedColumn(\n    index,\n    fixed,\n    store,\n    realColumns\n  )\n  if (!direction) {\n    return\n  }\n  const styles: any = {}\n  const isLeft = direction === 'left'\n  const columns = store.states.columns.value\n  if (isLeft) {\n    styles.left = columns.slice(0, index).reduce(getOffset, 0)\n  } else {\n    styles.right = columns\n      .slice(start + 1)\n      .reverse()\n      .reduce(getOffset, 0)\n  }\n  return styles\n}\n\nexport const ensurePosition = (style, key: string) => {\n  if (!style) return\n  if (!Number.isNaN(style[key])) {\n    style[key] = `${style[key]}px`\n  }\n}\n","import { getCurrentInstance, ref } from 'vue'\nimport { getKeysMap, getRowIdentity, toggleRowStatus } from '../util'\n\nimport type { Ref } from 'vue'\nimport type { WatcherPropsData } from '.'\nimport type { Table } from '../table/defaults'\n\nfunction useExpand<T>(watcherData: WatcherPropsData<T>) {\n  const instance = getCurrentInstance() as Table<T>\n  const defaultExpandAll = ref(false)\n  const expandRows: Ref<T[]> = ref([])\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || []\n    const rowKey = watcherData.rowKey.value\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice()\n    } else if (rowKey) {\n      // TODO：这里的代码可以优化\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey)\n      expandRows.value = data.reduce((prev: T[], row: T) => {\n        const rowId = getRowIdentity(row, rowKey)\n        const rowInfo = expandRowsMap[rowId]\n        if (rowInfo) {\n          prev.push(row)\n        }\n        return prev\n      }, [])\n    } else {\n      expandRows.value = []\n    }\n  }\n\n  const toggleRowExpansion = (row: T, expanded?: boolean) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded)\n    if (changed) {\n      instance.emit('expand-change', row, expandRows.value.slice())\n    }\n  }\n\n  const setExpandRowKeys = (rowKeys: string[]) => {\n    instance.store.assertRowKey()\n    // TODO：这里的代码可以优化\n    const data = watcherData.data.value || []\n    const rowKey = watcherData.rowKey.value\n    const keysMap = getKeysMap(data, rowKey)\n    expandRows.value = rowKeys.reduce((prev: T[], cur: string) => {\n      const info = keysMap[cur]\n      if (info) {\n        prev.push(info.row)\n      }\n      return prev\n    }, [])\n  }\n\n  const isRowExpanded = (row: T): boolean => {\n    const rowKey = watcherData.rowKey.value\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey)\n      return !!expandMap[getRowIdentity(row, rowKey)]\n    }\n    return expandRows.value.includes(row)\n  }\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll,\n    },\n  }\n}\n\nexport default useExpand\n","import { getCurrentInstance, ref, unref } from 'vue'\nimport { getRowIdentity } from '../util'\n\nimport type { Ref } from 'vue'\nimport type { Table } from '../table/defaults'\nimport type { WatcherPropsData } from '.'\n\nfunction useCurrent<T>(watcherData: WatcherPropsData<T>) {\n  const instance = getCurrentInstance() as Table<T>\n  const _currentRowKey = ref<string>(null)\n  const currentRow: Ref<T> = ref(null)\n\n  const setCurrentRowKey = (key: string) => {\n    instance.store.assertRowKey()\n    _currentRowKey.value = key\n    setCurrentRowByKey(key)\n  }\n\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null\n  }\n\n  const setCurrentRowByKey = (key: string) => {\n    const { data, rowKey } = watcherData\n    let _currentRow = null\n    if (rowKey.value) {\n      _currentRow = (unref(data) || []).find(\n        (item) => getRowIdentity(item, rowKey.value) === key\n      )\n    }\n    currentRow.value = _currentRow\n    instance.emit('current-change', currentRow.value, null)\n  }\n\n  const updateCurrentRow = (_currentRow: T) => {\n    const oldCurrentRow = currentRow.value\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow\n      instance.emit('current-change', currentRow.value, oldCurrentRow)\n      return\n    }\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null\n      instance.emit('current-change', null, oldCurrentRow)\n    }\n  }\n\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value\n    // data 为 null 时，解构时的默认值会被忽略\n    const data = watcherData.data.value || []\n    const oldCurrentRow = currentRow.value\n    // 当 currentRow 不在 data 中时尝试更新数据\n    if (!data.includes(oldCurrentRow) && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey)\n        setCurrentRowByKey(currentRowKey)\n      } else {\n        currentRow.value = null\n      }\n      if (currentRow.value === null) {\n        instance.emit('current-change', null, oldCurrentRow)\n      }\n    } else if (_currentRowKey.value) {\n      // 把初始时下设置的 rowKey 转化成 rowData\n      setCurrentRowByKey(_currentRowKey.value)\n      restoreCurrentRowKey()\n    }\n  }\n\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow,\n    },\n  }\n}\n\nexport default useCurrent\n","import { computed, getCurrentInstance, ref, unref, watch } from 'vue'\nimport { getRowIdentity, walkTreeNode } from '../util'\n\nimport type { WatcherPropsData } from '.'\nimport type { Table, TableProps } from '../table/defaults'\n\nfunction useTree<T>(watcherData: WatcherPropsData<T>) {\n  const expandRowKeys = ref<string[]>([])\n  const treeData = ref<unknown>({})\n  const indent = ref(16)\n  const lazy = ref(false)\n  const lazyTreeNodeMap = ref({})\n  const lazyColumnIdentifier = ref('hasChildren')\n  const childrenColumnName = ref('children')\n  const instance = getCurrentInstance() as Table<T>\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value) return {}\n    const data = watcherData.data.value || []\n    return normalize(data)\n  })\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value\n    const keys = Object.keys(lazyTreeNodeMap.value)\n    const res = {}\n    if (!keys.length) return res\n    keys.forEach((key) => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = { children: [] }\n        lazyTreeNodeMap.value[key].forEach((row) => {\n          const currentRowKey = getRowIdentity(row, rowKey)\n          item.children.push(currentRowKey)\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = { children: [] }\n          }\n        })\n        res[key] = item\n      }\n    })\n    return res\n  })\n\n  const normalize = (data) => {\n    const rowKey = watcherData.rowKey.value\n    const res = {}\n    walkTreeNode(\n      data,\n      (parent, children, level) => {\n        const parentId = getRowIdentity(parent, rowKey)\n        if (Array.isArray(children)) {\n          res[parentId] = {\n            children: children.map((row) => getRowIdentity(row, rowKey)),\n            level,\n          }\n        } else if (lazy.value) {\n          // 当 children 不存在且 lazy 为 true，该节点即为懒加载的节点\n          res[parentId] = {\n            children: [],\n            lazy: true,\n            level,\n          }\n        }\n      },\n      childrenColumnName.value,\n      lazyColumnIdentifier.value\n    )\n    return res\n  }\n\n  const updateTreeData = (\n    ifChangeExpandRowKeys = false,\n    ifExpandAll = instance.store?.states.defaultExpandAll.value\n  ) => {\n    const nested = normalizedData.value\n    const normalizedLazyNode_ = normalizedLazyNode.value\n    const keys = Object.keys(nested)\n    const newTreeData = {}\n    if (keys.length) {\n      const oldTreeData = unref(treeData)\n      const rootLazyRowKeys = []\n      const getExpanded = (oldValue, key) => {\n        if (ifChangeExpandRowKeys) {\n          if (expandRowKeys.value) {\n            return ifExpandAll || expandRowKeys.value.includes(key)\n          } else {\n            return !!(ifExpandAll || oldValue?.expanded)\n          }\n        } else {\n          const included =\n            ifExpandAll ||\n            (expandRowKeys.value && expandRowKeys.value.includes(key))\n          return !!(oldValue?.expanded || included)\n        }\n      }\n      // 合并 expanded 与 display，确保数据刷新后，状态不变\n      keys.forEach((key) => {\n        const oldValue = oldTreeData[key]\n        const newValue = { ...nested[key] }\n        newValue.expanded = getExpanded(oldValue, key)\n        if (newValue.lazy) {\n          const { loaded = false, loading = false } = oldValue || {}\n          newValue.loaded = !!loaded\n          newValue.loading = !!loading\n          rootLazyRowKeys.push(key)\n        }\n        newTreeData[key] = newValue\n      })\n      // 根据懒加载数据更新 treeData\n      const lazyKeys = Object.keys(normalizedLazyNode_)\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach((key) => {\n          const oldValue = oldTreeData[key]\n          const lazyNodeChildren = normalizedLazyNode_[key].children\n          if (rootLazyRowKeys.includes(key)) {\n            // 懒加载的 root 节点，更新一下原有的数据，原来的 children 一定是空数组\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error('[ElTable]children must be an empty array.')\n            }\n            newTreeData[key].children = lazyNodeChildren\n          } else {\n            const { loaded = false, loading = false } = oldValue || {}\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: '',\n            }\n          }\n        })\n      }\n    }\n    treeData.value = newTreeData\n    instance.store?.updateTableScrollY()\n  }\n\n  watch(\n    () => expandRowKeys.value,\n    () => {\n      updateTreeData(true)\n    }\n  )\n\n  watch(\n    () => normalizedData.value,\n    () => {\n      updateTreeData()\n    }\n  )\n  watch(\n    () => normalizedLazyNode.value,\n    () => {\n      updateTreeData()\n    }\n  )\n\n  const updateTreeExpandKeys = (value: string[]) => {\n    expandRowKeys.value = value\n    updateTreeData()\n  }\n\n  const toggleTreeExpansion = (row: T, expanded?: boolean) => {\n    instance.store.assertRowKey()\n\n    const rowKey = watcherData.rowKey.value\n    const id = getRowIdentity(row, rowKey)\n    const data = id && treeData.value[id]\n    if (id && data && 'expanded' in data) {\n      const oldExpanded = data.expanded\n      expanded = typeof expanded === 'undefined' ? !data.expanded : expanded\n      treeData.value[id].expanded = expanded\n      if (oldExpanded !== expanded) {\n        instance.emit('expand-change', row, expanded)\n      }\n      instance.store.updateTableScrollY()\n    }\n  }\n\n  const loadOrToggle = (row) => {\n    instance.store.assertRowKey()\n    const rowKey = watcherData.rowKey.value\n    const id = getRowIdentity(row, rowKey)\n    const data = treeData.value[id]\n    if (lazy.value && data && 'loaded' in data && !data.loaded) {\n      loadData(row, id, data)\n    } else {\n      toggleTreeExpansion(row, undefined)\n    }\n  }\n\n  const loadData = (row: T, key: string, treeNode) => {\n    const { load } = instance.props as unknown as TableProps<T>\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true\n      load(row, treeNode, (data) => {\n        if (!Array.isArray(data)) {\n          throw new TypeError('[ElTable] data must be an array')\n        }\n        treeData.value[key].loading = false\n        treeData.value[key].loaded = true\n        treeData.value[key].expanded = true\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data\n        }\n        instance.emit('expand-change', row, true)\n      })\n    }\n  }\n\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName,\n    },\n  }\n}\n\nexport default useTree\n","import { getCurrentInstance, ref, toRefs, unref, watch } from 'vue'\nimport { hasOwn } from '@element-plus/utils'\nimport {\n  getColumnById,\n  getColumnByKey,\n  getKeysMap,\n  getRowIdentity,\n  orderBy,\n  toggleRowStatus,\n} from '../util'\nimport useExpand from './expand'\nimport useCurrent from './current'\nimport useTree from './tree'\n\nimport type { Ref } from 'vue'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { Table, TableRefs } from '../table/defaults'\nimport type { StoreFilter } from '.'\n\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn\n  if (!sortingColumn || typeof sortingColumn.sortable === 'string') {\n    return data\n  }\n  return orderBy(\n    data,\n    states.sortProp,\n    states.sortOrder,\n    sortingColumn.sortMethod,\n    sortingColumn.sortBy\n  )\n}\n\nconst doFlattenColumns = (columns) => {\n  const result = []\n  columns.forEach((column) => {\n    if (column.children) {\n      // eslint-disable-next-line prefer-spread\n      result.push.apply(result, doFlattenColumns(column.children))\n    } else {\n      result.push(column)\n    }\n  })\n  return result\n}\n\nfunction useWatcher<T>() {\n  const instance = getCurrentInstance() as Table<T>\n  const { size: tableSize } = toRefs(instance.proxy?.$props as any)\n  const rowKey: Ref<string> = ref(null)\n  const data: Ref<T[]> = ref([])\n  const _data: Ref<T[]> = ref([])\n  const isComplex = ref(false)\n  const _columns: Ref<TableColumnCtx<T>[]> = ref([])\n  const originColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const columns: Ref<TableColumnCtx<T>[]> = ref([])\n  const fixedColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const rightFixedColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const leafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const fixedLeafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const rightFixedLeafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const leafColumnsLength = ref(0)\n  const fixedLeafColumnsLength = ref(0)\n  const rightFixedLeafColumnsLength = ref(0)\n  const isAllSelected = ref(false)\n  const selection: Ref<T[]> = ref([])\n  const reserveSelection = ref(false)\n  const selectOnIndeterminate = ref(false)\n  const selectable: Ref<(row: T, index: number) => boolean> = ref(null)\n  const filters: Ref<StoreFilter> = ref({})\n  const filteredData = ref(null)\n  const sortingColumn = ref(null)\n  const sortProp = ref(null)\n  const sortOrder = ref(null)\n  const hoverRow = ref(null)\n\n  watch(data, () => instance.state && scheduleLayout(false), {\n    deep: true,\n  })\n\n  // 检查 rowKey 是否存在\n  const assertRowKey = () => {\n    if (!rowKey.value) throw new Error('[ElTable] prop row-key is required')\n  }\n\n  // 更新列\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter(\n      (column) => column.fixed === true || column.fixed === 'left'\n    )\n    rightFixedColumns.value = _columns.value.filter(\n      (column) => column.fixed === 'right'\n    )\n    if (\n      fixedColumns.value.length > 0 &&\n      _columns.value[0] &&\n      _columns.value[0].type === 'selection' &&\n      !_columns.value[0].fixed\n    ) {\n      _columns.value[0].fixed = true\n      fixedColumns.value.unshift(_columns.value[0])\n    }\n\n    const notFixedColumns = _columns.value.filter((column) => !column.fixed)\n    originColumns.value = []\n      .concat(fixedColumns.value)\n      .concat(notFixedColumns)\n      .concat(rightFixedColumns.value)\n    const leafColumns = doFlattenColumns(notFixedColumns)\n    const fixedLeafColumns = doFlattenColumns(fixedColumns.value)\n    const rightFixedLeafColumns = doFlattenColumns(rightFixedColumns.value)\n\n    leafColumnsLength.value = leafColumns.length\n    fixedLeafColumnsLength.value = fixedLeafColumns.length\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns.length\n\n    columns.value = []\n      .concat(fixedLeafColumns)\n      .concat(leafColumns)\n      .concat(rightFixedLeafColumns)\n    isComplex.value =\n      fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0\n  }\n\n  // 更新 DOM\n  const scheduleLayout = (needUpdateColumns?: boolean, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns()\n    }\n    if (immediate) {\n      instance.state.doLayout()\n    } else {\n      instance.state.debouncedUpdateLayout()\n    }\n  }\n\n  // 选择\n  const isSelected = (row) => {\n    return selection.value.includes(row)\n  }\n\n  const clearSelection = () => {\n    isAllSelected.value = false\n    const oldSelection = selection.value\n    if (oldSelection.length) {\n      selection.value = []\n      instance.emit('selection-change', [])\n    }\n  }\n\n  const cleanSelection = () => {\n    let deleted\n    if (rowKey.value) {\n      deleted = []\n      const selectedMap = getKeysMap(selection.value, rowKey.value)\n      const dataMap = getKeysMap(data.value, rowKey.value)\n      for (const key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row)\n        }\n      }\n    } else {\n      deleted = selection.value.filter((item) => !data.value.includes(item))\n    }\n    if (deleted.length) {\n      const newSelection = selection.value.filter(\n        (item) => !deleted.includes(item)\n      )\n      selection.value = newSelection\n      instance.emit('selection-change', newSelection.slice())\n    }\n  }\n\n  const getSelectionRows = () => {\n    return (selection.value || []).slice()\n  }\n\n  const toggleRowSelection = (\n    row: T,\n    selected = undefined,\n    emitChange = true\n  ) => {\n    const changed = toggleRowStatus(selection.value, row, selected)\n    if (changed) {\n      const newSelection = (selection.value || []).slice()\n      // 调用 API 修改选中值，不触发 select 事件\n      if (emitChange) {\n        instance.emit('select', newSelection, row)\n      }\n      instance.emit('selection-change', newSelection)\n    }\n  }\n\n  const _toggleAllSelection = () => {\n    // when only some rows are selected (but not all), select or deselect all of them\n    // depending on the value of selectOnIndeterminate\n    const value = selectOnIndeterminate.value\n      ? !isAllSelected.value\n      : !(isAllSelected.value || selection.value.length)\n    isAllSelected.value = value\n\n    let selectionChanged = false\n    let childrenCount = 0\n    const rowKey = instance?.store?.states?.rowKey.value\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount\n      if (selectable.value) {\n        if (\n          selectable.value.call(null, row, rowIndex) &&\n          toggleRowStatus(selection.value, row, value)\n        ) {\n          selectionChanged = true\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true\n        }\n      }\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey))\n    })\n\n    if (selectionChanged) {\n      instance.emit(\n        'selection-change',\n        selection.value ? selection.value.slice() : []\n      )\n    }\n    instance.emit('select-all', selection.value)\n  }\n\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value)\n    data.value.forEach((row) => {\n      const rowId = getRowIdentity(row, rowKey.value)\n      const rowInfo = selectedMap[rowId]\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row\n      }\n    })\n  }\n\n  const updateAllSelected = () => {\n    // data 为 null 时，解构时的默认值会被忽略\n    if (data.value?.length === 0) {\n      isAllSelected.value = false\n      return\n    }\n\n    let selectedMap\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value)\n    }\n    const isSelected = function (row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)]\n      } else {\n        return selection.value.includes(row)\n      }\n    }\n    let isAllSelected_ = true\n    let selectedCount = 0\n    let childrenCount = 0\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const keyProp = instance?.store?.states?.rowKey.value\n      const rowIndex = i + childrenCount\n      const item = data.value[i]\n      const isRowSelectable =\n        selectable.value && selectable.value.call(null, item, rowIndex)\n      if (!isSelected(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false\n          break\n        }\n      } else {\n        selectedCount++\n      }\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp))\n    }\n\n    if (selectedCount === 0) isAllSelected_ = false\n    isAllSelected.value = isAllSelected_\n  }\n\n  // gets the number of all child nodes by rowKey\n  const getChildrenCount = (rowKey: string) => {\n    if (!instance || !instance.store) return 0\n    const { treeData } = instance.store.states\n    let count = 0\n    const children = treeData.value[rowKey]?.children\n    if (children) {\n      count += children.length\n      children.forEach((childKey) => {\n        count += getChildrenCount(childKey)\n      })\n    }\n    return count\n  }\n\n  // 过滤与排序\n  const updateFilters = (columns, values) => {\n    if (!Array.isArray(columns)) {\n      columns = [columns]\n    }\n    const filters_ = {}\n    columns.forEach((col) => {\n      filters.value[col.id] = values\n      filters_[col.columnKey || col.id] = values\n    })\n    return filters_\n  }\n\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null\n    }\n    sortingColumn.value = column\n    sortProp.value = prop\n    sortOrder.value = order\n  }\n\n  const execFilter = () => {\n    let sourceData = unref(_data)\n    Object.keys(filters.value).forEach((columnId) => {\n      const values = filters.value[columnId]\n      if (!values || values.length === 0) return\n      const column = getColumnById(\n        {\n          columns: columns.value,\n        },\n        columnId\n      )\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter((row) => {\n          return values.some((value) =>\n            column.filterMethod.call(null, value, row, column)\n          )\n        })\n      }\n    })\n\n    filteredData.value = sourceData\n  }\n\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value,\n    })\n  }\n\n  // 根据 filters 与 sort 去过滤 data\n  const execQuery = (ignore = undefined) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter()\n    }\n    execSort()\n  }\n\n  const clearFilter = (columnKeys) => {\n    const { tableHeaderRef } = instance.refs as TableRefs\n    if (!tableHeaderRef) return\n    const panels = Object.assign({}, tableHeaderRef.filterPanels)\n\n    const keys = Object.keys(panels)\n    if (!keys.length) return\n\n    if (typeof columnKeys === 'string') {\n      columnKeys = [columnKeys]\n    }\n\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map((key) =>\n        getColumnByKey(\n          {\n            columns: columns.value,\n          },\n          key\n        )\n      )\n      keys.forEach((key) => {\n        const column = columns_.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n      instance.store.commit('filterChange', {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true,\n      })\n    } else {\n      keys.forEach((key) => {\n        const column = columns.value.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n\n      filters.value = {}\n      instance.store.commit('filterChange', {\n        column: {},\n        values: [],\n        silent: true,\n      })\n    }\n  }\n\n  const clearSort = () => {\n    if (!sortingColumn.value) return\n\n    updateSort(null, null, null)\n    instance.store.commit('changeSortCondition', {\n      silent: true,\n    })\n  }\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded,\n  } = useExpand({\n    data,\n    rowKey,\n  })\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    updateTreeData,\n    loadOrToggle,\n    states: treeStates,\n  } = useTree({\n    data,\n    rowKey,\n  })\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData,\n  } = useCurrent({\n    data,\n    rowKey,\n  })\n  // 适配层，expand-row-keys 在 Expand 与 TreeTable 中都有使用\n  const setExpandRowKeysAdapter = (val: string[]) => {\n    // 这里会触发额外的计算，但为了兼容性，暂时这么做\n    setExpandRowKeys(val)\n    updateTreeExpandKeys(val)\n  }\n\n  // 展开行与 TreeTable 都要使用\n  const toggleRowExpansionAdapter = (row: T, expanded: boolean) => {\n    const hasExpandColumn = columns.value.some(({ type }) => type === 'expand')\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded)\n    } else {\n      toggleTreeExpansion(row, expanded)\n    }\n  }\n\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    getSelectionRows,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    updateTreeData,\n    states: {\n      tableSize,\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow,\n      ...expandStates,\n      ...treeStates,\n      ...currentData,\n    },\n  }\n}\n\nexport default useWatcher\n","import { getCurrentInstance, nextTick, unref } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport useWatcher from './watcher'\n\nimport type { Ref } from 'vue'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { Filter, Sort, Table } from '../table/defaults'\n\ninterface WatcherPropsData<T> {\n  data: Ref<T[]>\n  rowKey: Ref<string>\n}\n\nfunction replaceColumn<T>(\n  array: TableColumnCtx<T>[],\n  column: TableColumnCtx<T>\n) {\n  return array.map((item) => {\n    if (item.id === column.id) {\n      return column\n    } else if (item.children?.length) {\n      item.children = replaceColumn(item.children, column)\n    }\n    return item\n  })\n}\n\nfunction sortColumn<T>(array: TableColumnCtx<T>[]) {\n  array.forEach((item) => {\n    item.no = item.getColumnIndex?.()\n    if (item.children?.length) {\n      sortColumn(item.children)\n    }\n  })\n  array.sort((cur, pre) => cur.no - pre.no)\n}\n\nfunction useStore<T>() {\n  const instance = getCurrentInstance() as Table<T>\n  const watcher = useWatcher<T>()\n  const ns = useNamespace('table')\n  type StoreStates = typeof watcher.states\n  const mutations = {\n    setData(states: StoreStates, data: T[]) {\n      const dataInstanceChanged = unref(states._data) !== data\n      states.data.value = data\n      states._data.value = data\n      instance.store.execQuery()\n      // 数据变化，更新部分数据。\n      // 没有使用 computed，而是手动更新部分数据 https://github.com/vuejs/vue/issues/6660#issuecomment-331417140\n      instance.store.updateCurrentRowData()\n      instance.store.updateExpandRows()\n      instance.store.updateTreeData(\n        instance.store.states.defaultExpandAll.value\n      )\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey()\n        instance.store.updateSelectionByRowKey()\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection()\n        } else {\n          instance.store.cleanSelection()\n        }\n      }\n      instance.store.updateAllSelected()\n      if (instance.$ready) {\n        instance.store.scheduleLayout()\n      }\n    },\n\n    insertColumn(\n      states: StoreStates,\n      column: TableColumnCtx<T>,\n      parent: TableColumnCtx<T>\n    ) {\n      const array = unref(states._columns)\n      let newColumns = []\n      if (!parent) {\n        array.push(column)\n        newColumns = array\n      } else {\n        if (parent && !parent.children) {\n          parent.children = []\n        }\n        parent.children.push(column)\n        newColumns = replaceColumn(array, parent)\n      }\n      sortColumn(newColumns)\n      states._columns.value = newColumns\n      if (column.type === 'selection') {\n        states.selectable.value = column.selectable\n        states.reserveSelection.value = column.reserveSelection\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns() // hack for dynamics insert column\n        instance.store.scheduleLayout()\n      }\n    },\n\n    removeColumn(\n      states: StoreStates,\n      column: TableColumnCtx<T>,\n      parent: TableColumnCtx<T>\n    ) {\n      const array = unref(states._columns) || []\n      if (parent) {\n        parent.children.splice(\n          parent.children.findIndex((item) => item.id === column.id),\n          1\n        )\n        if (parent.children.length === 0) {\n          delete parent.children\n        }\n        states._columns.value = replaceColumn(array, parent)\n      } else {\n        const index = array.indexOf(column)\n        if (index > -1) {\n          array.splice(index, 1)\n          states._columns.value = array\n        }\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns() // hack for dynamics remove column\n        instance.store.scheduleLayout()\n      }\n    },\n\n    sort(states: StoreStates, options: Sort) {\n      const { prop, order, init } = options\n      if (prop) {\n        const column = unref(states.columns).find(\n          (column) => column.property === prop\n        )\n        if (column) {\n          column.order = order\n          instance.store.updateSort(column, prop, order)\n          instance.store.commit('changeSortCondition', { init })\n        }\n      }\n    },\n\n    changeSortCondition(states: StoreStates, options: Sort) {\n      // 修复 pr https://github.com/ElemeFE/element/pull/15012 导致的 bug\n      const { sortingColumn: column, sortProp: prop, sortOrder: order } = states\n      if (unref(order) === null) {\n        states.sortingColumn.value = null\n        states.sortProp.value = null\n      }\n      const ingore = { filter: true }\n      instance.store.execQuery(ingore)\n\n      if (!options || !(options.silent || options.init)) {\n        instance.emit('sort-change', {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order),\n        })\n      }\n\n      instance.store.updateTableScrollY()\n    },\n\n    filterChange(_states: StoreStates, options: Filter<T>) {\n      const { column, values, silent } = options\n      const newFilters = instance.store.updateFilters(column, values)\n      instance.store.execQuery()\n\n      if (!silent) {\n        instance.emit('filter-change', newFilters)\n      }\n      instance.store.updateTableScrollY()\n    },\n\n    toggleAllSelection() {\n      instance.store.toggleAllSelection()\n    },\n\n    rowSelectedChanged(_states, row: T) {\n      instance.store.toggleRowSelection(row)\n      instance.store.updateAllSelected()\n    },\n\n    setHoverRow(states: StoreStates, row: T) {\n      states.hoverRow.value = row\n    },\n\n    setCurrentRow(_states, row: T) {\n      instance.store.updateCurrentRow(row)\n    },\n  }\n  const commit = function (name: keyof typeof mutations, ...args) {\n    const mutations = instance.store.mutations\n    if (mutations[name]) {\n      mutations[name].apply(instance, [instance.store.states].concat(args))\n    } else {\n      throw new Error(`Action not found: ${name}`)\n    }\n  }\n  const updateTableScrollY = function () {\n    nextTick(() => instance.layout.updateScrollY.apply(instance.layout))\n  }\n  return {\n    ns,\n    ...watcher,\n    mutations,\n    commit,\n    updateTableScrollY,\n  }\n}\nexport default useStore\n\nclass HelperStore<T> {\n  Return = useStore<T>()\n}\ntype StoreFilter = Record<string, string[]>\ntype Store<T> = HelperStore<T>['Return']\nexport type { WatcherPropsData, Store, StoreFilter }\n","import { watch } from 'vue'\nimport { debounce } from 'lodash-unified'\nimport useStore from '.'\n\nimport type { Store } from '.'\nimport type { Table, TableProps } from '../table/defaults'\n\nconst InitialStateMap = {\n  rowKey: 'rowKey',\n  defaultExpandAll: 'defaultExpandAll',\n  selectOnIndeterminate: 'selectOnIndeterminate',\n  indent: 'indent',\n  lazy: 'lazy',\n  data: 'data',\n  ['treeProps.hasChildren']: {\n    key: 'lazyColumnIdentifier',\n    default: 'hasChildren',\n  },\n  ['treeProps.children']: {\n    key: 'childrenColumnName',\n    default: 'children',\n  },\n}\n\nexport function createStore<T>(table: Table<T>, props: TableProps<T>) {\n  if (!table) {\n    throw new Error('Table is required.')\n  }\n\n  const store = useStore<T>()\n  // fix https://github.com/ElemeFE/element/issues/14075\n  // related pr https://github.com/ElemeFE/element/pull/14146\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10)\n  Object.keys(InitialStateMap).forEach((key) => {\n    handleValue(getArrKeysValue(props, key), key, store)\n  })\n  proxyTableProps(store, props)\n  return store\n}\n\nfunction proxyTableProps<T>(store: Store<T>, props: TableProps<T>) {\n  Object.keys(InitialStateMap).forEach((key) => {\n    watch(\n      () => getArrKeysValue(props, key),\n      (value) => {\n        handleValue(value, key, store)\n      }\n    )\n  })\n}\n\nfunction handleValue<T>(value, propsKey: string, store: Store<T>) {\n  let newVal = value\n  let storeKey = InitialStateMap[propsKey]\n  if (typeof InitialStateMap[propsKey] === 'object') {\n    storeKey = storeKey.key\n    newVal = newVal || InitialStateMap[propsKey].default\n  }\n  store.states[storeKey].value = newVal\n}\n\nfunction getArrKeysValue<T>(props: TableProps<T>, keys: string) {\n  if (keys.includes('.')) {\n    const keyList = keys.split('.')\n    let value = props\n    keyList.forEach((key) => {\n      value = value[key]\n    })\n    return value\n  } else {\n    return props[keys]\n  }\n}\n","import { isRef, nextTick, ref } from 'vue'\nimport { isClient } from '@vueuse/core'\nimport { hasOwn } from '@element-plus/utils'\nimport { parseHeight } from './util'\nimport type { Ref } from 'vue'\n\nimport type { TableColumnCtx } from './table-column/defaults'\nimport type { TableHeader } from './table-header'\nimport type { Table } from './table/defaults'\nimport type { Store } from './store'\nclass TableLayout<T> {\n  observers: TableHeader[]\n  table: Table<T>\n  store: Store<T>\n  columns: TableColumnCtx<T>[]\n  fit: boolean\n  showHeader: boolean\n\n  height: Ref<null | number>\n  scrollX: Ref<boolean>\n  scrollY: Ref<boolean>\n  bodyWidth: Ref<null | number>\n  fixedWidth: Ref<null | number>\n  rightFixedWidth: Ref<null | number>\n  tableHeight: Ref<null | number>\n  headerHeight: Ref<null | number> // Table Header Height\n  appendHeight: Ref<null | number> // Append Slot Height\n  footerHeight: Ref<null | number> // Table Footer Height\n  viewportHeight: Ref<null | number> // Table Height - Scroll Bar Height\n  bodyHeight: Ref<null | number> // Table Height - Table Header Height\n  bodyScrollHeight: Ref<number>\n  fixedBodyHeight: Ref<null | number> // Table Height - Table Header Height - Scroll Bar Height\n  gutterWidth: number\n  constructor(options: Record<string, any>) {\n    this.observers = []\n    this.table = null\n    this.store = null\n    this.columns = []\n    this.fit = true\n    this.showHeader = true\n    this.height = ref(null)\n    this.scrollX = ref(false)\n    this.scrollY = ref(false)\n    this.bodyWidth = ref(null)\n    this.fixedWidth = ref(null)\n    this.rightFixedWidth = ref(null)\n    this.tableHeight = ref(null)\n    this.headerHeight = ref(44)\n    this.appendHeight = ref(0)\n    this.footerHeight = ref(44)\n    this.viewportHeight = ref(null)\n    this.bodyHeight = ref(null)\n    this.bodyScrollHeight = ref(0)\n    this.fixedBodyHeight = ref(null)\n    this.gutterWidth = 0\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name as string].value = options[name]\n        } else {\n          this[name as string] = options[name]\n        }\n      }\n    }\n    if (!this.table) {\n      throw new Error('Table is required for Table Layout')\n    }\n    if (!this.store) {\n      throw new Error('Store is required for Table Layout')\n    }\n  }\n\n  updateScrollY() {\n    const height = this.height.value\n    /**\n     * When the height is not initialized, it is null.\n     * After the table is initialized, when the height is not configured, the height is 0.\n     */\n    if (height === null) return false\n    const bodyWrapper = this.table.refs.bodyWrapper as HTMLElement\n    if (this.table.vnode.el && bodyWrapper) {\n      let scrollY = true\n      const prevScrollY = this.scrollY.value\n      /**\n       * When bodyHeight has no value,\n       * it means that the table height is not set,\n       * and the scroll bar will never appear\n       */\n      if (this.bodyHeight.value === null) {\n        scrollY = false\n      } else {\n        scrollY = bodyWrapper.scrollHeight > this.bodyHeight.value\n      }\n      this.scrollY.value = scrollY\n      return prevScrollY !== scrollY\n    }\n    return false\n  }\n\n  setHeight(value: string | number, prop = 'height') {\n    if (!isClient) return\n    const el = this.table.vnode.el\n    value = parseHeight(value)\n    this.height.value = Number(value)\n\n    if (!el && (value || value === 0))\n      return nextTick(() => this.setHeight(value, prop))\n\n    if (typeof value === 'number') {\n      el.style[prop] = `${value}px`\n      this.updateElsHeight()\n    } else if (typeof value === 'string') {\n      el.style[prop] = value\n      this.updateElsHeight()\n    }\n  }\n\n  setMaxHeight(value: string | number) {\n    this.setHeight(value, 'max-height')\n  }\n\n  getFlattenColumns(): TableColumnCtx<T>[] {\n    const flattenColumns = []\n    const columns = this.table.store.states.columns.value\n    columns.forEach((column) => {\n      if (column.isColumnGroup) {\n        // eslint-disable-next-line prefer-spread\n        flattenColumns.push.apply(flattenColumns, column.columns)\n      } else {\n        flattenColumns.push(column)\n      }\n    })\n\n    return flattenColumns\n  }\n\n  updateElsHeight() {\n    if (!this.table.$ready) return nextTick(() => this.updateElsHeight())\n    const {\n      tableWrapper,\n      headerWrapper,\n      appendWrapper,\n      footerWrapper,\n      tableHeader,\n      tableBody,\n    } = this.table.refs\n    if (tableWrapper && tableWrapper.style.display === 'none') {\n      // avoid v-show\n      return\n    }\n    const { tableLayout } = this.table.props\n    this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0\n    if (this.showHeader && !headerWrapper && tableLayout === 'fixed') {\n      return\n    }\n    const headerTrElm: HTMLElement = tableHeader ? tableHeader : null\n    const noneHeader = this.headerDisplayNone(headerTrElm)\n    const headerWrapperOffsetHeight = headerWrapper?.offsetHeight || 0\n    const headerHeight = (this.headerHeight.value = !this.showHeader\n      ? 0\n      : headerWrapperOffsetHeight)\n    if (\n      this.showHeader &&\n      !noneHeader &&\n      headerWrapperOffsetHeight > 0 &&\n      (this.table.store.states.columns.value || []).length > 0 &&\n      headerHeight < 2\n    ) {\n      return nextTick(() => this.updateElsHeight())\n    }\n    const tableHeight = (this.tableHeight.value =\n      this.table?.vnode.el?.clientHeight)\n    const footerHeight = (this.footerHeight.value = footerWrapper\n      ? footerWrapper.offsetHeight\n      : 0)\n    if (this.height.value !== null) {\n      if (this.bodyHeight.value === null) {\n        requestAnimationFrame(() => this.updateElsHeight())\n      }\n      this.bodyHeight.value =\n        tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0)\n      this.bodyScrollHeight.value = tableBody?.scrollHeight\n    }\n    this.fixedBodyHeight.value = this.scrollX.value\n      ? this.bodyHeight.value - this.gutterWidth\n      : this.bodyHeight.value\n\n    this.viewportHeight.value = this.scrollX.value\n      ? tableHeight - this.gutterWidth\n      : tableHeight\n\n    this.updateScrollY()\n    this.notifyObservers('scrollable')\n  }\n\n  headerDisplayNone(elm: HTMLElement) {\n    if (!elm) return true\n    let headerChild = elm\n    while (headerChild.tagName !== 'DIV') {\n      if (getComputedStyle(headerChild).display === 'none') {\n        return true\n      }\n      headerChild = headerChild.parentElement\n    }\n    return false\n  }\n\n  updateColumnsWidth() {\n    if (!isClient) return\n    const fit = this.fit\n    const bodyWidth = this.table.vnode.el.clientWidth\n    let bodyMinWidth = 0\n\n    const flattenColumns = this.getFlattenColumns()\n    const flexColumns = flattenColumns.filter(\n      (column) => typeof column.width !== 'number'\n    )\n    flattenColumns.forEach((column) => {\n      // Clean those columns whose width changed from flex to unflex\n      if (typeof column.width === 'number' && column.realWidth)\n        column.realWidth = null\n    })\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach((column) => {\n        bodyMinWidth += Number(column.width || column.minWidth || 80)\n      })\n      if (bodyMinWidth <= bodyWidth) {\n        // DON'T HAVE SCROLL BAR\n        this.scrollX.value = false\n\n        const totalFlexWidth = bodyWidth - bodyMinWidth\n\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth =\n            Number(flexColumns[0].minWidth || 80) + totalFlexWidth\n        } else {\n          const allColumnsWidth = flexColumns.reduce(\n            (prev, column) => prev + Number(column.minWidth || 80),\n            0\n          )\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth\n          let noneFirstWidth = 0\n\n          flexColumns.forEach((column, index) => {\n            if (index === 0) return\n            const flexWidth = Math.floor(\n              Number(column.minWidth || 80) * flexWidthPerPixel\n            )\n            noneFirstWidth += flexWidth\n            column.realWidth = Number(column.minWidth || 80) + flexWidth\n          })\n\n          flexColumns[0].realWidth =\n            Number(flexColumns[0].minWidth || 80) +\n            totalFlexWidth -\n            noneFirstWidth\n        }\n      } else {\n        // HAVE HORIZONTAL SCROLL BAR\n        this.scrollX.value = true\n        flexColumns.forEach((column) => {\n          column.realWidth = Number(column.minWidth)\n        })\n      }\n\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth)\n      this.table.state.resizeState.value.width = this.bodyWidth.value\n    } else {\n      flattenColumns.forEach((column) => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80\n        } else {\n          column.realWidth = Number(column.width || column.minWidth)\n        }\n        bodyMinWidth += column.realWidth\n      })\n      this.scrollX.value = bodyMinWidth > bodyWidth\n\n      this.bodyWidth.value = bodyMinWidth\n    }\n\n    const fixedColumns = this.store.states.fixedColumns.value\n\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0\n      fixedColumns.forEach((column) => {\n        fixedWidth += Number(column.realWidth || column.width)\n      })\n\n      this.fixedWidth.value = fixedWidth\n    }\n\n    const rightFixedColumns = this.store.states.rightFixedColumns.value\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0\n      rightFixedColumns.forEach((column) => {\n        rightFixedWidth += Number(column.realWidth || column.width)\n      })\n\n      this.rightFixedWidth.value = rightFixedWidth\n    }\n    this.notifyObservers('columns')\n  }\n\n  addObserver(observer: TableHeader) {\n    this.observers.push(observer)\n  }\n\n  removeObserver(observer: TableHeader) {\n    const index = this.observers.indexOf(observer)\n    if (index !== -1) {\n      this.observers.splice(index, 1)\n    }\n  }\n\n  notifyObservers(event: string) {\n    const observers = this.observers\n    observers.forEach((observer) => {\n      switch (event) {\n        case 'columns':\n          observer.state?.onColumnsChange(this)\n          break\n        case 'scrollable':\n          observer.state?.onScrollableChange(this)\n          break\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`)\n      }\n    })\n  }\n}\n\nexport default TableLayout\n","<template>\n  <el-tooltip\n    ref=\"tooltip\"\n    v-model:visible=\"tooltipVisible\"\n    :offset=\"0\"\n    :placement=\"placement\"\n    :show-arrow=\"false\"\n    :stop-popper-mouse-event=\"false\"\n    teleported\n    effect=\"light\"\n    pure\n    :popper-class=\"ns.b()\"\n    persistent\n  >\n    <template #content>\n      <div v-if=\"multiple\">\n        <div :class=\"ns.e('content')\">\n          <el-scrollbar :wrap-class=\"ns.e('wrap')\">\n            <el-checkbox-group\n              v-model=\"filteredValue\"\n              :class=\"ns.e('checkbox-group')\"\n            >\n              <el-checkbox\n                v-for=\"filter in filters\"\n                :key=\"filter.value\"\n                :label=\"filter.value\"\n              >\n                {{ filter.text }}\n              </el-checkbox>\n            </el-checkbox-group>\n          </el-scrollbar>\n        </div>\n        <div :class=\"ns.e('bottom')\">\n          <button\n            :class=\"{ [ns.is('disabled')]: filteredValue.length === 0 }\"\n            :disabled=\"filteredValue.length === 0\"\n            type=\"button\"\n            @click=\"handleConfirm\"\n          >\n            {{ t('el.table.confirmFilter') }}\n          </button>\n          <button type=\"button\" @click=\"handleReset\">\n            {{ t('el.table.resetFilter') }}\n          </button>\n        </div>\n      </div>\n      <ul v-else :class=\"ns.e('list')\">\n        <li\n          :class=\"[\n            ns.e('list-item'),\n            {\n              [ns.is('active')]:\n                filterValue === undefined || filterValue === null,\n            },\n          ]\"\n          @click=\"handleSelect(null)\"\n        >\n          {{ t('el.table.clearFilter') }}\n        </li>\n        <li\n          v-for=\"filter in filters\"\n          :key=\"filter.value\"\n          :class=\"[ns.e('list-item'), ns.is('active', isActive(filter))]\"\n          :label=\"filter.value\"\n          @click=\"handleSelect(filter.value)\"\n        >\n          {{ filter.text }}\n        </li>\n      </ul>\n    </template>\n    <template #default>\n      <span\n        v-click-outside:[popperPaneRef]=\"hideFilterPanel\"\n        :class=\"[\n          `${ns.namespace.value}-table__column-filter-trigger`,\n          `${ns.namespace.value}-none-outline`,\n        ]\"\n        @click=\"showFilterPanel\"\n      >\n        <el-icon>\n          <arrow-up v-if=\"column.filterOpened\" />\n          <arrow-down v-else />\n        </el-icon>\n      </span>\n    </template>\n  </el-tooltip>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, getCurrentInstance, ref, watch } from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { ArrowDown, ArrowUp } from '@element-plus/icons-vue'\nimport { ClickOutside } from '@element-plus/directives'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport ElScrollbar from '@element-plus/components/scrollbar'\nimport type { Placement } from '@element-plus/components/popper'\n\nimport type { PropType, WritableComputedRef } from 'vue'\nimport type { TableColumnCtx } from './table-column/defaults'\nimport type { TableHeader } from './table-header'\nimport type { Store } from './store'\n\nconst { CheckboxGroup: ElCheckboxGroup } = ElCheckbox\n\nexport default defineComponent({\n  name: 'ElTableFilterPanel',\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar,\n    ElTooltip,\n    ElIcon,\n    ArrowDown,\n    ArrowUp,\n  },\n  directives: { ClickOutside },\n  props: {\n    placement: {\n      type: String as PropType<Placement>,\n      default: 'bottom-start',\n    },\n    store: {\n      type: Object as PropType<Store<unknown>>,\n    },\n    column: {\n      type: Object as PropType<TableColumnCtx<unknown>>,\n    },\n    upDataColumn: {\n      type: Function,\n    },\n  },\n  setup(props) {\n    const instance = getCurrentInstance()\n    const { t } = useLocale()\n    const ns = useNamespace('table-filter')\n    const parent = instance?.parent as TableHeader\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance\n    }\n    const tooltipVisible = ref(false)\n    const tooltip = ref<InstanceType<typeof ElTooltip> | null>(null)\n    const filters = computed(() => {\n      return props.column && props.column.filters\n    })\n    const filterValue = computed({\n      get: () => (props.column?.filteredValue || [])[0],\n      set: (value: string) => {\n        if (filteredValue.value) {\n          if (typeof value !== 'undefined' && value !== null) {\n            filteredValue.value.splice(0, 1, value)\n          } else {\n            filteredValue.value.splice(0, 1)\n          }\n        }\n      },\n    })\n    const filteredValue: WritableComputedRef<unknown[]> = computed({\n      get() {\n        if (props.column) {\n          return props.column.filteredValue || []\n        }\n        return []\n      },\n      set(value: unknown[]) {\n        if (props.column) {\n          props.upDataColumn('filteredValue', value)\n        }\n      },\n    })\n    const multiple = computed(() => {\n      if (props.column) {\n        return props.column.filterMultiple\n      }\n      return true\n    })\n    const isActive = (filter) => {\n      return filter.value === filterValue.value\n    }\n    const hidden = () => {\n      tooltipVisible.value = false\n    }\n    const showFilterPanel = (e: MouseEvent) => {\n      e.stopPropagation()\n      tooltipVisible.value = !tooltipVisible.value\n    }\n    const hideFilterPanel = () => {\n      tooltipVisible.value = false\n    }\n    const handleConfirm = () => {\n      confirmFilter(filteredValue.value)\n      hidden()\n    }\n    const handleReset = () => {\n      filteredValue.value = []\n      confirmFilter(filteredValue.value)\n      hidden()\n    }\n    const handleSelect = (_filterValue?: string) => {\n      filterValue.value = _filterValue\n      if (typeof _filterValue !== 'undefined' && _filterValue !== null) {\n        confirmFilter(filteredValue.value)\n      } else {\n        confirmFilter([])\n      }\n      hidden()\n    }\n    const confirmFilter = (filteredValue: unknown[]) => {\n      props.store.commit('filterChange', {\n        column: props.column,\n        values: filteredValue,\n      })\n      props.store.updateAllSelected()\n    }\n    watch(\n      tooltipVisible,\n      (value) => {\n        // todo\n        if (props.column) {\n          props.upDataColumn('filterOpened', value)\n        }\n      },\n      {\n        immediate: true,\n      }\n    )\n\n    const popperPaneRef = computed(() => {\n      return tooltip.value?.popperRef?.contentRef\n    })\n\n    return {\n      tooltipVisible,\n      multiple,\n      filteredValue,\n      filterValue,\n      filters,\n      handleConfirm,\n      handleReset,\n      handleSelect,\n      isActive,\n      t,\n      ns,\n      showFilterPanel,\n      hideFilterPanel,\n      popperPaneRef,\n      tooltip,\n    }\n  },\n})\n</script>\n","import {\n  computed,\n  getCurrentInstance,\n  onBeforeMount,\n  onMounted,\n  onUnmounted,\n  onUpdated,\n} from 'vue'\n\nimport type { TableHeader } from './table-header'\nimport type TableLayout from './table-layout'\nimport type { Table } from './table/defaults'\n\nfunction useLayoutObserver<T>(root: Table<T>) {\n  const instance = getCurrentInstance() as TableHeader\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance)\n  })\n  onMounted(() => {\n    onColumnsChange(tableLayout.value)\n    onScrollableChange(tableLayout.value)\n  })\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value)\n    onScrollableChange(tableLayout.value)\n  })\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance)\n  })\n  const tableLayout = computed(() => {\n    const layout = root.layout as TableLayout<T>\n    if (!layout) {\n      throw new Error('Can not find table layout.')\n    }\n    return layout\n  })\n  const onColumnsChange = (layout: TableLayout<T>) => {\n    const cols = root.vnode.el?.querySelectorAll('colgroup > col') || []\n    if (!cols.length) return\n    const flattenColumns = layout.getFlattenColumns()\n    const columnsMap = {}\n    flattenColumns.forEach((column) => {\n      columnsMap[column.id] = column\n    })\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i]\n      const name = col.getAttribute('name')\n      const column = columnsMap[name]\n      if (column) {\n        col.setAttribute('width', column.realWidth || column.width)\n      }\n    }\n  }\n\n  const onScrollableChange = (layout: TableLayout<T>) => {\n    const cols =\n      root.vnode.el?.querySelectorAll('colgroup > col[name=gutter]') || []\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i]\n      col.setAttribute('width', layout.scrollY.value ? layout.gutterWidth : '0')\n    }\n    const ths = root.vnode.el?.querySelectorAll('th.gutter') || []\n    for (let i = 0, j = ths.length; i < j; i++) {\n      const th = ths[i]\n      th.style.width = layout.scrollY.value ? `${layout.gutterWidth}px` : '0'\n      th.style.display = layout.scrollY.value ? '' : 'none'\n    }\n  }\n\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange,\n  }\n}\n\nexport default useLayoutObserver\n","import type { InjectionKey } from 'vue'\nimport type { DefaultRow, Table } from './table/defaults'\n\nexport const TABLE_INJECTION_KEY: InjectionKey<Table<DefaultRow>> =\n  Symbol('ElTable')\n","import { getCurrentInstance, inject, ref } from 'vue'\nimport { isClient } from '@vueuse/core'\nimport { addClass, hasClass, removeClass } from '@element-plus/utils'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableHeaderProps } from '.'\nimport type { TableColumnCtx } from '../table-column/defaults'\n\nfunction useEvent<T>(props: TableHeaderProps<T>, emit) {\n  const instance = getCurrentInstance()\n  const parent = inject(TABLE_INJECTION_KEY)\n  const handleFilterClick = (event: Event) => {\n    event.stopPropagation()\n    return\n  }\n\n  const handleHeaderClick = (event: Event, column: TableColumnCtx<T>) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false)\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event)\n    }\n    parent?.emit('header-click', column, event)\n  }\n\n  const handleHeaderContextMenu = (event: Event, column: TableColumnCtx<T>) => {\n    parent?.emit('header-contextmenu', column, event)\n  }\n  const draggingColumn = ref(null)\n  const dragging = ref(false)\n  const dragState = ref({})\n  const handleMouseDown = (event: MouseEvent, column: TableColumnCtx<T>) => {\n    if (!isClient) return\n    if (column.children && column.children.length > 0) return\n    /* istanbul ignore if */\n    if (draggingColumn.value && props.border) {\n      dragging.value = true\n\n      const table = parent\n      emit('set-drag-visible', true)\n      const tableEl = table?.vnode.el\n      const tableLeft = tableEl.getBoundingClientRect().left\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`)\n      const columnRect = columnEl.getBoundingClientRect()\n      const minLeft = columnRect.left - tableLeft + 30\n\n      addClass(columnEl, 'noclick')\n\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft,\n      }\n      const resizeProxy = table?.refs.resizeProxy as HTMLElement\n      resizeProxy.style.left = `${(dragState.value as any).startLeft}px`\n\n      document.onselectstart = function () {\n        return false\n      }\n      document.ondragstart = function () {\n        return false\n      }\n\n      const handleMouseMove = (event: MouseEvent) => {\n        const deltaLeft =\n          event.clientX - (dragState.value as any).startMouseLeft\n        const proxyLeft = (dragState.value as any).startLeft + deltaLeft\n\n        resizeProxy.style.left = `${Math.max(minLeft, proxyLeft)}px`\n      }\n\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const { startColumnLeft, startLeft } = dragState.value as any\n          const finalLeft = Number.parseInt(resizeProxy.style.left, 10)\n          const columnWidth = finalLeft - startColumnLeft\n          column.width = column.realWidth = columnWidth\n          table?.emit(\n            'header-dragend',\n            column.width,\n            startLeft - startColumnLeft,\n            column,\n            event\n          )\n          requestAnimationFrame(() => {\n            props.store.scheduleLayout(false, true)\n          })\n          document.body.style.cursor = ''\n          dragging.value = false\n          draggingColumn.value = null\n          dragState.value = {}\n          emit('set-drag-visible', false)\n        }\n\n        document.removeEventListener('mousemove', handleMouseMove)\n        document.removeEventListener('mouseup', handleMouseUp)\n        document.onselectstart = null\n        document.ondragstart = null\n\n        setTimeout(() => {\n          removeClass(columnEl, 'noclick')\n        }, 0)\n      }\n\n      document.addEventListener('mousemove', handleMouseMove)\n      document.addEventListener('mouseup', handleMouseUp)\n    }\n  }\n\n  const handleMouseMove = (event: MouseEvent, column: TableColumnCtx<T>) => {\n    if (column.children && column.children.length > 0) return\n    let target = event.target as HTMLElement\n    while (target && target.tagName !== 'TH') {\n      target = target.parentNode as HTMLElement\n    }\n\n    if (!column || !column.resizable) return\n\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect()\n\n      const bodyStyle = document.body.style\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = 'col-resize'\n        if (hasClass(target, 'is-sortable')) {\n          target.style.cursor = 'col-resize'\n        }\n        draggingColumn.value = column\n      } else if (!dragging.value) {\n        bodyStyle.cursor = ''\n        if (hasClass(target, 'is-sortable')) {\n          target.style.cursor = 'pointer'\n        }\n        draggingColumn.value = null\n      }\n    }\n  }\n\n  const handleMouseOut = () => {\n    if (!isClient) return\n    document.body.style.cursor = ''\n  }\n  const toggleOrder = ({ order, sortOrders }) => {\n    if (order === '') return sortOrders[0]\n    const index = sortOrders.indexOf(order || null)\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1]\n  }\n  const handleSortClick = (\n    event: Event,\n    column: TableColumnCtx<T>,\n    givenOrder: string | boolean\n  ) => {\n    event.stopPropagation()\n    const order =\n      column.order === givenOrder ? null : givenOrder || toggleOrder(column)\n\n    let target = event.target as HTMLElement\n    while (target && target.tagName !== 'TH') {\n      target = target.parentNode as HTMLElement\n    }\n\n    if (target && target.tagName === 'TH') {\n      if (hasClass(target, 'noclick')) {\n        removeClass(target, 'noclick')\n        return\n      }\n    }\n\n    if (!column.sortable) return\n\n    const states = props.store.states\n    let sortProp = states.sortProp.value\n    let sortOrder\n    const sortingColumn = states.sortingColumn.value\n\n    if (\n      sortingColumn !== column ||\n      (sortingColumn === column && sortingColumn.order === null)\n    ) {\n      if (sortingColumn) {\n        sortingColumn.order = null\n      }\n      states.sortingColumn.value = column\n      sortProp = column.property\n    }\n    if (!order) {\n      sortOrder = column.order = null\n    } else {\n      sortOrder = column.order = order\n    }\n\n    states.sortProp.value = sortProp\n    states.sortOrder.value = sortOrder\n\n    parent?.store.commit('changeSortCondition')\n  }\n\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick,\n  }\n}\n\nexport default useEvent\n","import { inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableHeaderProps } from '.'\n\nfunction useStyle<T>(props: TableHeaderProps<T>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n\n  const getHeaderRowStyle = (rowIndex: number) => {\n    const headerRowStyle = parent?.props.headerRowStyle\n    if (typeof headerRowStyle === 'function') {\n      return headerRowStyle.call(null, { rowIndex })\n    }\n    return headerRowStyle\n  }\n\n  const getHeaderRowClass = (rowIndex: number): string => {\n    const classes: string[] = []\n    const headerRowClassName = parent?.props.headerRowClassName\n    if (typeof headerRowClassName === 'string') {\n      classes.push(headerRowClassName)\n    } else if (typeof headerRowClassName === 'function') {\n      classes.push(headerRowClassName.call(null, { rowIndex }))\n    }\n\n    return classes.join(' ')\n  }\n\n  const getHeaderCellStyle = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    let headerCellStyles = parent?.props.headerCellStyle ?? {}\n    if (typeof headerCellStyles === 'function') {\n      headerCellStyles = headerCellStyles.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column,\n      })\n    }\n    const fixedStyle = column.isSubColumn\n      ? null\n      : getFixedColumnOffset<T>(\n          columnIndex,\n          column.fixed,\n          props.store,\n          row as unknown as TableColumnCtx<T>[]\n        )\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return Object.assign({}, headerCellStyles, fixedStyle)\n  }\n\n  const getHeaderCellClass = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const fixedClasses = column.isSubColumn\n      ? []\n      : getFixedColumnsClass<T>(\n          ns.b(),\n          columnIndex,\n          column.fixed,\n          props.store,\n          row as unknown as TableColumnCtx<T>[]\n        )\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName,\n      ...fixedClasses,\n    ]\n\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n\n    if (column.sortable) {\n      classes.push('is-sortable')\n    }\n\n    const headerCellClassName = parent?.props.headerCellClassName\n    if (typeof headerCellClassName === 'string') {\n      classes.push(headerCellClassName)\n    } else if (typeof headerCellClassName === 'function') {\n      classes.push(\n        headerCellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column,\n        })\n      )\n    }\n\n    classes.push(ns.e('cell'))\n\n    return classes.filter((className) => Boolean(className)).join(' ')\n  }\n\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass,\n  }\n}\n\nexport default useStyle\n","import { computed, inject } from 'vue'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableHeaderProps } from '.'\n\nconst getAllColumns = <T>(\n  columns: TableColumnCtx<T>[]\n): TableColumnCtx<T>[] => {\n  const result: TableColumnCtx<T>[] = []\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push(column)\n      // eslint-disable-next-line prefer-spread\n      result.push.apply(result, getAllColumns(column.children))\n    } else {\n      result.push(column)\n    }\n  })\n  return result\n}\n\nconst convertToRows = <T>(\n  originColumns: TableColumnCtx<T>[]\n): TableColumnCtx<T>[] => {\n  let maxLevel = 1\n  const traverse = (column: TableColumnCtx<T>, parent: TableColumnCtx<T>) => {\n    if (parent) {\n      column.level = parent.level + 1\n      if (maxLevel < column.level) {\n        maxLevel = column.level\n      }\n    }\n    if (column.children) {\n      let colSpan = 0\n      column.children.forEach((subColumn) => {\n        traverse(subColumn, column)\n        colSpan += subColumn.colSpan\n      })\n      column.colSpan = colSpan\n    } else {\n      column.colSpan = 1\n    }\n  }\n\n  originColumns.forEach((column) => {\n    column.level = 1\n    traverse(column, undefined)\n  })\n\n  const rows = []\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([])\n  }\n\n  const allColumns: TableColumnCtx<T>[] = getAllColumns(originColumns)\n\n  allColumns.forEach((column) => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1\n    } else {\n      column.rowSpan = 1\n      column.children.forEach((col) => (col.isSubColumn = true))\n    }\n    rows[column.level - 1].push(column)\n  })\n\n  return rows\n}\n\nfunction useUtils<T>(props: TableHeaderProps<T>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value)\n  })\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1\n    if (result && parent) {\n      parent.state.isGroup.value = true\n    }\n    return result\n  })\n  const toggleAllSelection = (event: Event) => {\n    event.stopPropagation()\n    parent?.store.commit('toggleAllSelection')\n  }\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows,\n  }\n}\n\nexport default useUtils\n","import {\n  defineComponent,\n  getCurrentInstance,\n  h,\n  inject,\n  nextTick,\n  onMounted,\n  ref,\n} from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { useNamespace } from '@element-plus/hooks'\nimport FilterPanel from '../filter-panel.vue'\nimport useLayoutObserver from '../layout-observer'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport useEvent from './event-helper'\nimport useStyle from './style.helper'\nimport useUtils from './utils-helper'\nimport type { ComponentInternalInstance, PropType, Ref } from 'vue'\nimport type { DefaultRow, Sort } from '../table/defaults'\nimport type { Store } from '../store'\nexport interface TableHeader extends ComponentInternalInstance {\n  state: {\n    onColumnsChange\n    onScrollableChange\n  }\n  filterPanels: Ref<unknown>\n}\nexport interface TableHeaderProps<T> {\n  fixed: string\n  store: Store<T>\n  border: boolean\n  defaultSort: Sort\n}\n\nexport default defineComponent({\n  name: 'ElTableHeader',\n  components: {\n    ElCheckbox,\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: '',\n    },\n    store: {\n      required: true,\n      type: Object as PropType<TableHeaderProps<DefaultRow>['store']>,\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object as PropType<TableHeaderProps<DefaultRow>['defaultSort']>,\n      default: () => {\n        return {\n          prop: '',\n          order: '',\n        }\n      },\n    },\n  },\n  setup(props, { emit }) {\n    const instance = getCurrentInstance() as TableHeader\n    const parent = inject(TABLE_INJECTION_KEY)\n    const ns = useNamespace('table')\n    const filterPanels = ref({})\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent!)\n    onMounted(async () => {\n      // Need double await, because udpateColumns is executed after nextTick for now\n      await nextTick()\n      await nextTick()\n      const { prop, order } = props.defaultSort\n      parent?.store.commit('sort', { prop, order, init: true })\n    })\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n    } = useEvent(props as TableHeaderProps<unknown>, emit)\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass,\n    } = useStyle(props as TableHeaderProps<unknown>)\n    const { isGroup, toggleAllSelection, columnRows } = useUtils(\n      props as TableHeaderProps<unknown>\n    )\n\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange,\n    }\n    instance.filterPanels = filterPanels\n\n    return {\n      ns,\n      filterPanels,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection,\n    }\n  },\n  render() {\n    const {\n      ns,\n      isGroup,\n      columnRows,\n      getHeaderCellStyle,\n      getHeaderCellClass,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleSortClick,\n      handleMouseOut,\n      store,\n      $parent,\n    } = this\n    let rowSpan = 1\n    return h(\n      'thead',\n      {\n        class: { [ns.is('group')]: isGroup },\n      },\n      columnRows.map((subColumns, rowIndex) =>\n        h(\n          'tr',\n          {\n            class: getHeaderRowClass(rowIndex),\n            key: rowIndex,\n            style: getHeaderRowStyle(rowIndex),\n          },\n          subColumns.map((column, cellIndex) => {\n            if (column.rowSpan > rowSpan) {\n              rowSpan = column.rowSpan\n            }\n            return h(\n              'th',\n              {\n                class: getHeaderCellClass(\n                  rowIndex,\n                  cellIndex,\n                  subColumns,\n                  column\n                ),\n                colspan: column.colSpan,\n                key: `${column.id}-thead`,\n                rowspan: column.rowSpan,\n                style: getHeaderCellStyle(\n                  rowIndex,\n                  cellIndex,\n                  subColumns,\n                  column\n                ),\n                onClick: ($event) => handleHeaderClick($event, column),\n                onContextmenu: ($event) =>\n                  handleHeaderContextMenu($event, column),\n                onMousedown: ($event) => handleMouseDown($event, column),\n                onMousemove: ($event) => handleMouseMove($event, column),\n                onMouseout: handleMouseOut,\n              },\n              [\n                h(\n                  'div',\n                  {\n                    class: [\n                      'cell',\n                      column.filteredValue && column.filteredValue.length > 0\n                        ? 'highlight'\n                        : '',\n                      column.labelClassName,\n                    ],\n                  },\n                  [\n                    column.renderHeader\n                      ? column.renderHeader({\n                          column,\n                          $index: cellIndex,\n                          store,\n                          _self: $parent,\n                        })\n                      : column.label,\n                    column.sortable &&\n                      h(\n                        'span',\n                        {\n                          onClick: ($event) => handleSortClick($event, column),\n                          class: 'caret-wrapper',\n                        },\n                        [\n                          h('i', {\n                            onClick: ($event) =>\n                              handleSortClick($event, column, 'ascending'),\n                            class: 'sort-caret ascending',\n                          }),\n                          h('i', {\n                            onClick: ($event) =>\n                              handleSortClick($event, column, 'descending'),\n                            class: 'sort-caret descending',\n                          }),\n                        ]\n                      ),\n                    column.filterable &&\n                      h(FilterPanel, {\n                        store,\n                        placement: column.filterPlacement || 'bottom-start',\n                        column,\n                        upDataColumn: (key, value) => {\n                          column[key] = value\n                        },\n                      }),\n                  ]\n                ),\n              ]\n            )\n          })\n        )\n      )\n    )\n  },\n})\n","import { h, inject, ref } from 'vue'\nimport { debounce } from 'lodash-unified'\nimport { getStyle, hasClass } from '@element-plus/utils'\nimport { createTablePopper, getCell, getColumnByCell } from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableBodyProps } from './defaults'\n\nfunction useEvents<T>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const tooltipContent = ref('')\n  const tooltipTrigger = ref(h('div'))\n  const handleEvent = (event: Event, row: T, name: string) => {\n    const table = parent\n    const cell = getCell(event)\n    let column: TableColumnCtx<T>\n    const namespace = table?.vnode.el?.dataset.prefix\n    if (cell) {\n      column = getColumnByCell(\n        {\n          columns: props.store.states.columns.value,\n        },\n        cell,\n        namespace\n      )\n      if (column) {\n        table?.emit(`cell-${name}`, row, column, cell, event)\n      }\n    }\n    table?.emit(`row-${name}`, row, column, event)\n  }\n  const handleDoubleClick = (event: Event, row: T) => {\n    handleEvent(event, row, 'dblclick')\n  }\n  const handleClick = (event: Event, row: T) => {\n    props.store.commit('setCurrentRow', row)\n    handleEvent(event, row, 'click')\n  }\n  const handleContextMenu = (event: Event, row: T) => {\n    handleEvent(event, row, 'contextmenu')\n  }\n  const handleMouseEnter = debounce((index: number) => {\n    props.store.commit('setHoverRow', index)\n  }, 30)\n  const handleMouseLeave = debounce(() => {\n    props.store.commit('setHoverRow', null)\n  }, 30)\n  const handleCellMouseEnter = (\n    event: MouseEvent,\n    row: T & { tooltipEffect: string }\n  ) => {\n    const table = parent\n    const cell = getCell(event)\n    const namespace = table?.vnode.el?.dataset.prefix\n    if (cell) {\n      const column = getColumnByCell(\n        {\n          columns: props.store.states.columns.value,\n        },\n        cell,\n        namespace\n      )\n      const hoverState = (table.hoverState = { cell, column, row })\n      table?.emit(\n        'cell-mouse-enter',\n        hoverState.row,\n        hoverState.column,\n        hoverState.cell,\n        event\n      )\n    }\n\n    // 判断是否text-overflow, 如果是就显示tooltip\n    const cellChild = (event.target as HTMLElement).querySelector(\n      '.cell'\n    ) as HTMLElement\n    if (\n      !(\n        hasClass(cellChild, `${namespace}-tooltip`) &&\n        cellChild.childNodes.length\n      )\n    ) {\n      return\n    }\n    // use range width instead of scrollWidth to determine whether the text is overflowing\n    // to address a potential FireFox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1074543#c3\n    const range = document.createRange()\n    range.setStart(cellChild, 0)\n    range.setEnd(cellChild, cellChild.childNodes.length)\n    const rangeWidth = range.getBoundingClientRect().width\n    const padding =\n      (Number.parseInt(getStyle(cellChild, 'paddingLeft'), 10) || 0) +\n      (Number.parseInt(getStyle(cellChild, 'paddingRight'), 10) || 0)\n    if (\n      rangeWidth + padding > cellChild.offsetWidth ||\n      cellChild.scrollWidth > cellChild.offsetWidth\n    ) {\n      createTablePopper(\n        parent?.refs.tableWrapper,\n        cell,\n        cell.innerText || cell.textContent,\n        {\n          placement: 'top',\n          strategy: 'fixed',\n        },\n        row.tooltipEffect\n      )\n    }\n  }\n  const handleCellMouseLeave = (event) => {\n    const cell = getCell(event)\n    if (!cell) return\n\n    const oldHoverState = parent?.hoverState\n    parent?.emit(\n      'cell-mouse-leave',\n      oldHoverState?.row,\n      oldHoverState?.column,\n      oldHoverState?.cell,\n      event\n    )\n  }\n\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger,\n  }\n}\n\nexport default useEvents\n","import { inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableBodyProps } from './defaults'\n\nfunction useStyles<T>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n\n  const getRowStyle = (row: T, rowIndex: number) => {\n    const rowStyle = parent?.props.rowStyle\n    if (typeof rowStyle === 'function') {\n      return rowStyle.call(null, {\n        row,\n        rowIndex,\n      })\n    }\n    return rowStyle || null\n  }\n\n  const getRowClass = (row: T, rowIndex: number) => {\n    const classes = [ns.e('row')]\n    if (\n      parent?.props.highlightCurrentRow &&\n      row === props.store.states.currentRow.value\n    ) {\n      classes.push('current-row')\n    }\n\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(ns.em('row', 'striped'))\n    }\n    const rowClassName = parent?.props.rowClassName\n    if (typeof rowClassName === 'string') {\n      classes.push(rowClassName)\n    } else if (typeof rowClassName === 'function') {\n      classes.push(\n        rowClassName.call(null, {\n          row,\n          rowIndex,\n        })\n      )\n    }\n    return classes\n  }\n\n  const getCellStyle = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const cellStyle = parent?.props.cellStyle\n    let cellStyles = cellStyle ?? {}\n    if (typeof cellStyle === 'function') {\n      cellStyles = cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column,\n      })\n    }\n    const fixedStyle = column.isSubColumn\n      ? null\n      : getFixedColumnOffset(columnIndex, props?.fixed, props.store)\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return Object.assign({}, cellStyles, fixedStyle)\n  }\n\n  const getCellClass = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const fixedClasses = column.isSubColumn\n      ? []\n      : getFixedColumnsClass(ns.b(), columnIndex, props?.fixed, props.store)\n    const classes = [column.id, column.align, column.className, ...fixedClasses]\n    const cellClassName = parent?.props.cellClassName\n    if (typeof cellClassName === 'string') {\n      classes.push(cellClassName)\n    } else if (typeof cellClassName === 'function') {\n      classes.push(\n        cellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column,\n        })\n      )\n    }\n    classes.push(ns.e('cell'))\n    return classes.filter((className) => Boolean(className)).join(' ')\n  }\n  const getSpan = (\n    row: T,\n    column: TableColumnCtx<T>,\n    rowIndex: number,\n    columnIndex: number\n  ) => {\n    let rowspan = 1\n    let colspan = 1\n    const fn = parent?.props.spanMethod\n    if (typeof fn === 'function') {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex,\n      })\n      if (Array.isArray(result)) {\n        rowspan = result[0]\n        colspan = result[1]\n      } else if (typeof result === 'object') {\n        rowspan = result.rowspan\n        colspan = result.colspan\n      }\n    }\n    return { rowspan, colspan }\n  }\n  const getColspanRealWidth = (\n    columns: TableColumnCtx<T>[],\n    colspan: number,\n    index: number\n  ): number => {\n    if (colspan < 1) {\n      return columns[index].realWidth\n    }\n    const widthArr = columns\n      .map(({ realWidth, width }) => realWidth || width)\n      .slice(index, index + colspan)\n    return Number(\n      widthArr.reduce((acc, width) => Number(acc) + Number(width), -1)\n    )\n  }\n\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n  }\n}\n\nexport default useStyles\n","import { computed, h, inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { getRowIdentity } from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport useEvents from './events-helper'\nimport useStyles from './styles-helper'\nimport type { TableBodyProps } from './defaults'\nimport type { RenderRowData, TableProps, TreeNode } from '../table/defaults'\n\nfunction useRender<T>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger,\n  } = useEvents(props)\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n  } = useStyles(props)\n  const firstDefaultColumnIndex = computed(() => {\n    return props.store.states.columns.value.findIndex(\n      ({ type }) => type === 'default'\n    )\n  })\n  const getKeyOfRow = (row: T, index: number) => {\n    const rowKey = (parent.props as Partial<TableProps<T>>).rowKey\n    if (rowKey) {\n      return getRowIdentity(row, rowKey)\n    }\n    return index\n  }\n  const rowRender = (\n    row: T,\n    $index: number,\n    treeRowData?: TreeNode,\n    expanded = false\n  ) => {\n    const { tooltipEffect, store } = props\n    const { indent, columns } = store.states\n    const rowClasses = getRowClass(row, $index)\n    let display = true\n    if (treeRowData) {\n      rowClasses.push(ns.em('row', `level-${treeRowData.level}`))\n      display = treeRowData.display\n    }\n    const displayStyle = display\n      ? null\n      : {\n          display: 'none',\n        }\n    return h(\n      'tr',\n      {\n        style: [displayStyle, getRowStyle(row, $index)],\n        class: rowClasses,\n        key: getKeyOfRow(row, $index),\n        onDblclick: ($event) => handleDoubleClick($event, row),\n        onClick: ($event) => handleClick($event, row),\n        onContextmenu: ($event) => handleContextMenu($event, row),\n        onMouseenter: () => handleMouseEnter($index),\n        onMouseleave: handleMouseLeave,\n      },\n      columns.value.map((column, cellIndex) => {\n        const { rowspan, colspan } = getSpan(row, column, $index, cellIndex)\n        if (!rowspan || !colspan) {\n          return null\n        }\n        const columnData = { ...column }\n        columnData.realWidth = getColspanRealWidth(\n          columns.value,\n          colspan,\n          cellIndex\n        )\n        const data: RenderRowData<T> = {\n          store: props.store,\n          _self: props.context || parent,\n          column: columnData,\n          row,\n          $index,\n          cellIndex,\n          expanded,\n        }\n        if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n          data.treeNode = {\n            indent: treeRowData.level * indent.value,\n            level: treeRowData.level,\n          }\n          if (typeof treeRowData.expanded === 'boolean') {\n            data.treeNode.expanded = treeRowData.expanded\n            // 表明是懒加载\n            if ('loading' in treeRowData) {\n              data.treeNode.loading = treeRowData.loading\n            }\n            if ('noLazyChildren' in treeRowData) {\n              data.treeNode.noLazyChildren = treeRowData.noLazyChildren\n            }\n          }\n        }\n        const baseKey = `${$index},${cellIndex}`\n        const patchKey = columnData.columnKey || columnData.rawColumnKey || ''\n        const tdChildren = cellChildren(cellIndex, column, data)\n        return h(\n          'td',\n          {\n            style: getCellStyle($index, cellIndex, row, column),\n            class: getCellClass($index, cellIndex, row, column),\n            key: `${patchKey}${baseKey}`,\n            rowspan,\n            colspan,\n            onMouseenter: ($event) =>\n              handleCellMouseEnter($event, { ...row, tooltipEffect }),\n            onMouseleave: handleCellMouseLeave,\n          },\n          [tdChildren]\n        )\n      })\n    )\n  }\n  const cellChildren = (cellIndex, column, data) => {\n    return column.renderCell(data)\n  }\n\n  const wrappedRowRender = (row: T, $index: number) => {\n    const store = props.store\n    const { isRowExpanded, assertRowKey } = store\n    const { treeData, lazyTreeNodeMap, childrenColumnName, rowKey } =\n      store.states\n    const columns = store.states.columns.value\n    const hasExpandColumn = columns.some(({ type }) => type === 'expand')\n    if (hasExpandColumn) {\n      const expanded = isRowExpanded(row)\n      const tr = rowRender(row, $index, undefined, expanded)\n      const renderExpanded = parent.renderExpanded\n      if (expanded) {\n        if (!renderExpanded) {\n          console.error('[Element Error]renderExpanded is required.')\n          return tr\n        }\n        // 使用二维数组，避免修改 $index\n        // Use a matrix to avoid modifying $index\n        return [\n          [\n            tr,\n            h(\n              'tr',\n              {\n                key: `expanded-row__${tr.key as string}`,\n              },\n              [\n                h(\n                  'td',\n                  {\n                    colspan: columns.length,\n                    class: 'el-table__cell el-table__expanded-cell',\n                  },\n                  [renderExpanded({ row, $index, store, expanded })]\n                ),\n              ]\n            ),\n          ],\n        ]\n      } else {\n        // 使用二维数组，避免修改 $index\n        // Use a two dimensional array avoid modifying $index\n        return [[tr]]\n      }\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey()\n      // TreeTable 时，rowKey 必须由用户设定，不使用 getKeyOfRow 计算\n      // 在调用 rowRender 函数时，仍然会计算 rowKey，不太好的操作\n      const key = getRowIdentity(row, rowKey.value)\n      let cur = treeData.value[key]\n      let treeRowData = null\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true,\n        }\n        if (typeof cur.lazy === 'boolean') {\n          if (typeof cur.loaded === 'boolean' && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length)\n          }\n          treeRowData.loading = cur.loading\n        }\n      }\n      const tmp = [rowRender(row, $index, treeRowData)]\n      // 渲染嵌套数据\n      if (cur) {\n        // currentRow 记录的是 index，所以还需主动增加 TreeTable 的 index\n        let i = 0\n        const traverse = (children, parent) => {\n          if (!(children && children.length && parent)) return\n          children.forEach((node) => {\n            // 父节点的 display 状态影响子节点的显示状态\n            const innerTreeRowData = {\n              display: parent.display && parent.expanded,\n              level: parent.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false,\n            }\n            const childKey = getRowIdentity(node, rowKey.value)\n            if (childKey === undefined || childKey === null) {\n              throw new Error('For nested data item, row-key is required.')\n            }\n            cur = { ...treeData.value[childKey] }\n            // 对于当前节点，分成有无子节点两种情况。\n            // 如果包含子节点的，设置 expanded 属性。\n            // 对于它子节点的 display 属性由它本身的 expanded 与 display 共同决定。\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded\n              // 懒加载的某些节点，level 未知\n              cur.level = cur.level || innerTreeRowData.level\n              cur.display = !!(cur.expanded && innerTreeRowData.display)\n              if (typeof cur.lazy === 'boolean') {\n                if (typeof cur.loaded === 'boolean' && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(\n                    cur.children && cur.children.length\n                  )\n                }\n                innerTreeRowData.loading = cur.loading\n              }\n            }\n            i++\n            tmp.push(rowRender(node, $index + i, innerTreeRowData))\n            if (cur) {\n              const nodes =\n                lazyTreeNodeMap.value[childKey] ||\n                node[childrenColumnName.value]\n              traverse(nodes, cur)\n            }\n          })\n        }\n        // 对于 root 节点，display 一定为 true\n        cur.display = true\n        const nodes =\n          lazyTreeNodeMap.value[key] || row[childrenColumnName.value]\n        traverse(nodes, cur)\n      }\n      return tmp\n    } else {\n      return rowRender(row, $index, undefined)\n    }\n  }\n\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger,\n  }\n}\n\nexport default useRender\n","import type { PropType } from 'vue'\nimport type { Store } from '../store'\nimport type {\n  ColumnCls,\n  ColumnStyle,\n  DefaultRow,\n  Table,\n} from '../table/defaults'\n\ninterface TableBodyProps<T> {\n  store: Store<T>\n  stripe?: boolean\n  context: Table<T>\n  rowClassName: ColumnCls<T>\n  rowStyle: ColumnStyle<T>\n  fixed: string\n  highlight: boolean\n  tooltipEffect: string\n}\n\nconst defaultProps = {\n  store: {\n    required: true,\n    type: Object as PropType<TableBodyProps<DefaultRow>['store']>,\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: () => ({}),\n    type: Object as PropType<TableBodyProps<DefaultRow>['context']>,\n  },\n  rowClassName: [String, Function] as PropType<\n    TableBodyProps<DefaultRow>['rowClassName']\n  >,\n  rowStyle: [Object, Function] as PropType<\n    TableBodyProps<DefaultRow>['rowStyle']\n  >,\n  fixed: {\n    type: String,\n    default: '',\n  },\n  highlight: Boolean,\n}\n\nexport { TableBodyProps }\nexport default defaultProps\n","import {\n  defineComponent,\n  getCurrentInstance,\n  h,\n  inject,\n  onUnmounted,\n  onUpdated,\n  watch,\n} from 'vue'\nimport { isClient } from '@vueuse/core'\nimport { addClass, removeClass } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport useLayoutObserver from '../layout-observer'\nimport { removePopper } from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport useRender from './render-helper'\nimport defaultProps from './defaults'\n\nimport type { VNode } from 'vue'\n\nexport default defineComponent({\n  name: 'ElTableBody',\n  props: defaultProps,\n  setup(props) {\n    const instance = getCurrentInstance()\n    const parent = inject(TABLE_INJECTION_KEY)\n    const ns = useNamespace('table')\n    const { wrappedRowRender, tooltipContent, tooltipTrigger } =\n      useRender(props)\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent!)\n\n    watch(props.store.states.hoverRow, (newVal: any, oldVal: any) => {\n      if (!props.store.states.isComplex.value || !isClient) return\n      let raf = window.requestAnimationFrame\n      if (!raf) {\n        raf = (fn) => window.setTimeout(fn, 16)\n      }\n      raf(() => {\n        const rows = instance?.vnode.el?.querySelectorAll(`.${ns.e('row')}`)\n        const oldRow = rows[oldVal]\n        const newRow = rows[newVal]\n        if (oldRow) {\n          removeClass(oldRow, 'hover-row')\n        }\n        if (newRow) {\n          addClass(newRow, 'hover-row')\n        }\n      })\n    })\n\n    onUnmounted(() => {\n      removePopper?.()\n    })\n    onUpdated(() => {\n      removePopper?.()\n    })\n\n    return {\n      ns,\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger,\n    }\n  },\n  render() {\n    const { wrappedRowRender, store } = this\n    const data = store.states.data.value || []\n    return h('tbody', {}, [\n      data.reduce((acc: VNode[], row) => {\n        return acc.concat(wrappedRowRender(row, acc.length))\n      }, []),\n    ])\n  },\n})\n","import { h } from 'vue'\nexport function hColgroup(props) {\n  const isAuto = props.tableLayout === 'auto'\n  let columns = props.columns || []\n  if (isAuto) {\n    if (columns.every((column) => column.width === undefined)) {\n      columns = []\n    }\n  }\n  const getPropsData = (column) => {\n    const propsData = {\n      key: `${props.tableLayout}_${column.id}`,\n      style: {},\n      name: undefined,\n    }\n    if (isAuto) {\n      propsData.style = {\n        width: `${column.width}px`,\n      }\n    } else {\n      propsData.name = column.id\n    }\n    return propsData\n  }\n\n  return h(\n    'colgroup',\n    {},\n    columns.map((column) => h('col', getPropsData(column)))\n  )\n}\n\nhColgroup.props = ['columns', 'tableLayout']\n","import { computed, inject } from 'vue'\nimport { TABLE_INJECTION_KEY } from '../tokens'\n\nfunction useMapState() {\n  const table = inject(TABLE_INJECTION_KEY)\n  const store = table?.store\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value\n  })\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length\n  })\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length\n  })\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length\n  })\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length\n  })\n\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns,\n  }\n}\n\nexport default useMapState\n","import { useNamespace } from '@element-plus/hooks'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport useMapState from './mapState-helper'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableFooter } from '.'\n\nfunction useStyle<T>(props: TableFooter<T>) {\n  const { columns } = useMapState()\n  const ns = useNamespace('table')\n\n  const getCellClasses = (columns: TableColumnCtx<T>[], cellIndex: number) => {\n    const column = columns[cellIndex]\n    const classes = [\n      ns.e('cell'),\n      column.id,\n      column.align,\n      column.labelClassName,\n      ...getFixedColumnsClass(ns.b(), cellIndex, column.fixed, props.store),\n    ]\n    if (column.className) {\n      classes.push(column.className)\n    }\n    if (!column.children) {\n      classes.push(ns.is('leaf'))\n    }\n    return classes\n  }\n\n  const getCellStyles = (column: TableColumnCtx<T>, cellIndex: number) => {\n    const fixedStyle = getFixedColumnOffset(\n      cellIndex,\n      column.fixed,\n      props.store\n    )\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return fixedStyle\n  }\n\n  return {\n    getCellClasses,\n    getCellStyles,\n    columns,\n  }\n}\n\nexport default useStyle\n","import { defineComponent, h } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { hColgroup } from '../h-helper'\nimport useStyle from './style-helper'\nimport type { Store } from '../store'\n\nimport type { PropType } from 'vue'\nimport type { DefaultRow, Sort, SummaryMethod } from '../table/defaults'\nexport interface TableFooter<T> {\n  fixed: string\n  store: Store<T>\n  summaryMethod: SummaryMethod<T>\n  sumText: string\n  border: boolean\n  defaultSort: Sort\n}\n\nexport default defineComponent({\n  name: 'ElTableFooter',\n\n  props: {\n    fixed: {\n      type: String,\n      default: '',\n    },\n    store: {\n      required: true,\n      type: Object as PropType<TableFooter<DefaultRow>['store']>,\n    },\n    summaryMethod: Function as PropType<\n      TableFooter<DefaultRow>['summaryMethod']\n    >,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object as PropType<TableFooter<DefaultRow>['defaultSort']>,\n      default: () => {\n        return {\n          prop: '',\n          order: '',\n        }\n      },\n    },\n  },\n  setup(props) {\n    const { getCellClasses, getCellStyles, columns } = useStyle(\n      props as TableFooter<DefaultRow>\n    )\n    const ns = useNamespace('table')\n    return {\n      ns,\n      getCellClasses,\n      getCellStyles,\n      columns,\n    }\n  },\n  render() {\n    const {\n      columns,\n      getCellStyles,\n      getCellClasses,\n      summaryMethod,\n      sumText,\n      ns,\n    } = this\n    const data = this.store.states.data.value\n    let sums = []\n    if (summaryMethod) {\n      sums = summaryMethod({\n        columns,\n        data,\n      })\n    } else {\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = sumText\n          return\n        }\n        const values = data.map((item) => Number(item[column.property]))\n        const precisions = []\n        let notNumber = true\n        values.forEach((value) => {\n          if (!Number.isNaN(+value)) {\n            notNumber = false\n            const decimal = `${value}`.split('.')[1]\n            precisions.push(decimal ? decimal.length : 0)\n          }\n        })\n        const precision = Math.max.apply(null, precisions)\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr)\n            if (!Number.isNaN(+value)) {\n              return Number.parseFloat(\n                (prev + curr).toFixed(Math.min(precision, 20))\n              )\n            } else {\n              return prev\n            }\n          }, 0)\n        } else {\n          sums[index] = ''\n        }\n      })\n    }\n    return h(\n      'table',\n      {\n        class: ns.e('footer'),\n        cellspacing: '0',\n        cellpadding: '0',\n        border: '0',\n      },\n      [\n        hColgroup({\n          columns,\n        }),\n        h('tbody', [\n          h('tr', {}, [\n            ...columns.map((column, cellIndex) =>\n              h(\n                'td',\n                {\n                  key: cellIndex,\n                  colspan: column.colSpan,\n                  rowspan: column.rowSpan,\n                  class: getCellClasses(columns, cellIndex),\n                  style: getCellStyles(column, cellIndex),\n                },\n                [\n                  h(\n                    'div',\n                    {\n                      class: ['cell', column.labelClassName],\n                    },\n                    [sums[cellIndex]]\n                  ),\n                ]\n              )\n            ),\n          ]),\n        ]),\n      ]\n    )\n  },\n})\n","import type { Store } from '../store'\n\nfunction useUtils<T>(store: Store<T>) {\n  const setCurrentRow = (row: T) => {\n    store.commit('setCurrentRow', row)\n  }\n  const getSelectionRows = () => {\n    return store.getSelectionRows()\n  }\n  const toggleRowSelection = (row: T, selected: boolean) => {\n    store.toggleRowSelection(row, selected, false)\n    store.updateAllSelected()\n  }\n  const clearSelection = () => {\n    store.clearSelection()\n  }\n  const clearFilter = (columnKeys: string[]) => {\n    store.clearFilter(columnKeys)\n  }\n  const toggleAllSelection = () => {\n    store.commit('toggleAllSelection')\n  }\n  const toggleRowExpansion = (row: T, expanded: boolean) => {\n    store.toggleRowExpansionAdapter(row, expanded)\n  }\n  const clearSort = () => {\n    store.clearSort()\n  }\n  const sort = (prop: string, order: string) => {\n    store.commit('sort', { prop, order })\n  }\n\n  return {\n    setCurrentRow,\n    getSelectionRows,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    sort,\n  }\n}\n\nexport default useUtils\n","import {\n  computed,\n  nextTick,\n  onMounted,\n  ref,\n  unref,\n  watch,\n  watchEffect,\n} from 'vue'\nimport { useEventListener, useResizeObserver } from '@vueuse/core'\nimport { isNumber, isString } from '@element-plus/utils'\nimport { useSize } from '@element-plus/hooks'\nimport { parseHeight } from '../util'\n\nimport type { Table, TableProps } from './defaults'\nimport type { Store } from '../store'\nimport type TableLayout from '../table-layout'\nimport type { TableColumnCtx } from '../table-column/defaults'\n\nfunction useStyle<T>(\n  props: TableProps<T>,\n  layout: TableLayout<T>,\n  store: Store<T>,\n  table: Table<T>\n) {\n  const isHidden = ref(false)\n  const renderExpanded = ref(null)\n  const resizeProxyVisible = ref(false)\n  const setDragVisible = (visible: boolean) => {\n    resizeProxyVisible.value = visible\n  }\n  const resizeState = ref<{\n    width: null | number\n    height: null | number\n  }>({\n    width: null,\n    height: null,\n  })\n  const isGroup = ref(false)\n  const scrollbarViewStyle = {\n    display: 'block',\n    verticalAlign: 'middle',\n  }\n  const tableWidth = ref()\n\n  watchEffect(() => {\n    layout.setHeight(props.height)\n  })\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight)\n  })\n  watch(\n    () => [props.currentRowKey, store.states.rowKey],\n    ([currentRowKey, rowKey]) => {\n      if (!unref(rowKey)) return\n      store.setCurrentRowKey(`${currentRowKey}`)\n    },\n    {\n      immediate: true,\n    }\n  )\n  watch(\n    () => props.data,\n    (data) => {\n      table.store.commit('setData', data)\n    },\n    {\n      immediate: true,\n      deep: true,\n    }\n  )\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys)\n    }\n  })\n\n  const handleMouseLeave = () => {\n    table.store.commit('setHoverRow', null)\n    if (table.hoverState) table.hoverState = null\n  }\n\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5\n    }\n  }\n\n  const shouldUpdateHeight = computed(() => {\n    return (\n      props.height ||\n      props.maxHeight ||\n      store.states.fixedColumns.value.length > 0 ||\n      store.states.rightFixedColumns.value.length > 0\n    )\n  })\n\n  const tableBodyStyles = computed(() => {\n    return {\n      width: layout.bodyWidth.value ? `${layout.bodyWidth.value}px` : '',\n    }\n  })\n\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight()\n    }\n    layout.updateColumnsWidth()\n    requestAnimationFrame(syncPostion)\n  }\n  onMounted(async () => {\n    await nextTick()\n    store.updateColumns()\n    bindEvents()\n    requestAnimationFrame(doLayout)\n\n    const el: HTMLElement = table.vnode.el as HTMLElement\n    if (props.flexible && el && el.parentElement) {\n      // Automatic minimum size of flex-items\n      // Ensure that the main axis does not follow the width of the items\n      el.parentElement.style.minWidth = '0'\n    }\n\n    resizeState.value = {\n      width: (tableWidth.value = el.offsetWidth),\n      height: el.offsetHeight,\n    }\n\n    // init filters\n    store.states.columns.value.forEach((column: TableColumnCtx<T>) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit('filterChange', {\n          column,\n          values: column.filteredValue,\n          silent: true,\n        })\n      }\n    })\n    table.$ready = true\n  })\n  const setScrollClassByEl = (el: HTMLElement, className: string) => {\n    if (!el) return\n    const classList = Array.from(el.classList).filter(\n      (item) => !item.startsWith('is-scrolling-')\n    )\n    classList.push(layout.scrollX.value ? className : 'is-scrolling-none')\n    el.className = classList.join(' ')\n  }\n  const setScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    setScrollClassByEl(tableWrapper, className)\n  }\n  const hasScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    return !!(tableWrapper && tableWrapper.classList.contains(className))\n  }\n  const syncPostion = function () {\n    if (!table.refs.scrollBarRef) return\n    if (!layout.scrollX.value) {\n      const scrollingNoneClass = 'is-scrolling-none'\n      if (!hasScrollClass(scrollingNoneClass)) {\n        setScrollClass(scrollingNoneClass)\n      }\n      return\n    }\n    const scrollContainer = table.refs.scrollBarRef.wrap$\n    if (!scrollContainer) return\n    const { scrollLeft, offsetWidth, scrollWidth } = scrollContainer\n    const { headerWrapper, footerWrapper } = table.refs\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass('is-scrolling-right')\n    } else if (scrollLeft === 0) {\n      setScrollClass('is-scrolling-left')\n    } else {\n      setScrollClass('is-scrolling-middle')\n    }\n  }\n\n  const bindEvents = () => {\n    if (!table.refs.scrollBarRef) return\n    if (table.refs.scrollBarRef.wrap$) {\n      useEventListener(table.refs.scrollBarRef.wrap$, 'scroll', syncPostion, {\n        passive: true,\n      })\n    }\n    if (props.fit) {\n      useResizeObserver(table.vnode.el as HTMLElement, resizeListener)\n    } else {\n      useEventListener(window, 'resize', resizeListener)\n    }\n  }\n  const resizeListener = () => {\n    if (!table.$ready) return\n    let shouldUpdateLayout = false\n    const el = table.vnode.el\n    const { width: oldWidth, height: oldHeight } = resizeState.value\n\n    const width = (tableWidth.value = el.offsetWidth)\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true\n    }\n\n    const height = el.offsetHeight\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true\n    }\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height,\n      }\n      doLayout()\n    }\n  }\n  const tableSize = useSize()\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout\n    return bodyWidth_.value\n      ? `${(bodyWidth_.value as number) - (scrollY.value ? gutterWidth : 0)}px`\n      : ''\n  })\n\n  const tableLayout = computed(() => {\n    if (props.maxHeight) return 'fixed'\n    return props.tableLayout\n  })\n\n  function calcMaxHeight(\n    maxHeight: string | number,\n    footerHeight: number,\n    headerHeight: number\n  ) {\n    const parsedMaxHeight = parseHeight(maxHeight)\n    const tableHeaderHeight = props.showHeader ? headerHeight : 0\n    if (parsedMaxHeight === null) return\n    if (isString(parsedMaxHeight)) {\n      return `calc(${parsedMaxHeight} - ${footerHeight}px - ${tableHeaderHeight}px)`\n    }\n    return parsedMaxHeight - footerHeight - tableHeaderHeight\n  }\n\n  const height = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0\n    const bodyHeight = layout.bodyHeight.value\n    const footerHeight = layout.footerHeight.value || 0\n    if (props.height) {\n      return bodyHeight ? bodyHeight : undefined\n    } else if (props.maxHeight) {\n      return calcMaxHeight(props.maxHeight, footerHeight, headerHeight)\n    }\n    return undefined\n  })\n\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0\n    const bodyHeight = layout.bodyHeight.value\n    const footerHeight = layout.footerHeight.value || 0\n    if (props.height) {\n      return {\n        height: bodyHeight ? `${bodyHeight}px` : '',\n      }\n    } else if (props.maxHeight) {\n      const maxHeight = calcMaxHeight(\n        props.maxHeight,\n        footerHeight,\n        headerHeight\n      )\n      if (maxHeight !== null) {\n        return {\n          'max-height': `${maxHeight}${isNumber(maxHeight) ? 'px' : ''}`,\n        }\n      }\n    }\n    return {}\n  })\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null\n    let height = '100%'\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`\n    }\n    return {\n      width: tableWidth.value ? `${tableWidth.value}px` : '',\n      height,\n    }\n  })\n  /**\n   * fix layout\n   */\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault()\n      }\n      if (\n        data.pixelY > 0 &&\n        bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop\n      ) {\n        event.preventDefault()\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5)\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5)\n    }\n  }\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0,\n        }\n      }\n      return {\n        bottom:\n          layout.scrollX.value && props.data.length\n            ? `${layout.gutterWidth}px`\n            : '',\n      }\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value\n            ? `${layout.tableHeight.value}px`\n            : '',\n        }\n      }\n      return {\n        height: layout.viewportHeight.value\n          ? `${layout.viewportHeight.value}px`\n          : '',\n      }\n    }\n  })\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value\n          ? `${layout.fixedBodyHeight.value}px`\n          : '',\n      }\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight)\n      if (typeof maxHeight === 'number') {\n        maxHeight = layout.scrollX.value\n          ? maxHeight - layout.gutterWidth\n          : maxHeight\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value\n        }\n        maxHeight -= layout.footerHeight.value\n        return {\n          'max-height': `${maxHeight}px`,\n        }\n      }\n    }\n    return {}\n  })\n\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    height,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout,\n    tableBodyStyles,\n    tableLayout,\n    scrollbarViewStyle,\n  }\n}\n\nexport default useStyle\n","import type {\n  CSSProperties,\n  ComponentInternalInstance,\n  PropType,\n  Ref,\n  VNode,\n} from 'vue'\nimport type { Nullable } from '@element-plus/utils'\nimport type { Store } from '../store'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type TableLayout from '../table-layout'\n\nexport type DefaultRow = any\n\ninterface TableRefs {\n  tableWrapper: HTMLElement\n  headerWrapper: HTMLElement\n  footerWrapper: HTMLElement\n  fixedBodyWrapper: HTMLElement\n  rightFixedBodyWrapper: HTMLElement\n  bodyWrapper: HTMLElement\n  [key: string]: any\n}\n\ninterface TableState {\n  isGroup: Ref<boolean>\n  resizeState: Ref<{\n    width: any\n    height: any\n  }>\n  doLayout: () => void\n  debouncedUpdateLayout: () => void\n}\n\ntype HoverState<T> = Nullable<{\n  cell: HTMLElement\n  column: TableColumnCtx<T>\n  row: T\n}>\n\ntype RIS<T> = { row: T; $index: number; store: Store<T>; expanded: boolean }\n\ntype RenderExpanded<T> = ({\n  row,\n  $index,\n  store,\n  expanded: boolean,\n}: RIS<T>) => VNode\n\ntype SummaryMethod<T> = (data: {\n  columns: TableColumnCtx<T>[]\n  data: T[]\n}) => string[]\n\ninterface Table<T> extends ComponentInternalInstance {\n  $ready: boolean\n  hoverState?: HoverState<T>\n  renderExpanded: RenderExpanded<T>\n  store: Store<T>\n  layout: TableLayout<T>\n  refs: TableRefs\n  tableId: string\n  state: TableState\n}\n\ntype ColumnCls<T> = string | ((data: { row: T; rowIndex: number }) => string)\ntype ColumnStyle<T> =\n  | CSSProperties\n  | ((data: { row: T; rowIndex: number }) => CSSProperties)\ntype CellCls<T> =\n  | string\n  | ((data: {\n      row: T\n      rowIndex: number\n      column: TableColumnCtx<T>\n      columnIndex: number\n    }) => string)\ntype CellStyle<T> =\n  | CSSProperties\n  | ((data: {\n      row: T\n      rowIndex: number\n      column: TableColumnCtx<T>\n      columnIndex: number\n    }) => CSSProperties)\ntype Layout = 'fixed' | 'auto'\ninterface TableProps<T> {\n  data: T[]\n  size?: string\n  width?: string | number\n  height?: string | number\n  maxHeight?: string | number\n  fit?: boolean\n  stripe?: boolean\n  border?: boolean\n  rowKey?: string | ((row: T) => string)\n  context?: Table<T>\n  showHeader?: boolean\n  showSummary?: boolean\n  sumText?: string\n  summaryMethod?: SummaryMethod<T>\n  rowClassName?: ColumnCls<T>\n  rowStyle?: ColumnStyle<T>\n  cellClassName?: CellCls<T>\n  cellStyle?: CellStyle<T>\n  headerRowClassName?: ColumnCls<T>\n  headerRowStyle?: ColumnStyle<T>\n  headerCellClassName?: CellCls<T>\n  headerCellStyle?: CellStyle<T>\n  highlightCurrentRow?: boolean\n  currentRowKey?: string | number\n  emptyText?: string\n  expandRowKeys?: any[]\n  defaultExpandAll?: boolean\n  defaultSort?: Sort\n  tooltipEffect?: string\n  spanMethod?: (data: {\n    row: T\n    rowIndex: number\n    column: TableColumnCtx<T>\n    columnIndex: number\n  }) =>\n    | number[]\n    | {\n        rowspan: number\n        colspan: number\n      }\n  selectOnIndeterminate?: boolean\n  indent?: number\n  treeProps?: {\n    hasChildren?: string\n    children?: string\n  }\n  lazy?: boolean\n  load?: (row: T, treeNode: TreeNode, resolve: (data: T[]) => void) => void\n  className?: string\n  style?: CSSProperties\n  tableLayout: Layout\n  flexible: boolean\n}\n\ninterface Sort {\n  prop: string\n  order: 'ascending' | 'descending'\n  init?: any\n  silent?: any\n}\n\ninterface Filter<T> {\n  column: TableColumnCtx<T>\n  values: string[]\n  silent: any\n}\n\ninterface TreeNode {\n  expanded?: boolean\n  loading?: boolean\n  noLazyChildren?: boolean\n  indent?: number\n  level?: number\n  display?: boolean\n}\n\ninterface RenderRowData<T> {\n  store: Store<T>\n  _self: Table<T>\n  column: TableColumnCtx<T>\n  row: T\n  $index: number\n  treeNode?: TreeNode\n  expanded: boolean\n}\n\nexport default {\n  data: {\n    type: Array as PropType<DefaultRow[]>,\n    default: () => {\n      return []\n    },\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true,\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function] as PropType<TableProps<DefaultRow>['rowKey']>,\n  showHeader: {\n    type: Boolean,\n    default: true,\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function as PropType<TableProps<DefaultRow>['summaryMethod']>,\n  rowClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['rowClassName']\n  >,\n  rowStyle: [Object, Function] as PropType<TableProps<DefaultRow>['rowStyle']>,\n  cellClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['cellClassName']\n  >,\n  cellStyle: [Object, Function] as PropType<\n    TableProps<DefaultRow>['cellStyle']\n  >,\n  headerRowClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['headerRowClassName']\n  >,\n  headerRowStyle: [Object, Function] as PropType<\n    TableProps<DefaultRow>['headerRowStyle']\n  >,\n  headerCellClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['headerCellClassName']\n  >,\n  headerCellStyle: [Object, Function] as PropType<\n    TableProps<DefaultRow>['headerCellStyle']\n  >,\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array as PropType<TableProps<DefaultRow>['expandRowKeys']>,\n  defaultExpandAll: Boolean,\n  defaultSort: Object as PropType<TableProps<DefaultRow>['defaultSort']>,\n  tooltipEffect: String,\n  spanMethod: Function as PropType<TableProps<DefaultRow>['spanMethod']>,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true,\n  },\n  indent: {\n    type: Number,\n    default: 16,\n  },\n  treeProps: {\n    type: Object as PropType<TableProps<DefaultRow>['treeProps']>,\n    default: () => {\n      return {\n        hasChildren: 'hasChildren',\n        children: 'children',\n      }\n    },\n  },\n  lazy: Boolean,\n  load: Function as PropType<TableProps<DefaultRow>['load']>,\n  style: {\n    type: Object as PropType<CSSProperties>,\n    default: () => ({}),\n  },\n  className: {\n    type: String,\n    default: '',\n  },\n  tableLayout: {\n    type: String as PropType<Layout>,\n    default: 'fixed',\n  },\n  scrollbarAlwaysOn: {\n    type: Boolean,\n    default: false,\n  },\n  flexible: Boolean,\n}\nexport type {\n  SummaryMethod,\n  Table,\n  TableProps,\n  TableRefs,\n  ColumnCls,\n  ColumnStyle,\n  TreeNode,\n  RenderRowData,\n  Sort,\n  Filter,\n}\n","import { ref } from 'vue'\nimport { isNumber } from '@element-plus/utils'\n\nexport const useScrollbar = () => {\n  const scrollBarRef = ref()\n\n  const scrollTo = (options: ScrollToOptions | number, yCoord?: number) => {\n    const scrollbar = scrollBarRef.value\n    if (scrollbar) {\n      scrollbar.scrollTo(options, yCoord)\n    }\n  }\n\n  const setScrollPosition = (position: 'Top' | 'Left', offset?: number) => {\n    const scrollbar = scrollBarRef.value\n    if (scrollbar && isNumber(offset) && ['Top', 'Left'].includes(position)) {\n      scrollbar[`setScroll${position}`](offset)\n    }\n  }\n\n  const setScrollTop = (top?: number) => setScrollPosition('Top', top)\n  const setScrollLeft = (left?: number) => setScrollPosition('Left', left)\n\n  return {\n    scrollBarRef,\n    scrollTo,\n    setScrollTop,\n    setScrollLeft,\n  }\n}\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule UserAgent_DEPRECATED\n */\n\n/**\n *  Provides entirely client-side User Agent and OS detection. You should prefer\n *  the non-deprecated UserAgent module when possible, which exposes our\n *  authoritative server-side PHP-based detection to the client.\n *\n *  Usage is straightforward:\n *\n *    if (UserAgent_DEPRECATED.ie()) {\n *      //  IE\n *    }\n *\n *  You can also do version checks:\n *\n *    if (UserAgent_DEPRECATED.ie() >= 7) {\n *      //  IE7 or better\n *    }\n *\n *  The browser functions will return NaN if the browser does not match, so\n *  you can also do version compares the other way:\n *\n *    if (UserAgent_DEPRECATED.ie() < 7) {\n *      //  IE6 or worse\n *    }\n *\n *  Note that the version is a float and may include a minor version number,\n *  so you should always use range operators to perform comparisons, not\n *  strict equality.\n *\n *  **Note:** You should **strongly** prefer capability detection to browser\n *  version detection where it's reasonable:\n *\n *    http://www.quirksmode.org/js/support.html\n *\n *  Further, we have a large number of mature wrapper functions and classes\n *  which abstract away many browser irregularities. Check the documentation,\n *  grep for things, or ask on javascript@lists.facebook.com before writing yet\n *  another copy of \"event || window.event\".\n *\n */\n\nvar _populated = false;\n\n// Browsers\nvar _ie, _firefox, _opera, _webkit, _chrome;\n\n// Actual IE browser for compatibility mode\nvar _ie_real_version;\n\n// Platforms\nvar _osx, _windows, _linux, _android;\n\n// Architectures\nvar _win64;\n\n// Devices\nvar _iphone, _ipad, _native;\n\nvar _mobile;\n\nfunction _populate() {\n  if (_populated) {\n    return;\n  }\n\n  _populated = true;\n\n  // To work around buggy JS libraries that can't handle multi-digit\n  // version numbers, Opera 10's user agent string claims it's Opera\n  // 9, then later includes a Version/X.Y field:\n  //\n  // Opera/9.80 (foo) Presto/2.2.15 Version/10.10\n  var uas = navigator.userAgent;\n  var agent =\n    /(?:MSIE.(\\d+\\.\\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\\d+\\.\\d+))|(?:Opera(?:.+Version.|.)(\\d+\\.\\d+))|(?:AppleWebKit.(\\d+(?:\\.\\d+)?))|(?:Trident\\/\\d+\\.\\d+.*rv:(\\d+\\.\\d+))/.exec(\n      uas\n    );\n  var os = /(Mac OS X)|(Windows)|(Linux)/.exec(uas);\n\n  _iphone = /\\b(iPhone|iP[ao]d)/.exec(uas);\n  _ipad = /\\b(iP[ao]d)/.exec(uas);\n  _android = /Android/i.exec(uas);\n  _native = /FBAN\\/\\w+;/i.exec(uas);\n  _mobile = /Mobile/i.exec(uas);\n\n  // Note that the IE team blog would have you believe you should be checking\n  // for 'Win64; x64'.  But MSDN then reveals that you can actually be coming\n  // from either x64 or ia64;  so ultimately, you should just check for Win64\n  // as in indicator of whether you're in 64-bit IE.  32-bit IE on 64-bit\n  // Windows will send 'WOW64' instead.\n  _win64 = !!/Win64/.exec(uas);\n\n  if (agent) {\n    _ie = agent[1]\n      ? parseFloat(agent[1])\n      : agent[5]\n      ? parseFloat(agent[5])\n      : NaN;\n    // IE compatibility mode\n    if (_ie && document && document.documentMode) {\n      _ie = document.documentMode;\n    }\n    // grab the \"true\" ie version from the trident token if available\n    var trident = /(?:Trident\\/(\\d+.\\d+))/.exec(uas);\n    _ie_real_version = trident ? parseFloat(trident[1]) + 4 : _ie;\n\n    _firefox = agent[2] ? parseFloat(agent[2]) : NaN;\n    _opera = agent[3] ? parseFloat(agent[3]) : NaN;\n    _webkit = agent[4] ? parseFloat(agent[4]) : NaN;\n    if (_webkit) {\n      // We do not add the regexp to the above test, because it will always\n      // match 'safari' only since 'AppleWebKit' appears before 'Chrome' in\n      // the userAgent string.\n      agent = /(?:Chrome\\/(\\d+\\.\\d+))/.exec(uas);\n      _chrome = agent && agent[1] ? parseFloat(agent[1]) : NaN;\n    } else {\n      _chrome = NaN;\n    }\n  } else {\n    _ie = _firefox = _opera = _chrome = _webkit = NaN;\n  }\n\n  if (os) {\n    if (os[1]) {\n      // Detect OS X version.  If no version number matches, set _osx to true.\n      // Version examples:  10, 10_6_1, 10.7\n      // Parses version number as a float, taking only first two sets of\n      // digits.  If only one set of digits is found, returns just the major\n      // version number.\n      var ver = /(?:Mac OS X (\\d+(?:[._]\\d+)?))/.exec(uas);\n\n      _osx = ver ? parseFloat(ver[1].replace('_', '.')) : true;\n    } else {\n      _osx = false;\n    }\n    _windows = !!os[2];\n    _linux = !!os[3];\n  } else {\n    _osx = _windows = _linux = false;\n  }\n}\n\nvar UserAgent_DEPRECATED = {\n  /**\n   *  Check if the UA is Internet Explorer.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  ie: function () {\n    return _populate() || _ie;\n  },\n\n  /**\n   * Check if we're in Internet Explorer compatibility mode.\n   *\n   * @return bool true if in compatibility mode, false if\n   * not compatibility mode or not ie\n   */\n  ieCompatibilityMode: function () {\n    return _populate() || _ie_real_version > _ie;\n  },\n\n  /**\n   * Whether the browser is 64-bit IE.  Really, this is kind of weak sauce;  we\n   * only need this because Skype can't handle 64-bit IE yet.  We need to remove\n   * this when we don't need it -- tracked by #601957.\n   */\n  ie64: function () {\n    return UserAgent_DEPRECATED.ie() && _win64;\n  },\n\n  /**\n   *  Check if the UA is Firefox.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  firefox: function () {\n    return _populate() || _firefox;\n  },\n\n  /**\n   *  Check if the UA is Opera.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  opera: function () {\n    return _populate() || _opera;\n  },\n\n  /**\n   *  Check if the UA is WebKit.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  webkit: function () {\n    return _populate() || _webkit;\n  },\n\n  /**\n   *  For Push\n   *  WILL BE REMOVED VERY SOON. Use UserAgent_DEPRECATED.webkit\n   */\n  safari: function () {\n    return UserAgent_DEPRECATED.webkit();\n  },\n\n  /**\n   *  Check if the UA is a Chrome browser.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  chrome: function () {\n    return _populate() || _chrome;\n  },\n\n  /**\n   *  Check if the user is running Windows.\n   *\n   *  @return bool `true' if the user's OS is Windows.\n   */\n  windows: function () {\n    return _populate() || _windows;\n  },\n\n  /**\n   *  Check if the user is running Mac OS X.\n   *\n   *  @return float|bool   Returns a float if a version number is detected,\n   *                       otherwise true/false.\n   */\n  osx: function () {\n    return _populate() || _osx;\n  },\n\n  /**\n   * Check if the user is running Linux.\n   *\n   * @return bool `true' if the user's OS is some flavor of Linux.\n   */\n  linux: function () {\n    return _populate() || _linux;\n  },\n\n  /**\n   * Check if the user is running on an iPhone or iPod platform.\n   *\n   * @return bool `true' if the user is running some flavor of the\n   *    iPhone OS.\n   */\n  iphone: function () {\n    return _populate() || _iphone;\n  },\n\n  mobile: function () {\n    return _populate() || _iphone || _ipad || _android || _mobile;\n  },\n\n  nativeApp: function () {\n    // webviews inside of the native apps\n    return _populate() || _native;\n  },\n\n  android: function () {\n    return _populate() || _android;\n  },\n\n  ipad: function () {\n    return _populate() || _ipad;\n  },\n};\n\nexport default UserAgent_DEPRECATED;\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isEventSupported\n */\n\nimport ExecutionEnvironment from './ExecutionEnvironment';\n\nvar useHasFeature;\nif (ExecutionEnvironment.canUseDOM) {\n  useHasFeature =\n    document.implementation &&\n    document.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    document.implementation.hasFeature('', '') !== true;\n}\n\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @param {?boolean} capture Check if the capture phase is supported.\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nfunction isEventSupported(eventNameSuffix, capture) {\n  if (\n    !ExecutionEnvironment.canUseDOM ||\n    (capture && !('addEventListener' in document))\n  ) {\n    return false;\n  }\n\n  var eventName = 'on' + eventNameSuffix;\n  var isSupported = eventName in document;\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nexport default isEventSupported;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ExecutionEnvironment\n */\n\n/*jslint evil: true */\n\nvar canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners:\n    canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM, // For now, this is true - might change in the future.\n};\n\nexport default ExecutionEnvironment;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule normalizeWheel\n * @typechecks\n */\n\nimport UserAgent_DEPRECATED from './UserAgent_DEPRECATED';\n\nimport isEventSupported from './isEventSupported';\n\n// Reasonable defaults\nvar PIXEL_STEP = 10;\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n\n/**\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n */\nfunction normalizeWheel(/*object*/ event) /*object*/ {\n  var sX = 0,\n    sY = 0, // spinX, spinY\n    pX = 0,\n    pY = 0; // pixelX, pixelY\n\n  // Legacy\n  if ('detail' in event) {\n    sY = event.detail;\n  }\n  if ('wheelDelta' in event) {\n    sY = -event.wheelDelta / 120;\n  }\n  if ('wheelDeltaY' in event) {\n    sY = -event.wheelDeltaY / 120;\n  }\n  if ('wheelDeltaX' in event) {\n    sX = -event.wheelDeltaX / 120;\n  }\n\n  // side scrolling on FF with DOMMouseScroll\n  if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\n    sX = sY;\n    sY = 0;\n  }\n\n  pX = sX * PIXEL_STEP;\n  pY = sY * PIXEL_STEP;\n\n  if ('deltaY' in event) {\n    pY = event.deltaY;\n  }\n  if ('deltaX' in event) {\n    pX = event.deltaX;\n  }\n\n  if ((pX || pY) && event.deltaMode) {\n    if (event.deltaMode == 1) {\n      // delta in LINE units\n      pX *= LINE_HEIGHT;\n      pY *= LINE_HEIGHT;\n    } else {\n      // delta in PAGE units\n      pX *= PAGE_HEIGHT;\n      pY *= PAGE_HEIGHT;\n    }\n  }\n\n  // Fall-back if spin cannot be determined\n  if (pX && !sX) {\n    sX = pX < 1 ? -1 : 1;\n  }\n  if (pY && !sY) {\n    sY = pY < 1 ? -1 : 1;\n  }\n\n  return { spinX: sX, spinY: sY, pixelX: pX, pixelY: pY };\n}\n\n/**\n * The best combination if you prefer spinX + spinY normalization.  It favors\n * the older DOMMouseScroll for Firefox, as FF does not include wheelDelta with\n * 'wheel' event, making spin speed determination impossible.\n */\nnormalizeWheel.getEventType = function () /*string*/ {\n  return UserAgent_DEPRECATED.firefox()\n    ? 'DOMMouseScroll'\n    : isEventSupported('wheel')\n    ? 'wheel'\n    : 'mousewheel';\n};\n\nexport default normalizeWheel;\n","import normalizeWheel from 'normalize-wheel-es'\nimport type { DirectiveBinding, ObjectDirective } from 'vue'\n\nconst mousewheel = function (element, callback) {\n  if (element && element.addEventListener) {\n    const fn = function (this: any, event) {\n      const normalized = normalizeWheel(event)\n      callback && Reflect.apply(callback, this, [event, normalized])\n    }\n    element.addEventListener('wheel', fn, { passive: true })\n  }\n}\n\nconst Mousewheel: ObjectDirective = {\n  beforeMount(el: HTMLElement, binding: DirectiveBinding) {\n    mousewheel(el, binding.value)\n  },\n}\n\nexport default Mousewheel\n","<template>\n  <div\n    ref=\"tableWrapper\"\n    :class=\"[\n      {\n        [ns.m('fit')]: fit,\n        [ns.m('striped')]: stripe,\n        [ns.m('border')]: border || isGroup,\n        [ns.m('hidden')]: isHidden,\n        [ns.m('group')]: isGroup,\n        [ns.m('fluid-height')]: maxHeight,\n        [ns.m('scrollable-x')]: layout.scrollX.value,\n        [ns.m('scrollable-y')]: layout.scrollY.value,\n        [ns.m('enable-row-hover')]: !store.states.isComplex.value,\n        [ns.m('enable-row-transition')]:\n          (store.states.data.value || []).length !== 0 &&\n          (store.states.data.value || []).length < 100,\n        'has-footer': showSummary,\n      },\n      ns.m(tableSize),\n      className,\n      ns.b(),\n      ns.m(`layout-${tableLayout}`),\n    ]\"\n    :style=\"style\"\n    :data-prefix=\"ns.namespace.value\"\n    @mouseleave=\"handleMouseLeave()\"\n  >\n    <div :class=\"ns.e('inner-wrapper')\">\n      <div ref=\"hiddenColumns\" class=\"hidden-columns\">\n        <slot />\n      </div>\n      <div\n        v-if=\"showHeader && tableLayout === 'fixed'\"\n        ref=\"headerWrapper\"\n        v-mousewheel=\"handleHeaderFooterMousewheel\"\n        :class=\"ns.e('header-wrapper')\"\n      >\n        <table\n          ref=\"tableHeader\"\n          :class=\"ns.e('header')\"\n          :style=\"tableBodyStyles\"\n          border=\"0\"\n          cellpadding=\"0\"\n          cellspacing=\"0\"\n        >\n          <hColgroup\n            :columns=\"store.states.columns.value\"\n            :table-layout=\"tableLayout\"\n          />\n          <table-header\n            ref=\"tableHeaderRef\"\n            :border=\"border\"\n            :default-sort=\"defaultSort\"\n            :store=\"store\"\n            @set-drag-visible=\"setDragVisible\"\n          />\n        </table>\n      </div>\n      <div ref=\"bodyWrapper\" :style=\"bodyHeight\" :class=\"ns.e('body-wrapper')\">\n        <el-scrollbar\n          ref=\"scrollBarRef\"\n          :height=\"maxHeight ? undefined : height\"\n          :max-height=\"maxHeight ? height : undefined\"\n          :view-style=\"scrollbarViewStyle\"\n          :always=\"scrollbarAlwaysOn\"\n        >\n          <table\n            ref=\"tableBody\"\n            :class=\"ns.e('body')\"\n            cellspacing=\"0\"\n            cellpadding=\"0\"\n            border=\"0\"\n            :style=\"{\n              width: bodyWidth,\n              tableLayout,\n            }\"\n          >\n            <hColgroup\n              :columns=\"store.states.columns.value\"\n              :table-layout=\"tableLayout\"\n            />\n            <table-header\n              v-if=\"showHeader && tableLayout === 'auto'\"\n              :border=\"border\"\n              :default-sort=\"defaultSort\"\n              :store=\"store\"\n              @set-drag-visible=\"setDragVisible\"\n            />\n            <table-body\n              :context=\"context\"\n              :highlight=\"highlightCurrentRow\"\n              :row-class-name=\"rowClassName\"\n              :tooltip-effect=\"tooltipEffect\"\n              :row-style=\"rowStyle\"\n              :store=\"store\"\n              :stripe=\"stripe\"\n            />\n          </table>\n          <div\n            v-if=\"isEmpty\"\n            ref=\"emptyBlock\"\n            :style=\"emptyBlockStyle\"\n            :class=\"ns.e('empty-block')\"\n          >\n            <span :class=\"ns.e('empty-text')\">\n              <slot name=\"empty\">{{ computedEmptyText }}</slot>\n            </span>\n          </div>\n          <div\n            v-if=\"$slots.append\"\n            ref=\"appendWrapper\"\n            :class=\"ns.e('append-wrapper')\"\n          >\n            <slot name=\"append\" />\n          </div>\n        </el-scrollbar>\n      </div>\n      <div v-if=\"border || isGroup\" :class=\"ns.e('border-left-patch')\" />\n    </div>\n    <div\n      v-if=\"showSummary\"\n      v-show=\"!isEmpty\"\n      ref=\"footerWrapper\"\n      v-mousewheel=\"handleHeaderFooterMousewheel\"\n      :class=\"ns.e('footer-wrapper')\"\n    >\n      <table-footer\n        :border=\"border\"\n        :default-sort=\"defaultSort\"\n        :store=\"store\"\n        :style=\"tableBodyStyles\"\n        :sum-text=\"computedSumText\"\n        :summary-method=\"summaryMethod\"\n      />\n    </div>\n    <div\n      v-show=\"resizeProxyVisible\"\n      ref=\"resizeProxy\"\n      :class=\"ns.e('column-resize-proxy')\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, getCurrentInstance, provide } from 'vue'\nimport { debounce } from 'lodash-unified'\nimport { Mousewheel } from '@element-plus/directives'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElScrollbar from '@element-plus/components/scrollbar'\nimport { createStore } from './store/helper'\nimport TableLayout from './table-layout'\nimport TableHeader from './table-header'\nimport TableBody from './table-body'\nimport TableFooter from './table-footer'\nimport useUtils from './table/utils-helper'\nimport useStyle from './table/style-helper'\nimport defaultProps from './table/defaults'\nimport { TABLE_INJECTION_KEY } from './tokens'\nimport { hColgroup } from './h-helper'\nimport { useScrollbar } from './composables/use-scrollbar'\n\nimport type { Table } from './table/defaults'\n\nlet tableIdSeed = 1\nexport default defineComponent({\n  name: 'ElTable',\n  directives: {\n    Mousewheel,\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter,\n    ElScrollbar,\n    hColgroup,\n  },\n  props: defaultProps,\n  emits: [\n    'select',\n    'select-all',\n    'selection-change',\n    'cell-mouse-enter',\n    'cell-mouse-leave',\n    'cell-contextmenu',\n    'cell-click',\n    'cell-dblclick',\n    'row-click',\n    'row-contextmenu',\n    'row-dblclick',\n    'header-click',\n    'header-contextmenu',\n    'sort-change',\n    'filter-change',\n    'current-change',\n    'header-dragend',\n    'expand-change',\n  ],\n  setup(props) {\n    type Row = typeof props.data[number]\n    const { t } = useLocale()\n    const ns = useNamespace('table')\n    const table = getCurrentInstance() as Table<Row>\n    provide(TABLE_INJECTION_KEY, table)\n    const store = createStore<Row>(table, props)\n    table.store = store\n    const layout = new TableLayout<Row>({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader,\n    })\n    table.layout = layout\n\n    const isEmpty = computed(() => (store.states.data.value || []).length === 0)\n\n    /**\n     * open functions\n     */\n    const {\n      setCurrentRow,\n      getSelectionRows,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      sort,\n    } = useUtils<Row>(store)\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      height,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      doLayout,\n      tableBodyStyles,\n      tableLayout,\n      scrollbarViewStyle,\n    } = useStyle<Row>(props, layout, store, table)\n\n    const { scrollBarRef, scrollTo, setScrollLeft, setScrollTop } =\n      useScrollbar()\n\n    const debouncedUpdateLayout = debounce(doLayout, 50)\n\n    const tableId = `el-table_${tableIdSeed++}`\n    table.tableId = tableId\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout,\n    }\n    const computedSumText = computed(\n      () => props.sumText || t('el.table.sumText')\n    )\n\n    const computedEmptyText = computed(() => {\n      return props.emptyText || t('el.table.emptyText')\n    })\n\n    return {\n      ns,\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      isEmpty,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      bodyWidth,\n      bodyHeight,\n      height,\n      tableBodyStyles,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      getSelectionRows,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      t,\n      setDragVisible,\n      context: table,\n      computedSumText,\n      computedEmptyText,\n      tableLayout,\n      scrollbarViewStyle,\n      scrollBarRef,\n      scrollTo,\n      setScrollLeft,\n      setScrollTop,\n    }\n  },\n})\n</script>\n","import { h } from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { ArrowRight, Loading } from '@element-plus/icons-vue'\nimport { getProp } from '@element-plus/utils'\n\nimport type { VNode } from 'vue'\nimport type { TableColumnCtx } from './table-column/defaults'\nimport type { Store } from './store'\nimport type { TreeNode } from './table/defaults'\n\nconst defaultClassNames = {\n  selection: 'table-column--selection',\n  expand: 'table__expand-column',\n}\n\nexport const cellStarts = {\n  default: {\n    order: '',\n  },\n  selection: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: '',\n  },\n  expand: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: '',\n  },\n  index: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: '',\n  },\n}\n\nexport const getDefaultClassName = (type) => {\n  return defaultClassNames[type] || ''\n}\n\n// 这些选项不应该被覆盖\nexport const cellForced = {\n  selection: {\n    renderHeader<T>({ store }: { store: Store<T> }) {\n      function isDisabled() {\n        return store.states.data.value && store.states.data.value.length === 0\n      }\n      return h(ElCheckbox, {\n        disabled: isDisabled(),\n        size: store.states.tableSize.value,\n        indeterminate:\n          store.states.selection.value.length > 0 &&\n          !store.states.isAllSelected.value,\n        'onUpdate:modelValue': store.toggleAllSelection,\n        modelValue: store.states.isAllSelected.value,\n      })\n    },\n    renderCell<T>({\n      row,\n      column,\n      store,\n      $index,\n    }: {\n      row: T\n      column: TableColumnCtx<T>\n      store: Store<T>\n      $index: string\n    }) {\n      return h(ElCheckbox, {\n        disabled: column.selectable\n          ? !column.selectable.call(null, row, $index)\n          : false,\n        size: store.states.tableSize.value,\n        onChange: () => {\n          store.commit('rowSelectedChanged', row)\n        },\n        onClick: (event: Event) => event.stopPropagation(),\n        modelValue: store.isSelected(row),\n      })\n    },\n    sortable: false,\n    resizable: false,\n  },\n  index: {\n    renderHeader<T>({ column }: { column: TableColumnCtx<T> }) {\n      return column.label || '#'\n    },\n    renderCell<T>({\n      column,\n      $index,\n    }: {\n      column: TableColumnCtx<T>\n      $index: number\n    }) {\n      let i = $index + 1\n      const index = column.index\n\n      if (typeof index === 'number') {\n        i = $index + index\n      } else if (typeof index === 'function') {\n        i = index($index)\n      }\n      return h('div', {}, [i])\n    },\n    sortable: false,\n  },\n  expand: {\n    renderHeader<T>({ column }: { column: TableColumnCtx<T> }) {\n      return column.label || ''\n    },\n    renderCell<T>({\n      row,\n      store,\n      expanded,\n    }: {\n      row: T\n      store: Store<T>\n      expanded: boolean\n    }) {\n      const { ns } = store\n      const classes = [ns.e('expand-icon')]\n      if (expanded) {\n        classes.push(ns.em('expand-icon', 'expanded'))\n      }\n      const callback = function (e: Event) {\n        e.stopPropagation()\n        store.toggleRowExpansion(row)\n      }\n      return h(\n        'div',\n        {\n          class: classes,\n          onClick: callback,\n        },\n        {\n          default: () => {\n            return [\n              h(ElIcon, null, {\n                default: () => {\n                  return [h(ArrowRight)]\n                },\n              }),\n            ]\n          },\n        }\n      )\n    },\n    sortable: false,\n    resizable: false,\n  },\n}\n\nexport function defaultRenderCell<T>({\n  row,\n  column,\n  $index,\n}: {\n  row: T\n  column: TableColumnCtx<T>\n  $index: number\n}) {\n  const property = column.property\n  const value = property && getProp(row, property).value\n  if (column && column.formatter) {\n    return column.formatter(row, column, value, $index)\n  }\n  return value?.toString?.() || ''\n}\n\nexport function treeCellPrefix<T>(\n  {\n    row,\n    treeNode,\n    store,\n  }: {\n    row: T\n    treeNode: TreeNode\n    store: Store<T>\n  },\n  createPlacehoder = false\n) {\n  const { ns } = store\n  if (!treeNode) {\n    if (createPlacehoder) {\n      return [\n        h('span', {\n          class: ns.e('placeholder'),\n        }),\n      ]\n    }\n    return null\n  }\n  const ele: VNode[] = []\n  const callback = function (e) {\n    e.stopPropagation()\n    store.loadOrToggle(row)\n  }\n  if (treeNode.indent) {\n    ele.push(\n      h('span', {\n        class: ns.e('indent'),\n        style: { 'padding-left': `${treeNode.indent}px` },\n      })\n    )\n  }\n  if (typeof treeNode.expanded === 'boolean' && !treeNode.noLazyChildren) {\n    const expandClasses = [\n      ns.e('expand-icon'),\n      treeNode.expanded ? ns.em('expand-icon', 'expanded') : '',\n    ]\n    let icon = ArrowRight\n    if (treeNode.loading) {\n      icon = Loading\n    }\n\n    ele.push(\n      h(\n        'div',\n        {\n          class: expandClasses,\n          onClick: callback,\n        },\n        {\n          default: () => {\n            return [\n              h(\n                ElIcon,\n                { class: { [ns.is('loading')]: treeNode.loading } },\n                {\n                  default: () => [h(icon)],\n                }\n              ),\n            ]\n          },\n        }\n      )\n    )\n  } else {\n    ele.push(\n      h('span', {\n        class: ns.e('placeholder'),\n      })\n    )\n  }\n  return ele\n}\n","import { getCurrentInstance, watch } from 'vue'\nimport { hasOwn } from '@element-plus/utils'\nimport { parseMinWidth, parseWidth } from '../util'\n\nimport type { ComputedRef } from 'vue'\nimport type { TableColumn, TableColumnCtx, ValueOf } from './defaults'\n\nfunction getAllAliases(props, aliases) {\n  return props.reduce((prev, cur) => {\n    prev[cur] = cur\n    return prev\n  }, aliases)\n}\nfunction useWatcher<T>(\n  owner: ComputedRef<any>,\n  props_: Partial<TableColumnCtx<T>>\n) {\n  const instance = getCurrentInstance() as TableColumn<T>\n  const registerComplexWatchers = () => {\n    const props = ['fixed']\n    const aliases = {\n      realWidth: 'width',\n      realMinWidth: 'minWidth',\n    }\n    const allAliases = getAllAliases(props, aliases)\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key]\n      if (hasOwn(props_, columnKey)) {\n        watch(\n          () => props_[columnKey],\n          (newVal) => {\n            let value: ValueOf<TableColumnCtx<T>> = newVal\n            if (columnKey === 'width' && key === 'realWidth') {\n              value = parseWidth(newVal)\n            }\n            if (columnKey === 'minWidth' && key === 'realMinWidth') {\n              value = parseMinWidth(newVal)\n            }\n            instance.columnConfig.value[columnKey as any] = value\n            instance.columnConfig.value[key] = value\n            const updateColumns = columnKey === 'fixed'\n            owner.value.store.scheduleLayout(updateColumns)\n          }\n        )\n      }\n    })\n  }\n  const registerNormalWatchers = () => {\n    const props = [\n      'label',\n      'filters',\n      'filterMultiple',\n      'sortable',\n      'index',\n      'formatter',\n      'className',\n      'labelClassName',\n      'showOverflowTooltip',\n    ]\n    const aliases = {\n      property: 'prop',\n      align: 'realAlign',\n      headerAlign: 'realHeaderAlign',\n    }\n    const allAliases = getAllAliases(props, aliases)\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key]\n      if (hasOwn(props_, columnKey)) {\n        watch(\n          () => props_[columnKey],\n          (newVal) => {\n            instance.columnConfig.value[key] = newVal\n          }\n        )\n      }\n    })\n  }\n\n  return {\n    registerComplexWatchers,\n    registerNormalWatchers,\n  }\n}\n\nexport default useWatcher\n","import {\n  Comment,\n  computed,\n  getCurrentInstance,\n  h,\n  ref,\n  unref,\n  watchEffect,\n} from 'vue'\nimport { debugWarn } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  cellForced,\n  defaultRenderCell,\n  getDefaultClassName,\n  treeCellPrefix,\n} from '../config'\nimport { parseMinWidth, parseWidth } from '../util'\nimport type { ComputedRef } from 'vue'\nimport type { TableColumn, TableColumnCtx } from './defaults'\n\nfunction useRender<T>(\n  props: TableColumnCtx<T>,\n  slots,\n  owner: ComputedRef<any>\n) {\n  const instance = getCurrentInstance() as TableColumn<T>\n  const columnId = ref('')\n  const isSubColumn = ref(false)\n  const realAlign = ref<string>()\n  const realHeaderAlign = ref<string>()\n  const ns = useNamespace('table')\n  watchEffect(() => {\n    realAlign.value = props.align ? `is-${props.align}` : null\n    // nextline help render\n    realAlign.value\n  })\n  watchEffect(() => {\n    realHeaderAlign.value = props.headerAlign\n      ? `is-${props.headerAlign}`\n      : realAlign.value\n    // nextline help render\n    realHeaderAlign.value\n  })\n  const columnOrTableParent = computed(() => {\n    let parent: any = instance.vnode.vParent || instance.parent\n    while (parent && !parent.tableId && !parent.columnId) {\n      parent = parent.vnode.vParent || parent.parent\n    }\n    return parent\n  })\n  const hasTreeColumn = computed<boolean>(() => {\n    const { store } = instance.parent\n    if (!store) return false\n    const { treeData } = store.states\n    const treeDataValue = treeData.value\n    return treeDataValue && Object.keys(treeDataValue).length > 0\n  })\n\n  const realWidth = ref(parseWidth(props.width))\n  const realMinWidth = ref(parseMinWidth(props.minWidth))\n  const setColumnWidth = (column: TableColumnCtx<T>) => {\n    if (realWidth.value) column.width = realWidth.value\n    if (realMinWidth.value) {\n      column.minWidth = realMinWidth.value\n    }\n    if (!column.minWidth) {\n      column.minWidth = 80\n    }\n    column.realWidth = Number(\n      column.width === undefined ? column.minWidth : column.width\n    )\n    return column\n  }\n  const setColumnForcedProps = (column: TableColumnCtx<T>) => {\n    // 对于特定类型的 column，某些属性不允许设置\n    const type = column.type\n    const source = cellForced[type] || {}\n    Object.keys(source).forEach((prop) => {\n      const value = source[prop]\n      if (prop !== 'className' && value !== undefined) {\n        column[prop] = value\n      }\n    })\n    const className = getDefaultClassName(type)\n    if (className) {\n      const forceClass = `${unref(ns.namespace)}-${className}`\n      column.className = column.className\n        ? `${column.className} ${forceClass}`\n        : forceClass\n    }\n    return column\n  }\n\n  const checkSubColumn = (children: TableColumn<T> | TableColumn<T>[]) => {\n    if (Array.isArray(children)) {\n      children.forEach((child) => check(child))\n    } else {\n      check(children)\n    }\n    function check(item: TableColumn<T>) {\n      if (item?.type?.name === 'ElTableColumn') {\n        item.vParent = instance\n      }\n    }\n  }\n  const setColumnRenders = (column: TableColumnCtx<T>) => {\n    // renderHeader 属性不推荐使用。\n    if (props.renderHeader) {\n      debugWarn(\n        'TableColumn',\n        'Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.'\n      )\n    } else if (column.type !== 'selection') {\n      column.renderHeader = (scope) => {\n        // help render\n        instance.columnConfig.value['label']\n        const renderHeader = slots.header\n        return renderHeader ? renderHeader(scope) : column.label\n      }\n    }\n\n    let originRenderCell = column.renderCell\n    const hasTreeColumnValue = hasTreeColumn.value\n    // TODO: 这里的实现调整\n    if (column.type === 'expand') {\n      // 对于展开行，renderCell 不允许配置的。在上一步中已经设置过，这里需要简单封装一下。\n      column.renderCell = (data) =>\n        h(\n          'div',\n          {\n            class: 'cell',\n          },\n          [originRenderCell(data)]\n        )\n      owner.value.renderExpanded = (data) => {\n        return slots.default ? slots.default(data) : slots.default\n      }\n    } else {\n      originRenderCell = originRenderCell || defaultRenderCell\n      // 对 renderCell 进行包装\n      column.renderCell = (data) => {\n        let children = null\n        if (slots.default) {\n          const vnodes = slots.default(data)\n          children = vnodes.some((v) => v.type !== Comment)\n            ? vnodes\n            : originRenderCell(data)\n        } else {\n          children = originRenderCell(data)\n        }\n        const shouldCreatePlaceholder =\n          hasTreeColumnValue && data.cellIndex === 0\n        const prefix = treeCellPrefix(data, shouldCreatePlaceholder)\n        const props = {\n          class: 'cell',\n          style: {},\n        }\n        if (column.showOverflowTooltip) {\n          props.class = `${props.class} ${unref(ns.namespace)}-tooltip`\n          props.style = {\n            width: `${\n              (data.column.realWidth || Number(data.column.width)) - 1\n            }px`,\n          }\n        }\n        checkSubColumn(children)\n        return h('div', props, [prefix, children])\n      }\n    }\n    return column\n  }\n  const getPropsData = (...propsKey: unknown[]) => {\n    return propsKey.reduce((prev, cur) => {\n      if (Array.isArray(cur)) {\n        cur.forEach((key) => {\n          prev[key] = props[key]\n        })\n      }\n      return prev\n    }, {})\n  }\n  const getColumnElIndex = (children, child) => {\n    return Array.prototype.indexOf.call(children, child)\n  }\n\n  return {\n    columnId,\n    realAlign,\n    isSubColumn,\n    realHeaderAlign,\n    columnOrTableParent,\n    setColumnWidth,\n    setColumnForcedProps,\n    setColumnRenders,\n    getPropsData,\n    getColumnElIndex,\n  }\n}\n\nexport default useRender\n","import type { ComponentInternalInstance, PropType, Ref, VNode } from 'vue'\nimport type { DefaultRow, Table } from '../table/defaults'\n\ntype CI<T> = { column: TableColumnCtx<T>; $index: number }\n\ntype Filters = {\n  text: string\n  value: string\n}[]\n\ntype FilterMethods<T> = (value, row: T, column: TableColumnCtx<T>) => void\n\ntype ValueOf<T> = T[keyof T]\n\ninterface TableColumnCtx<T> {\n  id: string\n  realWidth: number\n  type: string\n  label: string\n  className: string\n  labelClassName: string\n  property: string\n  prop: string\n  width: string | number\n  minWidth: string | number\n  renderHeader: (data: CI<T>) => VNode\n  sortable: boolean | string\n  sortMethod: (a: T, b: T) => number\n  sortBy: string | ((row: T, index: number) => string) | string[]\n  resizable: boolean\n  columnKey: string\n  rawColumnKey: string\n  align: string\n  headerAlign: string\n  showTooltipWhenOverflow: boolean\n  showOverflowTooltip: boolean\n  fixed: boolean | string\n  formatter: (\n    row: T,\n    column: TableColumnCtx<T>,\n    cellValue,\n    index: number\n  ) => VNode | string\n  selectable: (row: T, index: number) => boolean\n  reserveSelection: boolean\n  filterMethod: FilterMethods<T>\n  filteredValue: string[]\n  filters: Filters\n  filterPlacement: string\n  filterMultiple: boolean\n  index: number | ((index: number) => number)\n  sortOrders: ('ascending' | 'descending' | null)[]\n  renderCell: (data: any) => void\n  colSpan: number\n  rowSpan: number\n  children: TableColumnCtx<T>[]\n  level: number\n  filterable: boolean | FilterMethods<T> | Filters\n  order: string\n  isColumnGroup: boolean\n  isSubColumn: boolean\n  columns: TableColumnCtx<T>[]\n  getColumnIndex: () => number\n  no: number\n  filterOpened?: boolean\n}\n\ninterface TableColumn<T> extends ComponentInternalInstance {\n  vnode: {\n    vParent: TableColumn<T> | Table<T>\n  } & VNode\n  vParent: TableColumn<T> | Table<T>\n  columnId: string\n  columnConfig: Ref<Partial<TableColumnCtx<T>>>\n}\n\nexport type { Filters, FilterMethods, TableColumnCtx, TableColumn, ValueOf }\n\nexport default {\n  type: {\n    type: String,\n    default: 'default',\n  },\n  label: String,\n  className: String,\n  labelClassName: String,\n  property: String,\n  prop: String,\n  width: {\n    type: [String, Number],\n    default: '',\n  },\n  minWidth: {\n    type: [String, Number],\n    default: '',\n  },\n  renderHeader: Function as PropType<\n    TableColumnCtx<DefaultRow>['renderHeader']\n  >,\n  sortable: {\n    type: [Boolean, String],\n    default: false,\n  },\n  sortMethod: Function as PropType<TableColumnCtx<DefaultRow>['sortMethod']>,\n  sortBy: [String, Function, Array] as PropType<\n    TableColumnCtx<DefaultRow>['sortBy']\n  >,\n  resizable: {\n    type: Boolean,\n    default: true,\n  },\n  columnKey: String,\n  align: String,\n  headerAlign: String,\n  showTooltipWhenOverflow: Boolean,\n  showOverflowTooltip: Boolean,\n  fixed: [Boolean, String],\n  formatter: Function as PropType<TableColumnCtx<DefaultRow>['formatter']>,\n  selectable: Function as PropType<TableColumnCtx<DefaultRow>['selectable']>,\n  reserveSelection: Boolean,\n  filterMethod: Function as PropType<\n    TableColumnCtx<DefaultRow>['filterMethod']\n  >,\n  filteredValue: Array as PropType<TableColumnCtx<DefaultRow>['filteredValue']>,\n  filters: Array as PropType<TableColumnCtx<DefaultRow>['filters']>,\n  filterPlacement: String,\n  filterMultiple: {\n    type: Boolean,\n    default: true,\n  },\n  index: [Number, Function] as PropType<TableColumnCtx<DefaultRow>['index']>,\n  sortOrders: {\n    type: Array as PropType<TableColumnCtx<DefaultRow>['sortOrders']>,\n    default: () => {\n      return ['ascending', 'descending', null]\n    },\n    validator: (val: TableColumnCtx<unknown>['sortOrders']) => {\n      return val.every((order: string) =>\n        ['ascending', 'descending', null].includes(order)\n      )\n    },\n  },\n}\n","import {\n  Fragment,\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  h,\n  onBeforeMount,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n} from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { isString } from '@element-plus/utils'\nimport { cellStarts } from '../config'\nimport { compose, mergeOptions } from '../util'\nimport useWatcher from './watcher-helper'\nimport useRender from './render-helper'\nimport defaultProps from './defaults'\nimport type { TableColumn, TableColumnCtx } from './defaults'\n\nimport type { DefaultRow } from '../table/defaults'\n\nlet columnIdSeed = 1\n\nexport default defineComponent({\n  name: 'ElTableColumn',\n  components: {\n    ElCheckbox,\n  },\n  props: defaultProps,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance() as TableColumn<DefaultRow>\n    const columnConfig = ref<Partial<TableColumnCtx<DefaultRow>>>({})\n    const owner = computed(() => {\n      let parent = instance.parent as any\n      while (parent && !parent.tableId) {\n        parent = parent.parent\n      }\n      return parent\n    })\n\n    const { registerNormalWatchers, registerComplexWatchers } = useWatcher(\n      owner,\n      props\n    )\n    const {\n      columnId,\n      isSubColumn,\n      realHeaderAlign,\n      columnOrTableParent,\n      setColumnWidth,\n      setColumnForcedProps,\n      setColumnRenders,\n      getPropsData,\n      getColumnElIndex,\n      realAlign,\n    } = useRender(props as unknown as TableColumnCtx<unknown>, slots, owner)\n\n    const parent = columnOrTableParent.value\n    columnId.value = `${\n      parent.tableId || parent.columnId\n    }_column_${columnIdSeed++}`\n    onBeforeMount(() => {\n      isSubColumn.value = owner.value !== parent\n\n      const type = props.type || 'default'\n      const sortable = props.sortable === '' ? true : props.sortable\n      const defaults = {\n        ...cellStarts[type],\n        id: columnId.value,\n        type,\n        property: props.prop || props.property,\n        align: realAlign,\n        headerAlign: realHeaderAlign,\n        showOverflowTooltip:\n          props.showOverflowTooltip || props.showTooltipWhenOverflow,\n        // filter 相关属性\n        filterable: props.filters || props.filterMethod,\n        filteredValue: [],\n        filterPlacement: '',\n        isColumnGroup: false,\n        isSubColumn: false,\n        filterOpened: false,\n        // sort 相关属性\n        sortable,\n        // index 列\n        index: props.index,\n        // <el-table-column key=\"xxx\" />\n        rawColumnKey: instance.vnode.key,\n      }\n\n      const basicProps = [\n        'columnKey',\n        'label',\n        'className',\n        'labelClassName',\n        'type',\n        'renderHeader',\n        'formatter',\n        'fixed',\n        'resizable',\n      ]\n      const sortProps = ['sortMethod', 'sortBy', 'sortOrders']\n      const selectProps = ['selectable', 'reserveSelection']\n      const filterProps = [\n        'filterMethod',\n        'filters',\n        'filterMultiple',\n        'filterOpened',\n        'filteredValue',\n        'filterPlacement',\n      ]\n\n      let column = getPropsData(basicProps, sortProps, selectProps, filterProps)\n\n      column = mergeOptions(defaults, column)\n      // 注意 compose 中函数执行的顺序是从右到左\n      const chains = compose(\n        setColumnRenders,\n        setColumnWidth,\n        setColumnForcedProps\n      )\n      column = chains(column)\n      columnConfig.value = column\n\n      // 注册 watcher\n      registerNormalWatchers()\n      registerComplexWatchers()\n    })\n    onMounted(() => {\n      const parent = columnOrTableParent.value\n      const children = isSubColumn.value\n        ? parent.vnode.el.children\n        : parent.refs.hiddenColumns?.children\n      const getColumnIndex = () =>\n        getColumnElIndex(children || [], instance.vnode.el)\n      columnConfig.value.getColumnIndex = getColumnIndex\n      const columnIndex = getColumnIndex()\n      columnIndex > -1 &&\n        owner.value.store.commit(\n          'insertColumn',\n          columnConfig.value,\n          isSubColumn.value ? parent.columnConfig.value : null\n        )\n    })\n    onBeforeUnmount(() => {\n      owner.value.store.commit(\n        'removeColumn',\n        columnConfig.value,\n        isSubColumn.value ? parent.columnConfig.value : null\n      )\n    })\n    instance.columnId = columnId.value\n\n    instance.columnConfig = columnConfig\n    return\n  },\n  render() {\n    try {\n      const renderDefault = this.$slots.default?.({\n        row: {},\n        column: {},\n        $index: -1,\n      })\n      const children = []\n      if (Array.isArray(renderDefault)) {\n        for (const childNode of renderDefault) {\n          if (\n            childNode.type?.name === 'ElTableColumn' ||\n            childNode.shapeFlag & 2\n          ) {\n            children.push(childNode)\n          } else if (\n            childNode.type === Fragment &&\n            Array.isArray(childNode.children)\n          ) {\n            childNode.children.forEach((vnode) => {\n              // No rendering when vnode is dynamic slot or text\n              if (vnode?.patchFlag !== 1024 && !isString(vnode?.children)) {\n                children.push(vnode)\n              }\n            })\n          }\n        }\n      }\n      const vnode = h('div', children)\n      return vnode\n    } catch {\n      return h('div', [])\n    }\n  },\n})\n","import { withInstall, withNoopInstall } from '@element-plus/utils'\nimport Table from './src/table.vue'\nimport TableColumn from './src/tableColumn'\n\nexport const ElTable = withInstall(Table, {\n  TableColumn,\n})\nexport default ElTable\nexport const ElTableColumn = withNoopInstall(TableColumn)\n"],"names":["matchHtmlRegExp","escapeHtml","string","escape","str","match","exec","html","index","lastIndex","length","charCodeAt","substring","module","exports","drawerProps","buildProps","dialogProps","direction","type","String","default","values","size","Number","withHeader","Boolean","modalFade","drawerEmits","dialogEmits","_sfc_main","defineComponent","name","components","ElOverlay","ElFocusTrap","ElIcon","Close","props","emits","setup","slots","useDeprecated","scope","from","replacement","version","ref","computed","title","drawerRef","focusStartRef","ns","useNamespace","t","useLocale","isHorizontal","drawerSize","useDialog","_createBlock","to","disabled","_ctx","_createVNode","b","onAfterEnter","afterEnter","onAfterLeave","afterLeave","onBeforeLeave","beforeLeave","persisted","mask","modal","onClick","onModalClick","loop","trapped","visible","onReleaseRequested","onCloseRequested","_createElementVNode","class","_normalizeClass","style","role","_cache","e","tabindex","_createElementBlock","key","$slots","_renderSlot","_createCommentVNode","close","handleClose","titleId","titleClass","openBlock","id","_toDisplayString","_hoisted_2","bodyId","_hoisted_4","footer","ElDrawer","withInstall","Drawer","GAP","BAR_MAP","vertical","offset","scroll","scrollSize","axis","client","horizontal","renderThumbStyle","move","bar","transform","thumbProps","ratio","required","always","scrollbarContextKey","Symbol","COMPONENT_NAME","scrollbar","inject","throwError","instance","thumb","thumbState","cursorDown","cursorLeave","originalOnSelectStart","isClient","document","onselectstart","thumbStyle","value","offsetRatio","wrapElement","clickThumbHandler","_a","startDrag","el","clickTrackHandler","getBoundingClientRect","thumbHalf","mouseMoveDocumentHandler","mouseUpDocumentHandler","prevPage","thumbClickPosition","restoreOnselectstart","onBeforeUnmount","useEventListener","toRef","mouseMoveScrollbarHandler","barProps","width","height","ratioX","ratioY","moveX","moveY","handleScroll","wrap","offsetHeight","offsetWidth","scrollTop","scrollLeft","expose","scrollbarProps","maxHeight","native","wrapStyle","definePropType","Object","Array","wrapClass","viewClass","viewStyle","noresize","tag","minSize","scrollbarEmits","every","isNumber","stopResizeObserver","stopResizeListener","scrollbar$","wrap$","resize$","sizeWidth","sizeHeight","barRef","SCOPE","emit","scrollTo","arg1","debugWarn","originalHeight","watch","stop","immediate","nextTick","update","provide","scrollbarElement","onMounted","onUpdated","setScrollTop","setScrollLeft","ElScrollbar","Scrollbar","getCell","event","cell","target","tagName","toUpperCase","parentNode","isObject","obj","orderBy","array","sortKey","reverse","sortMethod","sortBy","isArray","getKey","map","by","get","$value","compare","a","i","len","sort","order","item","getColumnById","table","columnId","column","columns","forEach","getColumnByKey","columnKey","getColumnByCell","namespace","matches","className","RegExp","getRowIdentity","row","rowKey","Error","includes","split","current","element","call","getKeysMap","arrayMap","mergeOptions","defaults","config","options","hasOwn","parseWidth","parseInt","isNaN","parseMinWidth","minWidth","parseHeight","test","compose","funcs","arg","reduce","args","toggleRowStatus","statusArr","newVal","changed","indexOf","included","addRow","push","removeRow","splice","walkTreeNode","root","cb","childrenKey","lazyKey","isNil","_walker","parent","children","level","children2","removePopper","createTablePopper","trigger","popperContent","popperOptions","tooltipEffect","nextZIndex","useZIndex","dataset","prefix","scrollContainer","querySelector","renderContent","isLight","content2","createElement","innerHTML","zIndex","appendChild","renderArrow","arrow2","showPopper","popperInstance","destroy","content","removeChild","off","arrow","createPopper","strategy","modifiers","padding","on","isFixedColumn","fixed","store","realColumns","fixedLayout","start","after","colSpan","states","fixedLeafColumnsLength","rightFixedLeafColumnsLength","getFixedColumnsClass","classes","isLeft","getOffset","realWidth","getFixedColumnOffset","styles","left","slice","right","ensurePosition","useExpand","watcherData","getCurrentInstance","defaultExpandAll","expandRows","updateExpandRows","data","expandRowsMap","prev","rowId","rowInfo","toggleRowExpansion","expanded","setExpandRowKeys","rowKeys","assertRowKey","keysMap","cur","info","isRowExpanded","expandMap","useCurrent","_currentRowKey","currentRow","setCurrentRowKey","setCurrentRowByKey","restoreCurrentRowKey","_currentRow","unref","find","updateCurrentRow","oldCurrentRow","updateCurrentRowData","currentRowKey","useTree","expandRowKeys","treeData","indent","lazy","lazyTreeNodeMap","lazyColumnIdentifier","childrenColumnName","normalizedData","normalize","normalizedLazyNode","keys","res","parentId","updateTreeData","ifChangeExpandRowKeys","ifExpandAll","_a2","nested","normalizedLazyNode_","newTreeData","oldTreeData","rootLazyRowKeys","getExpanded","oldValue","newValue","loaded","loading","lazyKeys","lazyNodeChildren","updateTableScrollY","updateTreeExpandKeys","toggleTreeExpansion","oldExpanded","loadOrToggle","loadData","treeNode","load","TypeError","sortData","sortingColumn","sortable","sortProp","sortOrder","doFlattenColumns","result","apply","useWatcher","tableSize","toRefs","proxy","$props","_data","isComplex","_columns","originColumns","fixedColumns","rightFixedColumns","leafColumns","fixedLeafColumns","rightFixedLeafColumns","leafColumnsLength","isAllSelected","selection","reserveSelection","selectOnIndeterminate","selectable","filters","filteredData","hoverRow","state","scheduleLayout","deep","updateColumns","filter","unshift","notFixedColumns","concat","leafColumns2","fixedLeafColumns2","rightFixedLeafColumns2","needUpdateColumns","doLayout","debouncedUpdateLayout","isSelected","clearSelection","oldSelection","cleanSelection","deleted","selectedMap","dataMap","newSelection","getSelectionRows","toggleRowSelection","selected","emitChange","_toggleAllSelection","_b","selectionChanged","childrenCount","rowKey2","rowIndex","getChildrenCount","updateSelectionByRowKey","updateAllSelected","_c","isSelected2","isAllSelected_","selectedCount","j","keyProp","isRowSelectable","count","childKey","updateFilters","columns2","filters_","col","updateSort","prop","execFilter","sourceData","filterMethod","some","execSort","execQuery","ignore","clearFilter","columnKeys","tableHeaderRef","refs","panels","assign","filterPanels","columns_","filteredValue","commit","silent","multi","clearSort","expandStates","treeStates","currentData","setExpandRowKeysAdapter","val","toggleRowExpansionAdapter","hasExpandColumn","toggleAllSelection","replaceColumn","sortColumn","no","getColumnIndex","pre","useStore","watcher","mutations","setData","dataInstanceChanged","$ready","insertColumn","newColumns","removeColumn","findIndex","init","column2","property","changeSortCondition","ingore","filterChange","_states","newFilters","rowSelectedChanged","setHoverRow","setCurrentRow","mutations2","layout","updateScrollY","InitialStateMap","createStore","debounce","handleValue","getArrKeysValue","proxyTableProps","propsKey","storeKey","keyList","TableLayout","constructor","observers","fit","showHeader","scrollX","scrollY","bodyWidth","fixedWidth","rightFixedWidth","tableHeight","headerHeight","appendHeight","footerHeight","viewportHeight","bodyHeight","bodyScrollHeight","fixedBodyHeight","gutterWidth","isRef","bodyWrapper","vnode","prevScrollY","scrollHeight","setHeight","updateElsHeight","setMaxHeight","getFlattenColumns","flattenColumns","isColumnGroup","tableWrapper","headerWrapper","appendWrapper","footerWrapper","tableHeader","tableBody","display","tableLayout","headerTrElm","noneHeader","headerDisplayNone","headerWrapperOffsetHeight","clientHeight","requestAnimationFrame","notifyObservers","elm","headerChild","getComputedStyle","parentElement","updateColumnsWidth","clientWidth","bodyMinWidth","flexColumns","totalFlexWidth","allColumnsWidth","flexWidthPerPixel","noneFirstWidth","flexWidth","Math","floor","max","resizeState","addObserver","observer","removeObserver","onColumnsChange","onScrollableChange","CheckboxGroup","ElCheckboxGroup","ElCheckbox","ElTooltip","ArrowDown","ArrowUp","directives","ClickOutside","placement","upDataColumn","Function","tooltipVisible","tooltip","filterValue","set","isActive","hideFilterPanel","confirmFilter","hidden","_filterValue","multiple","handleConfirm","handleReset","handleSelect","showFilterPanel","popperPaneRef","_component_el_icon","_component_el_tooltip","_openBlock","teleported","effect","pure","persistent","$event","label","_","_hoisted_3","_withCtx","useLayoutObserver","onBeforeMount","onUnmounted","cols","querySelectorAll","columnsMap","getAttribute","setAttribute","ths","th","TABLE_INJECTION_KEY","useEvent","handleFilterClick","stopPropagation","handleHeaderClick","handleSortClick","filterable","handleHeaderContextMenu","draggingColumn","dragging","dragState","handleMouseDown","border","tableEl","tableLeft","columnEl","columnRect","minLeft","addClass","startMouseLeft","clientX","startLeft","startColumnLeft","resizeProxy","ondragstart","handleMouseMove2","event2","deltaLeft","proxyLeft","handleMouseUp","finalLeft","columnWidth","body","cursor","removeEventListener","setTimeout","removeClass","addEventListener","handleMouseMove","resizable","rect","bodyStyle","pageX","hasClass","handleMouseOut","toggleOrder","sortOrders","givenOrder","useStyle","getHeaderRowStyle","headerRowStyle","getHeaderRowClass","headerRowClassName","join","getHeaderCellStyle","columnIndex","headerCellStyles","headerCellStyle","fixedStyle","isSubColumn","getHeaderCellClass","fixedClasses","headerAlign","labelClassName","headerCellClassName","getAllColumns","convertToRows","maxLevel","traverse","subColumn","rows","allColumns","rowSpan","useUtils","columnRows","isGroup","defaultSort","render","$parent","h","is","subColumns","cellIndex","colspan","rowspan","onContextmenu","onMousedown","onMousemove","onMouseout","renderHeader","$index","_self","FilterPanel","filterPlacement","useEvents","tooltipContent","tooltipTrigger","handleEvent","handleDoubleClick","handleClick","handleContextMenu","handleMouseEnter","handleMouseLeave","handleCellMouseEnter","hoverState","cellChild","childNodes","range","createRange","setStart","setEnd","rangeWidth","getStyle","scrollWidth","innerText","textContent","handleCellMouseLeave","oldHoverState","useStyles","getRowStyle","rowStyle","getRowClass","highlightCurrentRow","stripe","em","rowClassName","getCellStyle","cellStyle","cellStyles","getCellClass","align","cellClassName","getSpan","fn","spanMethod","getColspanRealWidth","widthArr","acc","useRender","firstDefaultColumnIndex","getKeyOfRow","rowRender","treeRowData","rowClasses","displayStyle","onDblclick","onMouseenter","onMouseleave","columnData","context","noLazyChildren","baseKey","patchKey","rawColumnKey","tdChildren","cellChildren","renderCell","wrappedRowRender","tr","renderExpanded","console","error","tmp","parent2","node","innerTreeRowData","nodes2","nodes","defaultProps","highlight","oldVal","raf","window","oldRow","newRow","hColgroup","isAuto","getPropsData","propsData","useMapState","leftFixedLeafCount","rightFixedLeafCount","columnsCount","leftFixedCount","rightFixedCount","getCellClasses","getCellStyles","summaryMethod","sumText","sums","precisions","notNumber","decimal","precision","curr","parseFloat","toFixed","min","cellspacing","cellpadding","isHidden","resizeProxyVisible","setDragVisible","scrollbarViewStyle","verticalAlign","tableWidth","watchEffect","handleHeaderFooterMousewheel","pixelX","pixelY","abs","shouldUpdateHeight","tableBodyStyles","syncPostion","bindEvents","flexible","setScrollClassByEl","classList","startsWith","setScrollClass","hasScrollClass","contains","scrollBarRef","scrollingNoneClass","maxScrollLeftPosition","passive","useResizeObserver","resizeListener","shouldUpdateLayout","oldWidth","oldHeight","height2","useSize","bodyWidth_","calcMaxHeight","parsedMaxHeight","tableHeaderHeight","isString","bodyHeight2","emptyBlockStyle","handleFixedMousewheel","spinY","currentScrollTop","preventDefault","ceil","fixedHeight","showSummary","bottom","emptyText","treeProps","hasChildren","scrollbarAlwaysOn","useScrollbar","yCoord","setScrollPosition","position","top","o","p","m","u","d","M","l","w","x","E","F","A","X","D","navigator","userAgent","n","NaN","documentMode","r","replace","O","v","ie","ieCompatibilityMode","ie64","firefox","opera","webkit","safari","chrome","windows","osx","linux","iphone","mobile","nativeApp","android","ipad","s","Y","canUseDOM","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","isInWorker","N","L","implementation","hasFeature","I","P","T","U","detail","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","S","getEventType","W","mousewheel","callback","normalized","normalizeWheel","Reflect","Mousewheel","beforeMount","binding","tableIdSeed","TableHeader","TableBody","TableFooter","isEmpty","tableId","computedSumText","computedEmptyText","_normalizeStyle","withDirectives","onSetDragVisible","append","defaultClassNames","expand","cellStarts","getDefaultClassName","cellForced","isDisabled","indeterminate","modelValue","onChange","ArrowRight","defaultRenderCell","getProp","formatter","toString","treeCellPrefix","createPlacehoder","ele","expandClasses","icon","Loading","getAllAliases","aliases","owner","props_","registerComplexWatchers","realMinWidth","allAliases","columnConfig","registerNormalWatchers","realAlign","realHeaderAlign","columnOrTableParent","vParent","hasTreeColumn","treeDataValue","setColumnWidth","setColumnForcedProps","source","forceClass","checkSubColumn","check","child","setColumnRenders","header","originRenderCell","hasTreeColumnValue","vnodes","Comment","shouldCreatePlaceholder","props2","showOverflowTooltip","getColumnElIndex","prototype","showTooltipWhenOverflow","filterMultiple","validator","columnIdSeed","filterOpened","basicProps","sortProps","selectProps","filterProps","chains","hiddenColumns","renderDefault","childNode","shapeFlag","Fragment","vnode2","patchFlag","ElTable","Table","TableColumn","ElTableColumn","withNoopInstall"],"sourceRoot":""}