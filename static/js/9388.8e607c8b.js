(self["define"]=self["define"]||[]).push([[9388,7442],{5461:function(e,t,n){n(61811),n(90867),function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,s="millisecond",o="second",i="minute",r="hour",a="day",u="week",c="month",l="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},g={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),s=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+y(s,2,"0")+":"+y(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var s=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(s,c),i=n-o<0,r=t.clone().add(s+(i?-1:1),c);return+(-(s+(n-o)/(i?o-r:r-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:u,d:a,D:f,h:r,m:i,s:o,ms:s,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",b={};b[w]=m;var _=function(e){return e instanceof C},$=function e(t,n,s){var o;if(!t)return w;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(o=i),n&&(b[i]=n,o=i);var r=t.split("-");if(!o&&r.length>1)return e(r[0])}else{var a=t.name;b[a]=t,o=a}return!s&&o&&(w=o),o||!s&&w},S=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},k=g;k.l=$,k.i=_,k.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function m(e){this.$L=$(e.locale,null,!0),this.parse(e)}var y=m.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(h);if(s){var o=s[2]-1||0,i=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)):new Date(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return k},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return S(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<S(e)},y.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,s=!!k.u(t)||t,l=k.p(e),p=function(e,t){var o=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return s?o:o.endOf(a)},h=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,m=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case d:return s?p(1,0):p(31,11);case c:return s?p(1,m):p(0,m+1);case u:var w=this.$locale().weekStart||0,b=(v<w?v+7:v)-w;return p(s?y-b:y+(6-b),m);case a:case f:return h(g+"Hours",0);case r:return h(g+"Minutes",1);case i:return h(g+"Seconds",2);case o:return h(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,u=k.p(e),l="set"+(this.$u?"UTC":""),p=(n={},n[a]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[r]=l+"Hours",n[i]=l+"Minutes",n[o]=l+"Seconds",n[s]=l+"Milliseconds",n)[u],h=u===a?this.$D+(t-this.$W):t;if(u===c||u===d){var v=this.clone().set(f,1);v.$d[p](h),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[k.p(e)]()},y.add=function(s,l){var f,p=this;s=Number(s);var h=k.p(l),v=function(e){var t=S(p);return k.w(t.date(t.date()+Math.round(e*s)),p)};if(h===c)return this.set(c,this.$M+s);if(h===d)return this.set(d,this.$y+s);if(h===a)return v(1);if(h===u)return v(7);var m=(f={},f[i]=t,f[r]=n,f[o]=e,f)[h]||1,y=this.$d.getTime()+s*m;return k.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var s=e||"YYYY-MM-DDTHH:mm:ssZ",o=k.z(this),i=this.$H,r=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(e,n,o,i){return e&&(e[n]||e(t,s))||o[n].slice(0,i)},d=function(e){return k.s(i%12||12,e,"0")},f=n.meridiem||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:k.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:k.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,r,!0),A:f(i,r,!1),m:String(r),mm:k.s(r,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:o};return s.replace(v,(function(e,t){return t||h[e]||o.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(s,f,p){var h,v=k.p(f),m=S(s),y=(m.utcOffset()-this.utcOffset())*t,g=this-m,w=k.m(this,m);return w=(h={},h[d]=w/12,h[c]=w,h[l]=w/3,h[u]=(g-y)/6048e5,h[a]=(g-y)/864e5,h[r]=g/n,h[i]=g/t,h[o]=g/e,h)[v]||g,p?w:k.a(w)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return b[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=$(e,t,!0);return s&&(n.$L=s),n},y.clone=function(){return k.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),E=C.prototype;return S.prototype=E,[["$ms",s],["$s",o],["$m",i],["$H",r],["$W",a],["$M",c],["$y",d],["$D",f]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,C,S),e.$i=!0),S},S.locale=$,S.isDayjs=_,S.unix=function(e){return S(1e3*e)},S.en=b[w],S.Ls=b,S.p={},S}))},40:function(e,t,n){"use strict";n(77253);const s=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),o=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},i=({clearTimeout:e,setTimeout:t,willResolve:n})=>(s,{value:i,signal:r}={})=>{if(r&&r.aborted)return Promise.reject(o());let a,u,c;const l=e||clearTimeout,d=()=>{l(a),c(o())},f=()=>{r&&r.removeEventListener("abort",d)},p=new Promise(((e,o)=>{u=()=>{f(),n?e(i):o(i)},c=o,a=(t||setTimeout)(u,s)}));return r&&r.addEventListener("abort",d,{once:!0}),p.clear=()=>{l(a),a=null,u()},p},r=e=>{const t=i({...e,willResolve:!0});return t.reject=i({...e,willResolve:!1}),t.range=(e,n,o)=>t(s(e,n),o),t},a=r();a.createWithTimers=r,e.exports=a,e.exports["default"]=a},6385:function(e,t,n){n(23662),n(77253),n(43928),function(t,n){e.exports=n()}(0,(function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===("undefined"===typeof e?"undefined":s(e))},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",n=!0,s=this;if(!this.isObject(e))return e;function o(e,i){var r=s.encode,a=s.type(e);if("array"==a)e.forEach((function(e,t){s.isObject(e)||(t=""),o(e,i+"%5B"+t+"%5D")}));else if("object"==a)for(var u in e)o(e[u],i?i+"%5B"+r(u)+"%5D":r(u));else n||(t+="&"),n=!1,t+=i+"="+r(e)}return o(e,""),t},merge:function(e,t){for(var n in t)e.hasOwnProperty(n)?this.isObject(t[n],1)&&this.isObject(e[n],1)&&this.merge(e[n],t[n]):e[n]=t[n];return e}}},,function(e,t,n){var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r="undefined"!==typeof document,a=function(){function e(t){function n(e){var t=void 0,n=void 0;function s(){e.p=t=n=null}i.merge(e,{lock:function(){t||(e.p=new Promise((function(e,s){t=e,n=s})))},unlock:function(){t&&(t(),s())},clear:function(){n&&(n("cancel"),s())}})}o(this,e),this.engine=t||XMLHttpRequest,this.default=this;var s=this.interceptors={response:{use:function(e,t){this.handler=e,this.onerror=t}},request:{use:function(e){this.handler=e}}},r=s.request,a=s.response;n(a),n(r),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return s(e,[{key:"request",value:function(e,t,n){var s=this,o=new this.engine,a="Content-Type",u=a.toLowerCase(),c=this.interceptors,l=c.request,d=c.response,f=l.handler,p=new Promise((function(c,p){function h(e){return e&&e.then&&e.catch}function v(e,t){e?e.then((function(){t()})):t()}function m(n){t=n.body,e=i.trim(n.url);var s=i.trim(n.baseURL||"");if(e||!r||s||(e=location.href),0!==e.indexOf("http")){var l="/"===e[0];if(!s&&r){var f=location.pathname.split("/");f.pop(),s=location.protocol+"//"+location.host+(l?"":f.join("/"))}if("/"!==s[s.length-1]&&(s+="/"),e=s+(l?e.substr(1):e),r){var m=document.createElement("a");m.href=e,e=m.href}}var y=i.trim(n.responseType||""),g=-1!==["GET","HEAD","DELETE","OPTION"].indexOf(n.method),w=i.type(t),b=n.params||{};g&&"object"===w&&(b=i.merge(t,b)),b=i.formatParams(b);var _=[];b&&_.push(b),g&&t&&"string"===w&&_.push(t),_.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+_.join("&")),o.open(n.method,e);try{o.withCredentials=!!n.withCredentials,o.timeout=n.timeout||0,"stream"!==y&&(o.responseType=y)}catch(D){}var $=n.headers[a]||n.headers[u],S="application/x-www-form-urlencoded";for(var k in i.trim(($||"").toLowerCase())===S?t=i.formatParams(t):i.isFormData(t)||-1===["object","array"].indexOf(i.type(t))||(S="application/json;charset=utf-8",t=JSON.stringify(t)),$||g||(n.headers[a]=S),n.headers)if(k===a&&i.isFormData(t))delete n.headers[k];else try{o.setRequestHeader(k,n.headers[k])}catch(D){}function C(e,t,s){v(d.p,(function(){if(e){s&&(t.request=n);var o=e.call(d,t,Promise);t=void 0===o?t:o}h(t)||(t=Promise[0===s?"resolve":"reject"](t)),t.then((function(e){c(e)})).catch((function(e){p(e)}))}))}function E(e){e.engine=o,C(d.onerror,e,-1)}function T(e,t){this.message=e,this.status=t}o.onload=function(){try{var e=o.response||o.responseText;e&&n.parseJson&&-1!==(o.getResponseHeader(a)||"").indexOf("json")&&!i.isObject(e)&&(e=JSON.parse(e));var t=o.responseHeaders;if(!t){t={};var s=(o.getAllResponseHeaders()||"").split("\r\n");s.pop(),s.forEach((function(e){if(e){var n=e.split(":")[0];t[n]=o.getResponseHeader(n)}}))}var r=o.status,u=o.statusText,c={data:e,headers:t,status:r,statusText:u};if(i.merge(c,o._response),r>=200&&r<300||304===r)c.engine=o,c.request=n,C(d.handler,c,0);else{var l=new T(u,r);l.response=c,E(l)}}catch(l){E(new T(l.msg,o.status))}},o.onerror=function(e){E(new T(e.msg||"Network Error",0))},o.ontimeout=function(){E(new T("timeout [ "+o.timeout+"ms ]",1))},o._options=n,setTimeout((function(){o.send(g?null:t)}),0)}i.isObject(e)&&(n=e,e=n.url),n=n||{},n.headers=n.headers||{},v(l.p,(function(){i.merge(n,JSON.parse(JSON.stringify(s.config)));var o=n.headers;o[a]=o[a]||o[u]||"",delete o[u],n.body=t||n.body,e=i.trim(e||""),n.method=n.method.toUpperCase(),n.url=e;var r=n;f&&(r=f.call(l,n,Promise)||n),h(r)||(r=Promise.resolve(r)),r.then((function(e){e===n?m(e):c(e)}),(function(e){p(e)}))}))}));return p.engine=o,p}},{key:"all",value:function(e){return Promise.all(e)}},{key:"spread",value:function(e){return function(t){return e.apply(null,t)}}}]),e}();a.default=a,["get","post","put","patch","head","delete"].forEach((function(e){a.prototype[e]=function(t,n,s){return this.request(t,n,i.merge({method:e},s))}})),["lock","unlock","clear"].forEach((function(e){a.prototype[e]=function(){this.interceptors.request[e]()}})),e.exports=a}])}))},44459:function(e,t,n){"use strict";n.d(t,{ZP:function(){return a}});var s=n.p+"static/img/yuanshi.469d3f0f.png",o=n.p+"static/img/openscreenshare.a7389a8f.png";const i={[s]:"https://upload-bbs.mihoyo.com/upload/2022/12/26/300350281/fb334cf8fd21e669ed6e7aa95890e2b5_2523388253479178875.png",[o]:"https://upload-bbs.mihoyo.com/upload/2022/12/26/300350281/aca41a90b6d80f17c9b2f1d663e49625_7075418291258186431.png"},r={yuanshi:s,openscreenshare:o};var a=e=>{const t=r[e]||e;return i[t]||t}},33314:function(e,t,n){"use strict";n.d(t,{p:function(){return u}});var s=n(60017);n(77253),n(43928);function o(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map((function(e){e(n)})),(s=e.get("*"))&&s.slice().map((function(e){e(t,n)}))}}}var i=n(95144),r=n(6385),a=n.n(r);class u{constructor(e=32333){(0,s.Z)(this,"port",32333),(0,s.Z)(this,"token",""),(0,s.Z)(this,"hwnd",0),(0,s.Z)(this,"version",""),(0,s.Z)(this,"ev",o()),(0,s.Z)(this,"client",new(a())),(0,s.Z)(this,"ws",void 0),(0,s.Z)(this,"MOUSEEVENTF_ABSOLUTE",32768),(0,s.Z)(this,"MOUSEEVENTF_LEFTDOWN",2),(0,s.Z)(this,"MOUSEEVENTF_LEFTUP",4),(0,s.Z)(this,"MOUSEEVENTF_MIDDLEDOWN",32),(0,s.Z)(this,"MOUSEEVENTF_MIDDLEUP",64),(0,s.Z)(this,"MOUSEEVENTF_MOVE",1),(0,s.Z)(this,"MOUSEEVENTF_RIGHTDOWN",8),(0,s.Z)(this,"MOUSEEVENTF_RIGHTUP",16),(0,s.Z)(this,"MOUSEEVENTF_WHEEL",2048),(0,s.Z)(this,"MOUSEEVENTF_XDOWN",128),(0,s.Z)(this,"MOUSEEVENTF_XUP",256),(0,s.Z)(this,"MOUSEEVENTF_HWHEEL",4096),this.port=e,this.client.config.baseURL=`http://localhost:${this.port}`,this.client.interceptors.request.use((e=>(this.token&&(e.headers["Authorization"]=`Bearer ${this.token}`),""===e.headers["Content-Type"]&&delete e.headers["Content-Type"],e))),this.client.interceptors.response.use(void 0,(e=>{const t=e;return 410===t.status?(console.warn("Control stopped by user"),new Error("ECANCEL")):e}))}async launch(){const e="cocogoat-control://launch",t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t),setTimeout((()=>{document.body.removeChild(t)}),1e3)}async check(){try{const{data:e}=await this.client.get("/",{},{timeout:800});return this.version=e.version,!0}catch(e){return!1}}async authorize(){if(this.ws)return!0;try{const{data:e}=await this.client.post("/token");this.token=e.token,this.hwnd=e.hwnd||0;const t=new WebSocket(`ws://localhost:${this.port}/ws/${this.token}`);return t.onmessage=e=>{const t=JSON.parse(e.data);this.ev.emit(t.id||t.action,t.data)},t.onclose=()=>{this.ws=void 0},await new Promise((e=>{t.onopen=e})),this.ws=t,!0}catch(e){const t=e;if(401===t.status)return!1;throw e}}wsInvoke(e,t,n){if(!this.ws)throw new Error("WebSocket not connected");const s=t+(n?`?${(0,i.stringify)(n)}`:""),o=Math.round(1e3*Date.now()+1e3*Math.random()).toString(16),r={id:o,action:"api",data:{url:s,method:e}},a=new Promise((e=>{this.ev.on(o,e)}));return this.ws.send(JSON.stringify(r)),a}async mouse_event(e,t,n,s,o=1){return this.wsInvoke("POST","/api/mouse_event",{dwFlags:e,dx:t,dy:n,dwData:s,repeat:o})}async keybd_event(e,t,n){return this.wsInvoke("POST","/api/keybd_event",{bVk:e,bScan:t,dwFlags:n})}async sendMessage(e,t,n,s){return this.wsInvoke("POST","/api/SendMessage",{hWnd:e,Msg:t,wParam:n,lParam:s})}async SetCursorPos(e,t){return this.wsInvoke("POST","/api/SetCursorPos",{x:e,y:t})}async listWindows(){return(await this.wsInvoke("GET","/api/windows")).body}async getWindow(e){return(await this.wsInvoke("GET","/api/windows/"+e)).body}async activeWindow(e){return await this.wsInvoke("PATCH","/api/windows/"+e)}async getMonitor(){return(await this.wsInvoke("GET","/api/monitors")).body}async toAbsolute(e,t,n,{dx:s=1,dy:o=1,window:i=null}={dx:1,dy:1,window:null}){const r=i||await this.getWindow(e),a=1===s?1:r.width/s,u=1===o?1:r.height/o;return{x:t*a+r.x,y:n*u+r.y,win:r}}}},97442:function(e,t,n){"use strict";n.d(t,{HU:function(){return l},ik:function(){return u},ts:function(){return r}});var s=n(30926);const o={global:"https://77.cocogoat.work",cn:"https://77.cocogoat.cn"};let i=navigator.language.startsWith("zh")?"cn":"global";const r=(0,s.iH)(""),a=(0,s.iH)("info"),u=(0,s.iH)("");let c;const l=async(e="",t="default")=>(c||(c=d(i),i=await c),await c,o["default"===t?i:t]+e),d=async e=>{const t=await o[e]+"/status";try{const e=await fetch(t);if(e.ok){const t=await e.json();if(r.value=t.msg,a.value=t.typ,u.value=t.smsg,o[t.region])return t.region}}catch(n){return console.error("API Region Probe Faild",n),"global"===e?"cn":"global"}return e}},25194:function(e,t,n){"use strict";n.d(t,{h:function(){return o},s:function(){return s}});n(77253);async function s(e,t,n){await e(!1);const s=performance.now();await e(await t()),await n();const o=performance.now();return await new Promise(((n,i)=>{const r=async()=>{const a=performance.now();a-s>=1e3&&i(new Error("Latency measurement timeout"));const u=t(),c=await e(u);c>10?n({latency:a-o,result:c,captureReady:s,controlSent:o,diffFound:a,image:u}):requestAnimationFrame(r)};requestAnimationFrame(r)}))}async function o(e,t,{timeout:n=3e4,interval:s=0,threhold:o=10,signal:i=new AbortSignal,afterCapture:r=(async()=>{})}){await e(!1);const a=performance.now();return await e(await t()),await r(),await new Promise(((r,u)=>{const c=async()=>{const s=performance.now();s-a>=n&&u(new Error("Measurement timeout"));const c=await t(),d=await e(c);console.log(d),d>o?r({latency:s-a,result:d,captureReady:a,diffFound:s,image:c}):i.aborted||l()},l=()=>{0==s?requestAnimationFrame(c):setTimeout(c,s)};l()}))}},29453:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var s=n(60017),o=(n(77253),n(30926)),i=n(61583),r=n(97442);const a=e=>e<1024?e+"B":e<1048576?(e/1024).toFixed(0)+"KB":e<1073741824?(e/1024/1024).toFixed(1)+"MB":(e/1024/1024/1024).toFixed(2)+"GB";class u{constructor(e){(0,s.Z)(this,"name",(0,o.iH)("")),(0,s.Z)(this,"url",(0,o.iH)("")),(0,s.Z)(this,"md5",(0,o.iH)("")),(0,s.Z)(this,"size",(0,o.iH)(0)),(0,s.Z)(this,"version",(0,o.iH)("")),(0,s.Z)(this,"ready",void 0),(0,s.Z)(this,"formattedSize",(0,i.Fl)((()=>a(this.size.value)))),this.ready=this.updator(e).then((async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`${t.status} ${t.statusText}`);{const e=await t.json();this.name.value=e.name,this.url.value=e.url,this.md5.value=e.md5,this.size.value=e.size,this.version.value=e.version}return this}))}updator(e){return(0,r.HU)(`/upgrade/${e}.json`)}}},19112:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var s=n(15471),o=(n(30896),n(61583)),i=n(91239);function r(e,t,n,r,a,u){const c=s.Q0;return(0,o.wg)(),(0,o.j4)(c,{content:r.buildDesc,"raw-content":""},{default:(0,o.w5)((()=>[(0,o.Uk)("#"+(0,i.zw)(r.buildTime),1)])),_:1},8,["content"])}var a=n(5461),u=n.n(a),c={setup(){const e=u()(Number("1713889948967")),t="7a7efca4",n="🐳 chore: v4.6\r\n";return{buildTime:"2404240032",buildDesc:`#${t} - ${e.format("YYYY-MM-DD HH:mm:ss")}${n?"<br/ >"+n.replace(/\n/g,"<br>"):""}`}}},l=n(14545);const d=(0,l.Z)(c,[["render",r]]);var f=d},14763:function(e,t,n){"use strict";n.d(t,{Z:function(){return Tt}});var s=n(61583),o=n(91239);const i={ref:"video",style:{display:"none"}};function r(e,t,n,r,a,u){const c=(0,s.up)("c-intro"),l=(0,s.up)("c-client"),d=(0,s.up)("float-window");return(0,s.wg)(),(0,s.iD)("section",{class:(0,o.C_)(e.$style.webCapturer)},[1===e.step?((0,s.wg)(),(0,s.j4)(c,{key:0,onRequestCapture:e.requestCapture},null,8,["onRequestCapture"])):2===e.step?((0,s.wg)(),(0,s.j4)(l,{key:1,control:e.control,onDone:e.afterClient},null,8,["control","onDone"])):(0,s.kq)("",!0),(0,s._)("video",i,null,512),e.hasPictureInPicture&&e.popup?((0,s.wg)(),(0,s.j4)(d,{key:2,width:250,height:100,class:(0,o.C_)(e.$style.floatwindow),onExit:t[0]||(t[0]=t=>e.$emit("exit"))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["class"])):(0,s.kq)("",!0)],2)}n(77253);var a=n(30926),u=n(29056);n(60388);const c={class:"l"},l=(0,s._)("div",{class:"m"},[(0,s._)("div",{class:"t"},"开始扫描"),(0,s._)("div",{class:"d"},"点击开始后请选择原神窗口（如下图）")],-1),d={class:"r"},f=["src"];function p(e,t,n,i,r,a){const p=(0,s.up)("fa-icon"),h=u.mi,v=(0,s.up)("footer-component");return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(e.$style.intro)},[(0,s.Wm)(h,{class:"start-btn start-gray",onClick:t[0]||(t[0]=t=>e.$emit("request-capture"))},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s.Wm)(p,{icon:"video"})]),l,(0,s._)("div",d,[(0,s.Wm)(p,{icon:"angle-right"})])])),_:1}),(0,s._)("img",{src:e.img("openscreenshare"),alt:"请参照图片开始抓屏"},null,8,f),(0,s.Wm)(v)],2)}var h=n(44459);const v=(0,s.Uk)(" 椰羊 | WebCapturer | "),m=(0,s._)("a",{href:"https://github.com/YuehaiTeam/cocogoat",target:"_blank"},"GitHub",-1),y=(0,s.Uk)(" | "),g=(0,s._)("a",{href:"https://github.com/YuehaiTeam/cocogoat/tree/main/docs",target:"_blank"},"集成文档",-1),w=(0,s.Uk)(" | ");function b(e,t,n,i,r,a){const u=(0,s.up)("build-info");return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(e.$style.opensource)},[v,m,y,g,w,(0,s.Wm)(u)],2)}var _=n(19112),$={components:{BuildInfo:_.Z}},S={opensource:"opensource-d87950"},k=n(14545);const C={};C["$style"]=S;const E=(0,k.Z)($,[["render",b],["__cssModules",C]]);var T=E,D=n(84876),M=n(2849);D.vI.add(M.IyC,M.yOZ);var x=(0,s.aZ)({components:{FooterComponent:T},emits:["request-capture"],setup(){return{img:h.ZP}}}),O={intro:"intro-ed9efe"};const U={};U["$style"]=O;const H=(0,k.Z)(x,[["render",p],["__cssModules",U]]);var F=H;const P={class:"client-content"},I={key:0},N=(0,s._)("div",{class:"loader-animation"},[(0,s._)("span",{class:"cssload-loader"},[(0,s._)("span",{class:"cssload-loader-inner"})])],-1),W=(0,s._)("div",{class:"loader-text"},"正在连接辅助插件",-1),j=[N,W],Z={key:1,class:"not-found"},q={class:"title"},L={key:0},z={class:"content"},A=(0,s.Uk)(" 由于浏览器限制，自动操作无法在网页完成 "),V={class:"dlink",href:"/extra/client",target:"_blank"},B=(0,s.Uk)(" 如果插件没有自动启动，请点击此处下载辅助插件"),Y={class:"absolute-area"},R={class:"l"},J={class:"m"},G={class:"t"},K=(0,s._)("div",{class:"d"},"记得同意控制键鼠的权限申请",-1),Q={class:"r"},X={key:2,class:"not-found"},ee={class:"title"},te={class:"content"},ne={key:0},se=(0,s.Uk)(" 由于浏览器限制，自动操作无法在网页完成"),oe=(0,s._)("br",null,null,-1),ie=(0,s.Uk)(" 模拟键鼠操作需要您运行辅助插件并同意权限申请 "),re=[se,oe,ie],ae={key:1},ue=(0,s.Uk)(" 自动操仅支持原神PC客户端"),ce=(0,s._)("br",null,null,-1),le=(0,s.Uk)(" 暂未支持云游戏、模拟器等，请使用手动操作或重新检查 "),de=[ue,ce,le],fe={class:"absolute-area"},pe={class:"l"},he=(0,s._)("div",{class:"m"},[(0,s._)("div",{class:"t"},"点击重试"),(0,s._)("div",{class:"d"},"记得同意控制键鼠的权限申请")],-1),ve={class:"r"},me={class:"l"},ye=(0,s._)("div",{class:"m"},[(0,s._)("div",{class:"t"},"我想手动操作"),(0,s._)("div",{class:"d"},"也可用于投屏或不支持辅助插件的系统")],-1),ge={class:"r"};function we(e,t,n,i,r,a){const c=(0,s.up)("fa-icon"),l=u.mi;return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(e.$style.client)},[(0,s._)("div",P,[e.loading?((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",{class:(0,o.C_)(e.$style.loader)},j,2)])):(0,s.kq)("",!0),e.notFound&&!e.loading?((0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",q,[(0,s.Uk)((0,o.zw)(e.needUpdate?"您的辅助插件版本过低":"自动操作需要辅助插件")+" ",1),e.needUpdate?((0,s.wg)(),(0,s.iD)("small",L,"(v"+(0,o.zw)(e.version)+")",1)):(0,s.kq)("",!0)]),(0,s._)("div",z,[A,(0,s._)("a",V,[B,(0,s._)("small",null,"（v"+(0,o.zw)(e.cVersion)+" "+(0,o.zw)(e.cSize)+"）",1)]),(0,s._)("div",Y,[(0,s.Wm)(l,{class:"start-btn start-gray",onClick:t[0]||(t[0]=t=>e.enable(!1))},{default:(0,s.w5)((()=>[(0,s._)("div",R,[(0,s.Wm)(c,{icon:"check"})]),(0,s._)("div",J,[(0,s._)("div",G,(0,o.zw)(e.needUpdate?"我已更新并重新运行客户端":"我已运行辅助插件"),1),K]),(0,s._)("div",Q,[(0,s.Wm)(c,{icon:"angle-right"})])])),_:1})])])])):(0,s.kq)("",!0),e.notFound||!e.denied&&!e.gameNotFound||e.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",X,[(0,s._)("div",ee,(0,o.zw)(e.denied?"您已拒绝辅助插件的权限申请":"未找到可用的原神游戏窗口"),1),(0,s._)("div",te,[e.denied?((0,s.wg)(),(0,s.iD)("div",ne,re)):((0,s.wg)(),(0,s.iD)("div",ae,de)),(0,s._)("div",fe,[(0,s.Wm)(l,{class:"start-btn start-gray",onClick:t[1]||(t[1]=t=>e.enable(!1))},{default:(0,s.w5)((()=>[(0,s._)("div",pe,[(0,s.Wm)(c,{icon:"check"})]),he,(0,s._)("div",ve,[(0,s.Wm)(c,{icon:"angle-right"})])])),_:1})])])]))]),(0,s.Wm)(l,{class:"start-btn",type:"info",plain:"",onClick:t[2]||(t[2]=t=>e.$emit("done",-1))},{default:(0,s.w5)((()=>[(0,s._)("div",me,[(0,s.Wm)(c,{icon:"arrow-pointer"})]),ye,(0,s._)("div",ge,[(0,s.Wm)(c,{icon:"angle-right"})])])),_:1})],2)}n(25766);function be(e,t){const n=e.split("."),s=t.split("."),o=Math.max(n.length,s.length);for(let i=0;i<o;i++){const e=parseInt(n[i],10),t=parseInt(s[i],10);if(e!==t)return void 0===e?-1:void 0===t||e-t>0?1:-1}return 0}var _e=n(29453);const $e=new _e.Z("frostflake");D.vI.add(M.qaO,M.yOZ,M.LEp);var Se=(0,s.aZ)({props:{control:{type:Object,required:!0}},emits:["done"],setup(e,{emit:t}){const n=(0,a.Vh)(e,"control"),o=(0,a.iH)(!0),i=(0,a.iH)(!1),r=(0,a.iH)(!1),u=(0,a.iH)(!1),c=(0,a.iH)(!1),l=(0,a.iH)(""),d=async(e=!1)=>{if(o.value&&!e)return;o.value=!0,r.value=!1;const s=await n.value.check();if(!s)return i.value=!0,o.value=!1,c.value=!1,void n.value.launch();if(be(n.value.version,"1.2.5")<0)return c.value=!0,i.value=!0,o.value=!1,void(l.value=n.value.version);c.value=!1;try{o.value=!0;const e=await n.value.authorize();if(e){let e=await n.value.listWindows();if(e=e.filter((e=>(e.title.includes("原神")||e.title.toLowerCase().includes("genshin"))&&"UnityWndClass"===e.classname)),0===e.length)return i.value=!1,o.value=!1,void(u.value=!0);t("done",e[0].hWnd)}else r.value=!0;i.value=!1}catch(a){i.value=!0,console.log(a)}o.value=!1};return(0,s.bv)((()=>d(!0))),{loading:o,notFound:i,enable:d,denied:r,gameNotFound:u,needUpdate:c,version:l,cVersion:$e.version,cSize:$e.formattedSize}}}),ke={client:"client-fd820a",loader:"loader-c7376d",scannerCssloadLoader:"scanner-cssload-loader-e7a395",scannerCssloadLoaderInner:"scanner-cssload-loader-inner-e25de6"};const Ce={};Ce["$style"]=ke;const Ee=(0,k.Z)(Se,[["render",we],["__cssModules",Ce]]);var Te=Ee,De=n(17515),Me=n(5650),xe=n(17398),Oe=n(80048),Ue=n(45450);const He={},Fe=(0,xe.o8)({a11y:{type:Boolean,default:!0},locale:{type:(0,xe.Cq)(Object)},size:Oe.Pp,button:{type:(0,xe.Cq)(Object)},experimentalFeatures:{type:(0,xe.Cq)(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:(0,xe.Cq)(Object)},zIndex:Number,namespace:{type:String,default:"el"}});(0,s.aZ)({name:"ElConfigProvider",props:Fe,setup(e,{slots:t}){(0,s.YP)((()=>e.message),(e=>{Object.assign(He,null!=e?e:{})}),{immediate:!0,deep:!0});const n=(0,Ue.A)(e);return()=>(0,s.WI)(t,"default",{config:null==n?void 0:n.value})}});var Pe=n(45126);const Ie=(0,xe.o8)({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}});var Ne=n(67311),We=n(66384);const je=["textContent"],Ze={name:"ElBadge"},qe=(0,s.aZ)({...Ze,props:Ie,setup(e,{expose:t}){const n=e,i=(0,We.s)("badge"),r=(0,s.Fl)((()=>n.isDot?"":(0,Me.hj)(n.value)&&(0,Me.hj)(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`));return t({content:r}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)((0,a.SU)(i).b())},[(0,s.WI)(e.$slots,"default"),(0,s.Wm)(De.uT,{name:`${(0,a.SU)(i).namespace.value}-zoom-in-center`,persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("sup",{class:(0,o.C_)([(0,a.SU)(i).e("content"),(0,a.SU)(i).em("content",e.type),(0,a.SU)(i).is("fixed",!!e.$slots.default),(0,a.SU)(i).is("dot",e.isDot)]),textContent:(0,o.zw)((0,a.SU)(r))},null,10,je),[[De.F8,!e.hidden&&((0,a.SU)(r)||e.isDot)]])])),_:1},8,["name"])],2))}});var Le=(0,Ne.Z)(qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]),ze=n(6700);const Ae=(0,ze.nz)(Le);var Ve=n(77707),Be=n(49434);const Ye=["success","info","warning","error"],Re=(0,xe.o8)({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:Be.AA,default:""},id:{type:String,default:""},message:{type:(0,xe.Cq)([String,Object,Function]),default:""},onClose:{type:(0,xe.Cq)(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:Ye,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Je={destroy:()=>!0};var Ge=n(57035);const Ke=(0,s.aZ)({name:"ElMessage",components:{ElBadge:Ae,ElIcon:Ve.gn,...Be.f5},props:Re,emits:Je,setup(e){const t=(0,We.s)("message"),n=(0,a.iH)(!1),o=(0,a.iH)(e.type?"error"===e.type?"danger":e.type:"info");let i;const r=(0,s.Fl)((()=>{const n=e.type;return{[t.bm("icon",n)]:n&&Be.Rp[n]}})),u=(0,s.Fl)((()=>e.icon||Be.Rp[e.type]||"")),c=(0,s.Fl)((()=>({top:`${e.offset}px`,zIndex:e.zIndex})));function l(){e.duration>0&&({stop:i}=(0,Me.eM)((()=>{n.value&&f()}),e.duration))}function d(){null==i||i()}function f(){n.value=!1}function p({code:e}){e===Ge.n.esc?n.value&&f():l()}return(0,s.bv)((()=>{l(),n.value=!0})),(0,s.YP)((()=>e.repeatNum),(()=>{d(),l()})),(0,Pe.ORN)(document,"keydown",p),{ns:t,typeClass:r,iconComponent:u,customStyle:c,visible:n,badgeType:o,close:f,clearTimer:d,startTimer:l}}}),Qe=["id"],Xe=["innerHTML"];function et(e,t,n,i,r,a){const u=(0,s.up)("el-badge"),c=(0,s.up)("el-icon"),l=(0,s.up)("close");return(0,s.wg)(),(0,s.j4)(De.uT,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[2]||(t[2]=t=>e.$emit("destroy")),persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{id:e.id,class:(0,o.C_)([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:(0,o.j5)(e.customStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.repeatNum>1?((0,s.wg)(),(0,s.j4)(u,{key:0,value:e.repeatNum,type:e.badgeType,class:(0,o.C_)(e.ns.e("badge"))},null,8,["value","type","class"])):(0,s.kq)("v-if",!0),e.iconComponent?((0,s.wg)(),(0,s.j4)(c,{key:1,class:(0,o.C_)([e.ns.e("icon"),e.typeClass])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.iconComponent)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s.WI)(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.kq)(" Caution here, message could've been compromised, never use user's input as message "),(0,s._)("p",{class:(0,o.C_)(e.ns.e("content")),innerHTML:e.message},null,10,Xe)],2112)):((0,s.wg)(),(0,s.iD)("p",{key:0,class:(0,o.C_)(e.ns.e("content"))},(0,o.zw)(e.message),3))])),e.showClose?((0,s.wg)(),(0,s.j4)(c,{key:2,class:(0,o.C_)(e.ns.e("closeBtn")),onClick:(0,De.iM)(e.close,["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0)],46,Qe),[[De.F8,e.visible]])])),_:3},8,["name","onBeforeLeave"])}var tt=(0,Ne.Z)(Ke,[["render",et],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]),nt=n(61649),st=n(47375),ot=n(58867);const it=[];let rt=1;const at=function(e={},t){if(!Me.C5)return{close:()=>{}};if((0,Me.hj)(He.max)&&it.length>=He.max)return{close:()=>{}};if(!(0,s.lA)(e)&&(0,o.Kn)(e)&&e.grouping&&!(0,s.lA)(e.message)&&it.length){const t=it.find((t=>{var n,s,o;return`${null!=(s=null==(n=t.vm.props)?void 0:n.message)?s:""}`===`${null!=(o=e.message)?o:""}`}));if(t)return t.vm.component.props.repeatNum+=1,t.vm.component.props.type=(null==e?void 0:e.type)||"info",{close:()=>f.component.proxy.visible=!1}}((0,o.HD)(e)||(0,s.lA)(e))&&(e={message:e});let n=e.offset||20;it.forEach((({vm:e})=>{var t;n+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),n+=16;const{nextZIndex:i}=(0,nt.C)(),r="message_"+rt++,a=e.onClose,u={zIndex:i(),...e,offset:n,id:r,onClose:()=>{ut(r,a)}};let c=document.body;(0,st.kK)(e.appendTo)?c=e.appendTo:(0,o.HD)(e.appendTo)&&(c=document.querySelector(e.appendTo)),(0,st.kK)(c)||((0,ot.N)("ElMessage","the appendTo option is not an HTMLElement. Falling back to document.body."),c=document.body);const l=document.createElement("div");l.className=`container_${r}`;const d=u.message,f=(0,s.Wm)(tt,u,(0,o.mf)(d)?{default:d}:(0,s.lA)(d)?{default:()=>d}:null);return f.appContext=t||at._context,f.props.onDestroy=()=>{(0,De.sY)(null,l)},(0,De.sY)(f,l),it.push({vm:f}),c.appendChild(l.firstElementChild),{close:()=>f.component.proxy.visible=!1}};function ut(e,t){const n=it.findIndex((({vm:t})=>e===t.component.props.id));if(-1===n)return;const{vm:s}=it[n];if(!s)return;null==t||t(s);const o=s.el.offsetHeight;it.splice(n,1);const i=it.length;if(!(i<1))for(let r=n;r<i;r++){const e=Number.parseInt(it[r].vm.el.style["top"],10)-o-16;it[r].vm.component.props.offset=e}}function ct(){var e;for(let t=it.length-1;t>=0;t--){const n=it[t].vm.component;null==(e=null==n?void 0:n.proxy)||e.close()}}Ye.forEach((e=>{at[e]=(t={},n)=>(((0,o.HD)(t)||(0,s.lA)(t))&&(t={message:t}),at({...t,type:e},n))})),at.closeAll=ct,at._context=null;const lt=(0,ze.oN)(at,"$message");var dt=n(87860);const ft=["width","height"];function pt(e,t,n,i,r,a){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{class:(0,o.C_)(e.$style.floatContent)},[(0,s.WI)(e.$slots,"default")],2),(0,s._)("canvas",{ref:"canvas",width:2*e.width,height:2*e.height,class:(0,o.C_)(e.$style.floatCanvas),style:(0,o.j5)({width:`${e.width}px`,height:`${e.height}px`})},null,14,ft),(0,s._)("video",{ref:"video",autoplay:"",class:(0,o.C_)(e.$style.floatVideo),style:(0,o.j5)({width:`${e.width}px`,height:`${e.height}px`}),onLeavepictureinpicture:t[0]||(t[0]=t=>e.$emit("exit"))},null,38)])}var ht=(0,s.aZ)({props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},emits:["exit"],setup(){let e=!1;const t=(0,a.iH)(null),n=(0,a.iH)(null);let o;(0,s.JJ)("canvas",n);const i=async()=>{if(e||(o=n.value.captureStream(),t.value.srcObject=o,e=!0),null===document.pictureInPictureElement)try{await t.value.play(),await t.value.requestPictureInPicture()}catch(s){document.addEventListener("mousedown",(async()=>{await t.value.play(),await t.value.requestPictureInPicture()}),{once:!0})}};return(0,s.bv)(i),(0,s.Jd)((()=>{t.value&&(t.value.srcObject=null),o&&o.getTracks().forEach((e=>e.stop()));try{document.pictureInPictureElement===t.value&&document.exitPictureInPicture()}catch(e){}})),{init:i,video:t,canvas:n}}}),vt={floatContent:"float-content-f4ac7b",floatCanvas:"float-canvas-f269e2",floatVideo:"float-video-c5d6ef"};const mt={};mt["$style"]=vt;const yt=(0,k.Z)(ht,[["render",pt],["__cssModules",mt]]);var gt=yt,wt=n(33314),bt=n(28341),_t=n(40),$t=n.n(_t),St=(0,s.aZ)({components:{CIntro:F,CClient:Te,FloatWindow:gt},props:{popup:{type:Boolean,required:!0}},emits:["ready","exit"],setup(e,{emit:t}){const n=(0,a.iH)(1),o=(0,a.iH)(null),i=(0,a.iH)(null),r=new wt.p,u=(0,a.iH)(0),c=async()=>{if(o.value)try{i.value=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1}),o.value.srcObject=i.value,o.value.play(),n.value++}catch(e){console.error(e),lt.error({message:e.toString()})}},l=e=>{u.value=e,n.value++,t("ready")},d=document.createElement("canvas"),f=d.getContext("2d"),p=({x:e=0,y:t=0,w:n=0,h:s=0})=>{if(!o.value)throw new Error("No video");if(!f)throw new Error("No canvas context");const i=o.value;let r=null;n>0&&s>0?d.width===n&&d.height===s||(d.width=n,d.height=s):d.width===i.videoWidth&&d.height===i.videoHeight||(d.width=i.videoWidth,d.height=i.videoHeight);while(!r)n>0&&s>0?f.drawImage(i,e,t,n,s,0,0,d.width,d.height):f.drawImage(i,0,0,d.width,d.height),r=f.getImageData(0,0,d.width,d.height),r||console.warn("->capture FAILD");return(0,dt.Q8)(r)},h=()=>{i.value&&i.value.getTracks().forEach((e=>e.stop())),i.value=null,o.value&&o.value.pause(),o.value&&(o.value.srcObject=null),b=!1},v=()=>{h(),n.value=1};let m;const y=async(e,t,n=!0)=>{if(r&&o.value){const s=await r.toAbsolute(u.value,e,t,{dx:o.value.videoWidth,dy:o.value.videoHeight,window:n&&m||null});await r.SetCursorPos(s.x,s.y),await $t()(10),await r.mouse_event(r.MOUSEEVENTF_LEFTDOWN,0,0,0),await r.mouse_event(r.MOUSEEVENTF_LEFTUP,0,0,0),n&&(m=s.win)}},g=async(e,t,n=2e3,s=10,i=500)=>{if(r&&o.value){const a=await r.toAbsolute(u.value,e.x,e.y,{dx:o.value.videoWidth,dy:o.value.videoHeight,window:null}),c=await r.toAbsolute(u.value,t.x,t.y,{dx:o.value.videoWidth,dy:o.value.videoHeight,window:a.win});await r.SetCursorPos(a.x,a.y),await $t()(10),await r.mouse_event(r.MOUSEEVENTF_LEFTDOWN,0,0,0);for(let e=0;e<s;e++){const t=a.x+(c.x-a.x)*e/s,o=a.y+(c.y-a.y)*e/s;await r.SetCursorPos(t,o),await $t()(n/s)}await r.SetCursorPos(c.x,c.y),await $t()(i),await r.mouse_event(r.MOUSEEVENTF_LEFTUP,0,0,0)}},w={cb:()=>{}};let b=!1;const _=e=>{if(w.cb=e,o.value&&!b){const e=()=>{w.cb(),b&&o.value.requestVideoFrameCallback(e)};o.value.requestVideoFrameCallback(e),b=!0}};return(0,s.YP)(i,(e=>{var n;e&&(null===(n=e.getVideoTracks()[0])||void 0===n||n.addEventListener("ended",(()=>{h(),t("exit")})))})),(0,s.Jd)((()=>{h()})),{step:n,video:o,stream:i,control:r,windowId:u,requestCapture:c,afterClient:l,capture:p,stop:h,reset:v,hasPictureInPicture:bt.hasPictureInPicture,click:y,drag:g,onFrame:_}}}),kt={floatwindow:"floatwindow-ed324f",webCapturer:"web-capturer-ef3fe5"};const Ct={};Ct["$style"]=kt;const Et=(0,k.Z)(St,[["render",r],["__cssModules",Ct]]);var Tt=Et},84136:function(e,t,n){"use strict";n.d(t,{v:function(){return b}});n(23662);var s=n(61583),o=n(30926),i=n(17515),r=n(91239),a=n(77707),u=n(17398),c=n(30842),l=n(49434);const d=["light","dark"],f=(0,u.o8)({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:(0,c.uc)(l.Rp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:d,default:"light"}}),p={close:e=>e instanceof MouseEvent};var h=n(67311),v=n(66384);const m={name:"ElAlert"},y=(0,s.aZ)({...m,props:f,emits:p,setup(e,{emit:t}){const n=e,{Close:u}=l.f5,c=(0,s.Rr)(),d=(0,v.s)("alert"),f=(0,o.iH)(!0),p=(0,s.Fl)((()=>l.Rp[n.type])),h=(0,s.Fl)((()=>[d.e("icon"),{[d.is("big")]:!!n.description||!!c.default}])),m=(0,s.Fl)((()=>n.description||{[d.is("bold")]:c.default})),y=e=>{f.value=!1,t("close",e)};return(e,t)=>((0,s.wg)(),(0,s.j4)(i.uT,{name:(0,o.SU)(d).b("fade"),persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{class:(0,r.C_)([(0,o.SU)(d).b(),(0,o.SU)(d).m(e.type),(0,o.SU)(d).is("center",e.center),(0,o.SU)(d).is(e.effect)]),role:"alert"},[e.showIcon&&(0,o.SU)(p)?((0,s.wg)(),(0,s.j4)((0,o.SU)(a.gn),{key:0,class:(0,r.C_)((0,o.SU)(h))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,o.SU)(p))))])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,r.C_)((0,o.SU)(d).e("content"))},[e.title||e.$slots.title?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,r.C_)([(0,o.SU)(d).e("title"),(0,o.SU)(m)])},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s.Uk)((0,r.zw)(e.title),1)]))],2)):(0,s.kq)("v-if",!0),e.$slots.default||e.description?((0,s.wg)(),(0,s.iD)("p",{key:1,class:(0,r.C_)((0,o.SU)(d).e("description"))},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)((0,r.zw)(e.description),1)]))],2)):(0,s.kq)("v-if",!0),e.closable?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[e.closeText?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,r.C_)([(0,o.SU)(d).e("close-btn"),(0,o.SU)(d).is("customed")]),onClick:y},(0,r.zw)(e.closeText),3)):((0,s.wg)(),(0,s.j4)((0,o.SU)(a.gn),{key:1,class:(0,r.C_)((0,o.SU)(d).e("close-btn")),onClick:y},{default:(0,s.w5)((()=>[(0,s.Wm)((0,o.SU)(u))])),_:1},8,["class"]))],64)):(0,s.kq)("v-if",!0)],2)],2),[[i.F8,f.value]])])),_:3},8,["name"]))}});var g=(0,h.Z)(y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]),w=n(6700);const b=(0,w.nz)(g)},36805:function(e,t,n){"use strict";n(75452)},30896:function(e,t,n){"use strict";n(30057)},30057:function(e,t,n){"use strict";n(75452),n(26238)}}]);
//# sourceMappingURL=9388.8e607c8b.js.map