"use strict";(self["define"]=self["define"]||[]).push([[5303],{58869:function(e,t,a){a(75452)},27372:function(e,t,a){a.d(t,{p8:function(){return q},Ub:function(){return Y}});a(25766);var l=a(61583),n=a(30926),o=a(77707),s=a(8780),i=a(91239),r=a(45126),u=a(17398),c=a(81376);const d=(0,u.o8)({tabs:{type:(0,u.Cq)(Array),default:()=>(0,c.N)([])}});var v=a(67311);a(23662);const b=Symbol("tabsRootContextKey");var p=a(58867),m=a(66384);const f={name:"ElTabBar"},g=(0,l.aZ)({...f,props:d,setup(e,{expose:t}){const a=e,o="ElTabBar",s=(0,l.FN)(),u=(0,l.f3)(b);u||(0,p._)(o,"<el-tabs><el-tab-bar /></el-tabs>");const c=(0,m.s)("tabs"),d=(0,n.iH)(),v=(0,n.iH)(),f=()=>{let e=0,t=0;const l=["top","bottom"].includes(u.props.tabPosition)?"width":"height",n="width"===l?"x":"y";return a.tabs.every((o=>{var r,u,c,d;const v=null==(u=null==(r=s.parent)?void 0:r.refs)?void 0:u[`tab-${o.paneName}`];if(!v)return!1;if(!o.active)return!0;t=v[`client${(0,i.kC)(l)}`];const b="x"===n?"left":"top";e=v.getBoundingClientRect()[b]-(null!=(d=null==(c=v.parentElement)?void 0:c.getBoundingClientRect()[b])?d:0);const p=window.getComputedStyle(v);return"width"===l&&(a.tabs.length>1&&(t-=Number.parseFloat(p.paddingLeft)+Number.parseFloat(p.paddingRight)),e+=Number.parseFloat(p.paddingLeft)),!1})),{[l]:`${t}px`,transform:`translate${(0,i.kC)(n)}(${e}px)`}},g=()=>v.value=f();return(0,l.YP)((()=>a.tabs),(async()=>{await(0,l.Y3)(),g()}),{immediate:!0}),(0,r.yU7)(d,(()=>g())),t({ref:d,update:g}),(e,t)=>((0,l.wg)(),(0,l.iD)("div",{ref_key:"barRef",ref:d,class:(0,i.C_)([(0,n.SU)(c).e("active-bar"),(0,n.SU)(c).is((0,n.SU)(u).props.tabPosition)]),style:(0,i.j5)(v.value)},null,6))}});var y=(0,v.Z)(g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]),h=a(57035);const C=(0,u.o8)({panes:{type:(0,u.Cq)(Array),default:()=>(0,c.N)([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:(0,u.Cq)(Function),default:i.dG},onTabRemove:{type:(0,u.Cq)(Function),default:i.dG},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),P="ElTabNav",k=(0,l.aZ)({name:P,props:C,setup(e,{expose:t}){const a=(0,l.FN)(),u=(0,l.f3)(b);u||(0,p._)(P,"<el-tabs><tab-nav /></el-tabs>");const c=(0,m.s)("tabs"),d=(0,r.xKQ)(),v=(0,r.vou)(),f=(0,n.iH)(),g=(0,n.iH)(),C=(0,n.iH)(),k=(0,n.iH)(!1),N=(0,n.iH)(0),W=(0,n.iH)(!1),w=(0,n.iH)(!0),T=(0,l.Fl)((()=>["top","bottom"].includes(u.props.tabPosition)?"width":"height")),x=(0,l.Fl)((()=>{const e="width"===T.value?"X":"Y";return{transform:`translate${e}(-${N.value}px)`}})),S=()=>{if(!f.value)return;const e=f.value[`offset${(0,i.kC)(T.value)}`],t=N.value;if(!t)return;const a=t>e?t-e:0;N.value=a},$=()=>{if(!f.value||!g.value)return;const e=g.value[`offset${(0,i.kC)(T.value)}`],t=f.value[`offset${(0,i.kC)(T.value)}`],a=N.value;if(e-a<=t)return;const l=e-a>2*t?a+t:e-t;N.value=l},F=async()=>{const e=g.value;if(!k.value||!C.value||!f.value||!e)return;await(0,l.Y3)();const t=C.value.querySelector(".is-active");if(!t)return;const a=f.value,n=["top","bottom"].includes(u.props.tabPosition),o=t.getBoundingClientRect(),s=a.getBoundingClientRect(),i=n?e.offsetWidth-s.width:e.offsetHeight-s.height,r=N.value;let c=r;n?(o.left<s.left&&(c=r-(s.left-o.left)),o.right>s.right&&(c=r+o.right-s.right)):(o.top<s.top&&(c=r-(s.top-o.top)),o.bottom>s.bottom&&(c=r+(o.bottom-s.bottom))),c=Math.max(c,0),N.value=Math.min(c,i)},B=()=>{if(!g.value||!f.value)return;const e=g.value[`offset${(0,i.kC)(T.value)}`],t=f.value[`offset${(0,i.kC)(T.value)}`],a=N.value;if(t<e){const a=N.value;k.value=k.value||{},k.value.prev=a,k.value.next=a+t<e,e-a<t&&(N.value=e-t)}else k.value=!1,a>0&&(N.value=0)},H=e=>{const t=e.code,{up:a,down:l,left:n,right:o}=h.n;if(![a,l,n,o].includes(t))return;const s=Array.from(e.currentTarget.querySelectorAll("[role=tab]")),i=s.indexOf(e.target);let r;r=t===n||t===a?0===i?s.length-1:i-1:i<s.length-1?i+1:0,s[r].focus(),s[r].click(),R()},R=()=>{w.value&&(W.value=!0)},U=()=>W.value=!1;return(0,l.YP)(d,(e=>{"hidden"===e?w.value=!1:"visible"===e&&setTimeout((()=>w.value=!0),50)})),(0,l.YP)(v,(e=>{e?setTimeout((()=>w.value=!0),50):w.value=!1})),(0,r.yU7)(C,B),(0,l.bv)((()=>setTimeout((()=>F()),0))),(0,l.ic)((()=>B())),t({scrollToActiveTab:F,removeFocus:U}),(0,l.YP)((()=>e.panes),(()=>a.update()),{flush:"post"}),()=>{const t=k.value?[(0,l.Wm)("span",{class:[c.e("nav-prev"),c.is("disabled",!k.value.prev)],onClick:S},[(0,l.Wm)(o.gn,null,{default:()=>[(0,l.Wm)(s.XdH,null,null)]})]),(0,l.Wm)("span",{class:[c.e("nav-next"),c.is("disabled",!k.value.next)],onClick:$},[(0,l.Wm)(o.gn,null,{default:()=>[(0,l.Wm)(s.olP,null,null)]})])]:null,a=e.panes.map(((t,a)=>{var n,i;const r=t.props.name||t.index||`${a}`,d=t.isClosable||e.editable;t.index=`${a}`;const v=d?(0,l.Wm)(o.gn,{class:"is-icon-close",onClick:a=>e.onTabRemove(t,a)},{default:()=>[(0,l.Wm)(s.x8P,null,null)]}):null,b=(null==(i=(n=t.slots).label)?void 0:i.call(n))||t.props.label,p=t.active?0:-1;return(0,l.Wm)("div",{ref:`tab-${r}`,class:[c.e("item"),c.is(u.props.tabPosition),c.is("active",t.active),c.is("disabled",t.props.disabled),c.is("closable",d),c.is("focus",W.value)],id:`tab-${r}`,key:`tab-${r}`,"aria-controls":`pane-${r}`,role:"tab","aria-selected":t.active,tabindex:p,onFocus:()=>R(),onBlur:()=>U(),onClick:a=>{U(),e.onTabClick(t,r,a)},onKeydown:a=>{!d||a.code!==h.n["delete"]&&a.code!==h.n.backspace||e.onTabRemove(t,a)}},[b,v])}));return(0,l.Wm)("div",{ref:C,class:[c.e("nav-wrap"),c.is("scrollable",!!k.value),c.is(u.props.tabPosition)]},[t,(0,l.Wm)("div",{class:c.e("nav-scroll"),ref:f},[(0,l.Wm)("div",{class:[c.e("nav"),c.is(u.props.tabPosition),c.is("stretch",e.stretch&&["top","bottom"].includes(u.props.tabPosition))],ref:g,style:x.value,role:"tablist",onKeydown:H},[e.type?null:(0,l.Wm)(y,{tabs:[...e.panes]},null),a])])])}}});var N=a(5650),W=a(72811);const w=(0,u.o8)({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number],default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:(0,u.Cq)(Function),default:()=>!0},stretch:Boolean}),T=e=>(0,i.HD)(e)||(0,N.hj)(e),x={[W.f_]:e=>T(e),"tab-click":(e,t)=>t instanceof Event,"tab-change":e=>T(e),edit:(e,t)=>["remove","add"].includes(t),"tab-remove":e=>T(e),"tab-add":()=>!0};var S=(0,l.aZ)({name:"ElTabs",props:w,emits:x,setup(e,{emit:t,slots:a,expose:i}){const r=(0,m.s)("tabs"),u=(0,n.iH)(),c=(0,n.qj)({}),d=(0,n.iH)(e.modelValue||e.activeName||"0"),v=e=>{d.value=e,t(W.f_,e),t("tab-change",e)},p=async t=>{var a,l,n;if(d.value!==t)try{const o=await(null==(a=e.beforeLeave)?void 0:a.call(e,t,d.value));!1!==o&&(v(t),null==(n=null==(l=u.value)?void 0:l.removeFocus)||n.call(l))}catch(o){}},f=(e,a,l)=>{e.props.disabled||(p(a),t("tab-click",e,l))},g=(e,a)=>{e.props.disabled||(a.stopPropagation(),t("edit",e.props.name,"remove"),t("tab-remove",e.props.name))},y=()=>{t("edit",void 0,"add"),t("tab-add")};(0,l.YP)((()=>e.activeName),(e=>p(e))),(0,l.YP)((()=>e.modelValue),(e=>p(e))),(0,l.YP)(d,(async()=>{var e;null==(e=u.value)||e.scrollToActiveTab()}));{const t=e=>c[e.uid]=e,a=e=>delete c[e];(0,l.JJ)(b,{props:e,currentName:d,registerPane:t,unregisterPane:a})}return i({currentName:d}),()=>{const t=e.editable||e.addable?(0,l.Wm)("span",{class:r.e("new-tab"),tabindex:"0",onClick:y,onKeydown:e=>{e.code===h.n.enter&&y()}},[(0,l.Wm)(o.gn,{class:r.is("icon-plus")},{default:()=>[(0,l.Wm)(s.v37,null,null)]})]):null,n=(0,l.Wm)("div",{class:[r.e("header"),r.is(e.tabPosition)]},[t,(0,l.Wm)(k,{ref:u,currentName:d.value,editable:e.editable,type:e.type,panes:Object.values(c),stretch:e.stretch,onTabClick:f,onTabRemove:g},null)]),i=(0,l.Wm)("div",{class:r.e("content")},[(0,l.WI)(a,"default")]);return(0,l.Wm)("div",{class:[r.b(),r.m(e.tabPosition),{[r.m("card")]:"card"===e.type,[r.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[n,i]:[i,n]])}}}),$=a(17515);const F=(0,u.o8)({label:{type:String,default:""},name:{type:[String,Number],default:""},closable:Boolean,disabled:Boolean,lazy:Boolean}),B=["id","aria-hidden","aria-labelledby"],H={name:"ElTabPane"},R=(0,l.aZ)({...H,props:F,setup(e){const t=e,a="ElTabPane",o=(0,l.FN)(),s=(0,l.Rr)(),r=(0,l.f3)(b);r||(0,p._)(a,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const u=(0,m.s)("tab-pane"),c=(0,n.iH)(),d=(0,l.Fl)((()=>t.closable||r.props.closable)),v=(0,N.Rc)((()=>r.currentName.value===(t.name||c.value))),f=(0,n.iH)(v.value),g=(0,l.Fl)((()=>t.name||c.value)),y=(0,N.Rc)((()=>!t.lazy||f.value||v.value));(0,l.YP)(v,(e=>{e&&(f.value=!0)}));const h=(0,n.qj)({uid:o.uid,slots:s,props:t,paneName:g,active:v,index:c,isClosable:d});return(0,l.bv)((()=>{r.registerPane(h)})),(0,l.Ah)((()=>{r.unregisterPane(h.uid)})),(e,t)=>(0,n.SU)(y)?(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:0,id:`pane-${(0,n.SU)(g)}`,class:(0,i.C_)((0,n.SU)(u).b()),role:"tabpanel","aria-hidden":!(0,n.SU)(v),"aria-labelledby":`tab-${(0,n.SU)(g)}`},[(0,l.WI)(e.$slots,"default")],10,B)),[[$.F8,(0,n.SU)(v)]]):(0,l.kq)("v-if",!0)}});var U=(0,v.Z)(R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]),_=a(6700);const Y=(0,_.nz)(S,{TabPane:U}),q=(0,_.dp)(U)},67376:function(e,t,a){a(75452)}}]);
//# sourceMappingURL=5303.70406b78.js.map