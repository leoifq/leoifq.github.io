"use strict";(self["define"]=self["define"]||[]).push([[5275],{99877:function(){},29715:function(e,t,n){n.d(t,{l:function(){return l}});n(43928);function l(e,t,n){parent&&window!==parent&&parent.postMessage({app:"cocogoat.scanner."+n,event:e,data:JSON.parse(JSON.stringify(t))},"*")}},35200:function(e,t,n){n.d(t,{zG:function(){return g}});var l=n(35512),s=n(19390),a=n(44847),o=n(7728),r=n(28341),i=n(63294),c=n(3146),u=n(40586);function d(){const e=(0,o.G)((()=>(console.log("[worker-macro] webpack"),new o.G(new URL(n.p+n.u(1584),n.b))))),t=(0,l.Ud)(e);return{worker:t,_worker:e}}function p(){const{worker:e,_worker:t}=d(),{worker:n,_worker:l}=d(),{scannerOnImage:o,scannerOnLine:p,recognizeAchievement:v}=e,{recognizeAchievement:g,scannerOnLine:f}=n;let m=(e,t)=>{};const w=e=>{m=e},y=e=>{throw m(-99),e};t.addEventListener("error",y),l.addEventListener("error",y);const h=(async()=>{try{const[t,l]=(0,a.LS)(),o=r.hasSIMD?"ort-wasm-simd.wasm":"ort-wasm.wasm",d=r.hasSIMD?"opencv-simd.wasm":"opencv-normal.wasm";await t,await(0,a.sB)([o,d,"ppocr.ort"],(e=>m(e)),l);const p=(0,u.Z)(c.ag.amos);await Promise.all([e.setResources(s.ZP),n.setResources(s.ZP),e.initAchievementMap(i["default"],p),n.initAchievementMap(i["default"],p)]),m(100)}catch(o){throw m(-1,o),o}t.removeEventListener("error",y),l.removeEventListener("error",y),await Promise.all([e.init(),n.init()])})();return{recognizeAchievement:g,recognizeAchievement2:v,scannerOnLine:f,scannerOnLine2:p,scannerOnImage:o,initPromise:h,workerCV:e,workerOCR:n,onProgress:w}}let v;function g(){return v||(v=p()),v}},77689:function(e,t,n){n.d(t,{l:function(){return s}});var l=n(29715);function s(e,t){return l.l(e,t,"achievement")}},32223:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var l=n(11135),s=(n(97519),n(87674)),a=(n(89989),n(84136)),o=(n(36805),n(61583)),r=n(91239),i=n(17515);const c={class:"step1"},u=(0,o._)("span",null,[(0,o.Uk)("点击选择成就翻页录屏"),(0,o._)("br"),(0,o.Uk)("或拖动视频文件到这里")],-1),d={key:1,class:"top inline-status"},p={class:"list"},v=(0,o._)("p",null,[(0,o.Uk)(" 请开启录屏并匀速从上向下翻动成就列表 "),(0,o._)("br"),(0,o.Uk)(" 如翻页速度过快可能会导致漏识别 ")],-1),g={class:"image-content"},f={class:"overlay"},m={class:"videoprogress"};function w(e,t,n,w,y,h){const k=a.v,b=(0,o.up)("fa-icon"),_=(0,o.up)("float-content"),C=s.GT,S=l.Xh,x=(0,o.Q2)("elloading");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:(0,r.C_)(e.$style.listContainer)},[(0,o.Wm)(k,{type:"warning",title:"录屏识别为未经完全验证的测试功能",description:"识别错误率可能较高，请仔细核对确认或等待完善","show-icon":"",center:"",closable:!1}),(0,o._)("div",c,[1===e.step?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"top",style:(0,r.j5)(e.blob?{}:{padding:0})},[(0,o._)("div",{class:(0,r.C_)(["dropzone",{"drag-over":e.dragOver}]),onDragover:t[1]||(t[1]=(0,i.iM)((t=>e.dragOver=!0),["prevent","stop"])),onDragleave:t[2]||(t[2]=t=>e.dragOver=!1),onDrop:t[3]||(t[3]=(0,i.iM)(((...t)=>e.onFileDrop&&e.onFileDrop(...t)),["prevent","stop"])),onClick:t[4]||(t[4]=(...t)=>e.dropzoneClick&&e.dropzoneClick(...t))},[(0,o._)("i",null,[(0,o.Wm)(b,{icon:"inbox"})]),u,(0,o._)("input",{ref:"fileInput",class:"file-input",type:"file",accept:"video/*",onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544)],34),e.blob?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[5]||(t[5]=t=>e.step++)},"识别")):(0,o.kq)("",!0)],4)):(0,o.kq)("",!0),2===e.step?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(_,{"in-float":!1,capture:!1,state:1,success:e.recognized.success,fail:e.recognized.fail,scanned:e.scanned,duplicate:e.dup},null,8,["success","fail","scanned","duplicate"])])):(0,o.kq)("",!0),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",p,[e.blob?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(C,{key:0},{description:(0,o.w5)((()=>[v])),_:1})),(0,o.wy)((0,o._)("div",g,[(0,o._)("video",{ref:"videoEl",preload:"preload",playsinline:"",muted:"","webkit-playsinline":"",onTimeupdate:t[6]||(t[6]=(...t)=>e.onVideoProgress&&e.onVideoProgress(...t))},null,544)],512),[[i.F8,e.blob]]),(0,o.wy)((0,o._)("div",f,[(0,o._)("div",null,[(0,o.Wm)(S,{type:"circle",percentage:e.progress||0,format:e=>e.toFixed(2)+"%"},null,8,["percentage","format"])])],512),[[i.F8,e.splitEnded]]),(0,o.wy)((0,o._)("div",m,[(0,o._)("div",{class:"videoprogress-in",style:(0,r.j5)({width:e.videoProgress+"%"})},null,4)],512),[[i.F8,e.blob&&!e.splitEnded]])])),[[x,e.loading]])])],2)])}n(16329);var y=n(30926),h=n(28341),k=n(35200),b=n(84876),_=n(2849),C=n(25083),S=(n(99877),n(1533)),x=n.n(S),$=n(92066),U=n(87860),D=n(41151),F=n(77689);b.vI.add(_.wK3);var L=(0,o.aZ)({components:{FloatContent:D.Z},directives:{elloading:C.t},setup(){const e=(0,y.iH)(!1),t=(0,y.iH)(!1),n=(0,y.iH)(1),l=(0,y.iH)([]),s=(0,y.iH)(0),a=(0,y.iH)(0),r=(0,y.iH)(!1),i=(0,y.iH)(null),c=(0,y.iH)(0),u=(0,o.Fl)((()=>({success:l.value.filter((e=>e.success)).length,fail:l.value.filter((e=>!e.success)).length}))),d=e=>{const t=e.target;t.currentTime>0&&(c.value=t.currentTime/t.duration*100)};if(!h.ocrCompatible)return{load:e,step:n,recognized:u,scanned:a,dup:s,videoEl:i,splitEnded:r,videoProgress:c,onVideoProgress:d};const{scannerOnLine:p,scannerOnLine2:v,scannerOnImage:g}=(0,k.zG)(),f=(0,y.iH)(null),m=(0,y.iH)(null),w=(0,y.iH)(!1),b=()=>{f.value&&f.value.click()},_=e=>{if(!e.dataTransfer)return;w.value=!1;const t=e.dataTransfer.files;S(t)},C=e=>{const t=e.target.files;t&&S(t)},S=async e=>{t.value=!0,i.value&&i.value.src&&URL.revokeObjectURL(i.value.src),i.value&&(m.value=e[0],i.value.src=URL.createObjectURL(m.value)),t.value=!1},D=(0,o.Fl)((()=>(u.value.success+u.value.fail+s.value)/a.value*100));(0,o.YP)([u,s],(()=>{(0,F.l)("progress",{scanned:a,...u.value,dup:s.value})}));const L=(0,$.yj)(),I=async({image:e,thread:t})=>{if(!e)return;let n=p;t&&r.value&&(n=v);const a=await n(e);if(a.success){const t=l.value.find((e=>{if(!e.success)return!1;const t=e;return t.achievement.id===a.achievement.id}));a.done&&!L.query.withImage||(a.images={main:(0,U.rT)(e).toDataURL("image/webp")}),t?s.value++:l.value.push(a)}else a.images={main:(0,U.rT)(e).toDataURL("image/webp")},l.value.push(a),(new Image).src=a.images.main},V=x().promise(I,2);let B=null;const z=async e=>{try{if(!e){if(B){const e=await g(B,!1,!0),t=e.reduce(((e,t)=>e+t.image.rows),0);for(const n of e)n.image.rows>t/e.length*2/3&&(V.push({image:n.image,thread:a.value%2===0}),a.value++)}return}B=e;const t=await g(e,!1,!1),n=t.reduce(((e,t)=>e+t.image.rows),0);for(const e of t)e.image.rows>n/t.length*2/3&&(V.push({image:e.image,thread:a.value%2===0}),a.value++)}catch(t){console.error(t)}},N=x().promise(z,1),R=document.createElement("canvas"),T=R.getContext("2d");function E(){if(!i.value)return;console.log("startScan"),V.killAndDrain(),R.width=i.value.videoWidth,R.height=i.value.videoHeight;let e=0;const t=()=>{if(e++,e%2==0)return;if(!i.value)return;if(!T)return;if(r.value)return;const t=i.value;T.drawImage(t,0,0,t.videoWidth,t.videoHeight);const n=(0,U.iD)(R);N.push(n)},n=()=>{t(),i.value.requestVideoFrameCallback(n)};i.value.requestVideoFrameCallback(n),i.value.addEventListener("ended",(async()=>{var e,t;await N.push(null),r.value=!0,console.log("processing"),(0,F.l)("state","processing"),await V.push({image:null,thread:!1}),(0,F.l)("state","finish"),(0,F.l)("result",{result:l.value,dup:s.value,metadata:{scanner:"RvfcScanner",capturer:"VideoCapturer",ua:navigator.userAgent,w:null===(e=i.value)||void 0===e?void 0:e.videoWidth,h:null===(t=i.value)||void 0===t?void 0:t.videoHeight}})}),{once:!0}),i.value.play()}return(0,o.YP)(n,(e=>{2===e&&E()})),{step:n,load:e,loading:t,onFileDrop:_,onFileChange:C,dropzoneClick:b,fileInput:f,dragOver:w,progress:D,recognized:u,results:l,dup:s,scanned:a,blob:m,videoEl:i,splitEnded:r,videoProgress:c,onVideoProgress:d}}}),I={listContainer:"list-container-d4947e"},V=n(14545);const B={};B["$style"]=I;const z=(0,V.Z)(L,[["render",w],["__cssModules",B]]);var N=z},84136:function(e,t,n){n.d(t,{v:function(){return k}});n(23662);var l=n(61583),s=n(30926),a=n(17515),o=n(91239),r=n(77707),i=n(17398),c=n(30842),u=n(49434);const d=["light","dark"],p=(0,i.o8)({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:(0,c.uc)(u.Rp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:d,default:"light"}}),v={close:e=>e instanceof MouseEvent};var g=n(67311),f=n(66384);const m={name:"ElAlert"},w=(0,l.aZ)({...m,props:p,emits:v,setup(e,{emit:t}){const n=e,{Close:i}=u.f5,c=(0,l.Rr)(),d=(0,f.s)("alert"),p=(0,s.iH)(!0),v=(0,l.Fl)((()=>u.Rp[n.type])),g=(0,l.Fl)((()=>[d.e("icon"),{[d.is("big")]:!!n.description||!!c.default}])),m=(0,l.Fl)((()=>n.description||{[d.is("bold")]:c.default})),w=e=>{p.value=!1,t("close",e)};return(e,t)=>((0,l.wg)(),(0,l.j4)(a.uT,{name:(0,s.SU)(d).b("fade"),persisted:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",{class:(0,o.C_)([(0,s.SU)(d).b(),(0,s.SU)(d).m(e.type),(0,s.SU)(d).is("center",e.center),(0,s.SU)(d).is(e.effect)]),role:"alert"},[e.showIcon&&(0,s.SU)(v)?((0,l.wg)(),(0,l.j4)((0,s.SU)(r.gn),{key:0,class:(0,o.C_)((0,s.SU)(g))},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)((0,s.SU)(v))))])),_:1},8,["class"])):(0,l.kq)("v-if",!0),(0,l._)("div",{class:(0,o.C_)((0,s.SU)(d).e("content"))},[e.title||e.$slots.title?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,o.C_)([(0,s.SU)(d).e("title"),(0,s.SU)(m)])},[(0,l.WI)(e.$slots,"title",{},(()=>[(0,l.Uk)((0,o.zw)(e.title),1)]))],2)):(0,l.kq)("v-if",!0),e.$slots.default||e.description?((0,l.wg)(),(0,l.iD)("p",{key:1,class:(0,o.C_)((0,s.SU)(d).e("description"))},[(0,l.WI)(e.$slots,"default",{},(()=>[(0,l.Uk)((0,o.zw)(e.description),1)]))],2)):(0,l.kq)("v-if",!0),e.closable?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[e.closeText?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,o.C_)([(0,s.SU)(d).e("close-btn"),(0,s.SU)(d).is("customed")]),onClick:w},(0,o.zw)(e.closeText),3)):((0,l.wg)(),(0,l.j4)((0,s.SU)(r.gn),{key:1,class:(0,o.C_)((0,s.SU)(d).e("close-btn")),onClick:w},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(i))])),_:1},8,["class"]))],64)):(0,l.kq)("v-if",!0)],2)],2),[[a.F8,p.value]])])),_:3},8,["name"]))}});var y=(0,g.Z)(w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]),h=n(6700);const k=(0,h.nz)(y)},36805:function(e,t,n){n(75452)},87674:function(e,t,n){n.d(t,{GT:function(){return A}});n(23662);var l=n(61583),s=n(91239),a=n(30926),o=n(67311),r=n(66384);let i=0;const c=(0,l.aZ)({name:"ImgEmpty",setup(){const e=(0,r.s)("empty");return{ns:e,id:++i}}}),u={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},d=["id"],p=["stop-color"],v=["stop-color"],g=["id"],f=["stop-color"],m=["stop-color"],w=["id"],y={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},k={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},b=["fill"],_=["fill"],C={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},S=["fill"],x=["fill"],$=["fill"],U=["fill"],D=["fill"],F={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},L=["fill","xlink:href"],I=["fill","mask"],V=["fill"];function B(e,t,n,s,a,o){return(0,l.wg)(),(0,l.iD)("svg",u,[(0,l._)("defs",null,[(0,l._)("linearGradient",{id:`linearGradient-1-${e.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[(0,l._)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,p),(0,l._)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,v)],8,d),(0,l._)("linearGradient",{id:`linearGradient-2-${e.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[(0,l._)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,f),(0,l._)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,m)],8,g),(0,l._)("rect",{id:`path-3-${e.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,w)]),(0,l._)("g",y,[(0,l._)("g",h,[(0,l._)("g",k,[(0,l._)("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${e.ns.cssVarBlockName("fill-color-3")})`},null,8,b),(0,l._)("polygon",{id:"Rectangle-Copy-14",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,_),(0,l._)("g",C,[(0,l._)("polygon",{id:"Rectangle-Copy-10",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,S),(0,l._)("polygon",{id:"Rectangle-Copy-11",fill:`var(${e.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,x),(0,l._)("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,$),(0,l._)("polygon",{id:"Rectangle-Copy-13",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,U)]),(0,l._)("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,D),(0,l._)("g",F,[(0,l._)("use",{id:"Mask",fill:`var(${e.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${e.id}`},null,8,L),(0,l._)("polygon",{id:"Rectangle-Copy",fill:`var(${e.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${e.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,I)]),(0,l._)("polygon",{id:"Rectangle-Copy-18",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,V)])])])])}var z=(0,o.Z)(c,[["render",B],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const N={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}};var R=n(91525);const T=["src"],E={key:1},H={name:"ElEmpty"},P=(0,l.aZ)({...H,props:N,setup(e){const t=e,{t:n}=(0,R.bU)(),o=(0,r.s)("empty"),i=(0,l.Fl)((()=>t.description||n("el.table.emptyText"))),c=(0,l.Fl)((()=>({width:t.imageSize?`${t.imageSize}px`:""})));return(e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,s.C_)((0,a.SU)(o).b())},[(0,l._)("div",{class:(0,s.C_)((0,a.SU)(o).e("image")),style:(0,s.j5)((0,a.SU)(c))},[e.image?((0,l.wg)(),(0,l.iD)("img",{key:0,src:e.image,ondragstart:"return false"},null,8,T)):(0,l.WI)(e.$slots,"image",{key:1},(()=>[(0,l.Wm)(z)]))],6),(0,l._)("div",{class:(0,s.C_)((0,a.SU)(o).e("description"))},[e.$slots.description?(0,l.WI)(e.$slots,"description",{key:0}):((0,l.wg)(),(0,l.iD)("p",E,(0,s.zw)((0,a.SU)(i)),1))],2),e.$slots.default?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,s.C_)((0,a.SU)(o).e("bottom"))},[(0,l.WI)(e.$slots,"default")],2)):(0,l.kq)("v-if",!0)],2))}});var O=(0,o.Z)(P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]),j=n(6700);const A=(0,j.nz)(O)},89989:function(e,t,n){n(75452)},25083:function(e,t,n){n.d(t,{t:function(){return c}});n(23662);var l=n(30926),s=n(91239),a=n(23066);const o=Symbol("ElLoading"),r=(e,t)=>{var n,r,i,c;const u=t.instance,d=e=>(0,s.Kn)(t.value)?t.value[e]:void 0,p=e=>{const t=(0,s.HD)(e)&&(null==u?void 0:u[e])||e;return t?(0,l.iH)(t):t},v=t=>p(d(t)||e.getAttribute(`element-loading-${(0,s.rs)(t)}`)),g=null!=(n=d("fullscreen"))?n:t.modifiers.fullscreen,f={text:v("text"),svg:v("svg"),svgViewBox:v("svgViewBox"),spinner:v("spinner"),background:v("background"),customClass:v("customClass"),fullscreen:g,target:null!=(r=d("target"))?r:g?void 0:e,body:null!=(i=d("body"))?i:t.modifiers.body,lock:null!=(c=d("lock"))?c:t.modifiers.lock};e[o]={options:f,instance:(0,a.g)(f)}},i=(e,t)=>{for(const n of Object.keys(t))(0,l.dq)(t[n])&&(t[n].value=e[n])},c={mounted(e,t){t.value&&r(e,t)},updated(e,t){const n=e[o];t.oldValue!==t.value&&(t.value&&!t.oldValue?r(e,t):t.value&&t.oldValue?(0,s.Kn)(t.value)&&i(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[o])||t.instance.close()}}},23066:function(e,t,n){n.d(t,{g:function(){return v}});var l=n(61583),s=n(91239),a=n(5650),o=n(30926),r=n(17515),i=n(66384),c=n(4259);function u(e){let t;const n=(0,i.s)("loading"),s=(0,o.iH)(!1),a=(0,o.qj)({...e,originalPosition:"",originalOverflow:"",visible:!1});function u(e){a.text=e}function d(){const e=a.parent;if(!e.vLoadingAddClassList){let t=e.getAttribute("loading-number");t=Number.parseInt(t)-1,t?e.setAttribute("loading-number",t.toString()):((0,c.IV)(e,n.bm("parent","relative")),e.removeAttribute("loading-number")),(0,c.IV)(e,n.bm("parent","hidden"))}p(),m.unmount()}function p(){var e,t;null==(t=null==(e=w.$el)?void 0:e.parentNode)||t.removeChild(w.$el)}function v(){var n;if(e.beforeClose&&!e.beforeClose())return;const l=a.parent;l.vLoadingAddClassList=void 0,s.value=!0,clearTimeout(t),t=window.setTimeout((()=>{s.value&&(s.value=!1,d())}),400),a.visible=!1,null==(n=e.closed)||n.call(e)}function g(){s.value&&(s.value=!1,d())}const f={name:"ElLoading",setup(){return()=>{const e=a.spinner||a.svg,t=(0,l.h)("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"25 25 50 50",...e?{innerHTML:e}:{}},[(0,l.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),s=a.text?(0,l.h)("p",{class:n.b("text")},[a.text]):void 0;return(0,l.h)(r.uT,{name:n.b("fade"),onAfterLeave:g},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)("div",{style:{backgroundColor:a.background||""},class:[n.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[(0,l.h)("div",{class:n.b("spinner")},[t,s])]),[[r.F8,a.visible]])]))})}}},m=(0,r.ri)(f),w=m.mount(document.createElement("div"));return{...(0,o.BK)(a),setText:u,removeElLoadingChild:p,close:v,handleAfterLeave:g,vm:w,get $el(){return w.$el}}}var d=n(61649);let p;const v=function(e={}){if(!a.C5)return;const t=g(e);if(t.fullscreen&&p)return p;const n=u({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(p=void 0)}});f(t,t.parent,n),m(t,t.parent,n),t.parent.vLoadingAddClassList=()=>m(t,t.parent,n);let s=t.parent.getAttribute("loading-number");return s=s?`${Number.parseInt(s)+1}`:"1",t.parent.setAttribute("loading-number",s),t.parent.appendChild(n.$el),(0,l.Y3)((()=>n.visible.value=t.visible)),t.fullscreen&&(p=n),n},g=e=>{var t,n,l,a;let o;return o=(0,s.HD)(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(l=e.lock)&&l,customClass:e.customClass||"",visible:null==(a=e.visible)||a,target:o}},f=async(e,t,n)=>{const{nextZIndex:s}=(0,d.C)(),a={};if(e.fullscreen)n.originalPosition.value=(0,c.C2)(document.body,"position"),n.originalOverflow.value=(0,c.C2)(document.body,"overflow"),a.zIndex=s();else if(e.parent===document.body){n.originalPosition.value=(0,c.C2)(document.body,"position"),await(0,l.Y3)();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";a[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt((0,c.C2)(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])a[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=(0,c.C2)(t,"position");for(const[l,o]of Object.entries(a))n.$el.style[l]=o},m=(e,t,n)=>{const l=(0,i.s)("loading");"absolute"!==n.originalPosition.value&&"fixed"!==n.originalPosition.value?(0,c.cn)(t,l.bm("parent","relative")):(0,c.IV)(t,l.bm("parent","relative")),e.fullscreen&&e.lock?(0,c.cn)(t,l.bm("parent","hidden")):(0,c.IV)(t,l.bm("parent","hidden"))}},11135:function(e,t,n){n.d(t,{Xh:function(){return b}});n(25766),n(65946);var l=n(61583),s=n(91239),a=n(30926),o=n(77707),r=n(8780),i=n(17398);const c=(0,i.o8)({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:(0,i.Cq)(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:(0,i.Cq)([String,Array,Function]),default:""},format:{type:(0,i.Cq)(Function),default:e=>`${e}%`}});var u=n(67311),d=n(66384);const p=["aria-valuenow"],v={viewBox:"0 0 100 100"},g=["d","stroke","stroke-width"],f=["d","stroke","opacity","stroke-linecap","stroke-width"],m={key:0},w={name:"ElProgress"},y=(0,l.aZ)({...w,props:c,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=(0,d.s)("progress"),c=(0,l.Fl)((()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:F(t.percentage)}))),u=(0,l.Fl)((()=>(t.strokeWidth/t.width*100).toFixed(1))),w=(0,l.Fl)((()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(u.value)/2),10):0)),y=(0,l.Fl)((()=>{const e=w.value,n="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${n?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${n?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${n?"":"-"}${2*e}\n          `})),h=(0,l.Fl)((()=>2*Math.PI*w.value)),k=(0,l.Fl)((()=>"dashboard"===t.type?.75:1)),b=(0,l.Fl)((()=>{const e=-1*h.value*(1-k.value)/2;return`${e}px`})),_=(0,l.Fl)((()=>({strokeDasharray:`${h.value*k.value}px, ${h.value}px`,strokeDashoffset:b.value}))),C=(0,l.Fl)((()=>({strokeDasharray:`${h.value*k.value*(t.percentage/100)}px, ${h.value}px`,strokeDashoffset:b.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),S=(0,l.Fl)((()=>{let e;return e=t.color?F(t.percentage):n[t.status]||n.default,e})),x=(0,l.Fl)((()=>"warning"===t.status?r.Rrw:"line"===t.type?"success"===t.status?r.yGk:r.K41:"success"===t.status?r.JrY:r.x8P)),$=(0,l.Fl)((()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2)),U=(0,l.Fl)((()=>t.format(t.percentage)));function D(e){const t=100/e.length,n=e.map(((e,n)=>(0,s.HD)(e)?{color:e,percentage:(n+1)*t}:e));return n.sort(((e,t)=>e.percentage-t.percentage))}const F=e=>{var n;const{color:l}=t;if((0,s.mf)(l))return l(e);if((0,s.HD)(l))return l;{const t=D(l);for(const n of t)if(n.percentage>e)return n.color;return null==(n=t[t.length-1])?void 0:n.color}};return(e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,s.C_)([(0,a.SU)(i).b(),(0,a.SU)(i).m(e.type),(0,a.SU)(i).is(e.status),{[(0,a.SU)(i).m("without-text")]:!e.showText,[(0,a.SU)(i).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,s.C_)((0,a.SU)(i).b("bar"))},[(0,l._)("div",{class:(0,s.C_)((0,a.SU)(i).be("bar","outer")),style:(0,s.j5)({height:`${e.strokeWidth}px`})},[(0,l._)("div",{class:(0,s.C_)([(0,a.SU)(i).be("bar","inner"),{[(0,a.SU)(i).bem("bar","inner","indeterminate")]:e.indeterminate}]),style:(0,s.j5)((0,a.SU)(c))},[(e.showText||e.$slots.default)&&e.textInside?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,s.C_)((0,a.SU)(i).be("bar","innerText"))},[(0,l.WI)(e.$slots,"default",{percentage:e.percentage},(()=>[(0,l._)("span",null,(0,s.zw)((0,a.SU)(U)),1)]))],2)):(0,l.kq)("v-if",!0)],6)],6)],2)):((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,s.C_)((0,a.SU)(i).b("circle")),style:(0,s.j5)({height:`${e.width}px`,width:`${e.width}px`})},[((0,l.wg)(),(0,l.iD)("svg",v,[(0,l._)("path",{class:(0,s.C_)((0,a.SU)(i).be("circle","track")),d:(0,a.SU)(y),stroke:`var(${(0,a.SU)(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":(0,a.SU)(u),fill:"none",style:(0,s.j5)((0,a.SU)(_))},null,14,g),(0,l._)("path",{class:(0,s.C_)((0,a.SU)(i).be("circle","path")),d:(0,a.SU)(y),stroke:(0,a.SU)(S),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":(0,a.SU)(u),style:(0,s.j5)((0,a.SU)(C))},null,14,f)]))],6)),!e.showText&&!e.$slots.default||e.textInside?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.iD)("div",{key:2,class:(0,s.C_)((0,a.SU)(i).e("text")),style:(0,s.j5)({fontSize:`${(0,a.SU)($)}px`})},[(0,l.WI)(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?((0,l.wg)(),(0,l.j4)((0,a.SU)(o.gn),{key:1},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)((0,a.SU)(x))))])),_:1})):((0,l.wg)(),(0,l.iD)("span",m,(0,s.zw)((0,a.SU)(U)),1))]))],6))],10,p))}});var h=(0,u.Z)(y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]),k=n(6700);const b=(0,k.nz)(h)},97519:function(e,t,n){n(75452)}}]);
//# sourceMappingURL=5275.dd59f3cf.js.map