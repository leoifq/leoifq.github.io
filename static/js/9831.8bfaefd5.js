"use strict";(self["define"]=self["define"]||[]).push([[9831],{1533:function(e,n,t){t(77253);var r=t(9385);function a(e,n,t){if("function"===typeof e&&(t=n,n=e,e=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var a=r(o),i=null,u=null,c=0,l=null,d={push:w,drain:s,saturated:s,pause:p,paused:!1,concurrency:t,running:f,resume:g,idle:m,length:h,getQueue:v,unshift:y,empty:s,kill:E,killAndDrain:x,error:k};return d;function f(){return c}function p(){d.paused=!0}function h(){var e=i,n=0;while(e)e=e.next,n++;return n}function v(){var e=i,n=[];while(e)n.push(e.value),e=e.next;return n}function g(){if(d.paused){d.paused=!1;for(var e=0;e<d.concurrency;e++)c++,b()}}function m(){return 0===c&&0===d.length()}function w(t,r){var o=a.get();o.context=e,o.release=b,o.value=t,o.callback=r||s,o.errorHandler=l,c===d.concurrency||d.paused?u?(u.next=o,u=o):(i=o,u=o,d.saturated()):(c++,n.call(e,o.value,o.worked))}function y(t,r){var o=a.get();o.context=e,o.release=b,o.value=t,o.callback=r||s,c===d.concurrency||d.paused?i?(o.next=i,i=o):(i=o,u=o,d.saturated()):(c++,n.call(e,o.value,o.worked))}function b(t){t&&a.release(t);var r=i;r?d.paused?c--:(u===i&&(u=null),i=r.next,r.next=null,n.call(e,r.value,r.worked),null===u&&d.empty()):0===--c&&d.drain()}function E(){i=null,u=null,d.drain=s}function x(){i=null,u=null,d.drain(),d.drain=s}function k(e){l=e}}function s(){}function o(){this.value=null,this.callback=s,this.next=null,this.release=s,this.context=null,this.errorHandler=null;var e=this;this.worked=function(n,t){var r=e.callback,a=e.errorHandler,o=e.value;e.value=null,e.callback=s,e.errorHandler&&a(n,o),r.call(e.context,n,t),e.release(e)}}function i(e,n,t){function r(e,t){n.call(this,e).then((function(e){t(null,e)}),t)}"function"===typeof e&&(t=n,n=e,e=null);var o=a(e,r,t),i=o.push,u=o.unshift;return o.push=c,o.unshift=l,o.drained=d,o;function c(e){var n=new Promise((function(n,t){i(e,(function(e,r){e?t(e):n(r)}))}));return n.catch(s),n}function l(e){var n=new Promise((function(n,t){u(e,(function(e,r){e?t(e):n(r)}))}));return n.catch(s),n}function d(){var e=o.drain,n=new Promise((function(n){o.drain=function(){e(),n()}}));return n}}e.exports=a,e.exports.promise=i},9385:function(e){function n(e){var n=new e,t=n;function r(){var r=n;return r.next?n=r.next:(n=new e,t=n),r.next=null,r}function a(e){t.next=e,t=e}return{get:r,release:a}}e.exports=n},87860:function(e,n,t){t.d(n,{Q8:function(){return a},Tj:function(){return r},eW:function(){return s},iD:function(){return o},rT:function(){return i}});t(670),t(80426),t(49743),t(36826),t(26263),t(77253);function r(e){return!("object"!==typeof e||!e||!("type"in e)||"number"!==typeof e.type||"undefined"!==typeof e.clone)}function a(e){return{rows:e.height,cols:e.width,type:24,data:new Uint8Array(e.data)}}function s(e){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const t=n.getContext("2d");if(!t)throw new Error('canvas.getContext("2d") failed');return t.drawImage(e,0,0),a(t.getImageData(0,0,e.width,e.height))}function o(e){const n=e.getContext("2d");if(!n)throw new Error('canvas.getContext("2d") failed');return a(n.getImageData(0,0,e.width,e.height))}function i(e){if(24!==e.type)throw new Error(`Converting type ${e.type} to canvas faild. Only CV_8UC4 is supported.`);const n=document.createElement("canvas");n.width=e.cols,n.height=e.rows;const t=n.getContext("2d");if(!t)throw new Error("Could not get context");const r=t.createImageData(e.cols,e.rows);return r.data.set(e.data),t.putImageData(r,0,0),n}},41151:function(e,n,t){t.d(n,{Z:function(){return T}});var r=t(61583),a=t(91239);const s={key:0,class:"wait-page"},o=(0,r.Uk)("请切换到游戏窗口"),i=(0,r._)("br",null,null,-1),u=(0,r.Uk)("打开“天地万象”页面"),c=[o,i,u],l=(0,r._)("div",{class:"icon"},null,-1),d={class:"text"},f={class:"count"},p={class:"scanned"},h=(0,r._)("div",{class:"title"},"扫描",-1),v={class:"number"},g={class:"success"},m=(0,r._)("div",{class:"title"},"成功",-1),w={class:"number"},y={class:"faild"},b=(0,r._)("div",{class:"title"},"失败",-1),E={class:"number"},x={class:"dup"},k=(0,r._)("div",{class:"title"},"重复",-1),_={class:"number"},C=(0,r._)("div",{class:"desc"},[(0,r.Uk)("慢慢向下翻页"),(0,r._)("br"),(0,r.Uk)("到达底端后点击此处结束")],-1);function P(e,n,t,o,i,u){return(0,r.wg)(),(0,r.iD)("div",null,[0===e.state?((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",{class:(0,a.C_)(e.$style.icon)},null,2),(0,r._)("div",{class:(0,a.C_)(e.$style.text)},c,2)])):(0,r.kq)("",!0),1===e.state?((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,a.C_)(e.$style.downPage)},[l,(0,r._)("div",d,[(0,r._)("div",f,[(0,r._)("div",p,[h,(0,r._)("div",v,(0,a.zw)(e.scanned),1)]),(0,r._)("div",g,[m,(0,r._)("div",w,(0,a.zw)(e.success),1)]),(0,r._)("div",y,[b,(0,r._)("div",E,(0,a.zw)(e.fail),1)]),(0,r._)("div",x,[k,(0,r._)("div",_,(0,a.zw)(e.duplicate),1)])]),C])],2)):(0,r.kq)("",!0)])}var S=(0,r.aZ)({props:{state:Number,success:Number,fail:Number,duplicate:Number,scanned:Number,capture:Boolean,inFloat:{type:Boolean,default:!0}},setup(e){if(e.inFloat){const n=(0,r.f3)("refresh");(0,r.YP)((()=>e),(async()=>{await(0,r.Y3)(),n&&n()}),{deep:!0}),(0,r.bv)((async()=>{console.log("onmounted"),await(0,r.Y3)(),n&&n()}))}return{}}}),A={icon:"icon-fea061",text:"text-f8f0b9",downPage:"down-page-b54cbd"},N=t(14545);const L={};L["$style"]=A;const D=(0,N.Z)(S,[["render",P],["__cssModules",L]]);var T=D},35512:function(e,n,t){t.d(n,{Jj:function(){return d},Ud:function(){return h}});t(23662),t(77253),t(16329);const r=Symbol("Comlink.proxy"),a=Symbol("Comlink.endpoint"),s=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.thrown"),i=e=>"object"===typeof e&&null!==e||"function"===typeof e,u={canHandle:e=>i(e)&&e[r],serialize(e){const{port1:n,port2:t}=new MessageChannel;return d(e,n),[t,[t]]},deserialize(e){return e.start(),h(e)}},c={canHandle:e=>i(e)&&o in e,serialize({value:e}){let n;return n=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[n,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}},l=new Map([["proxy",u],["throw",c]]);function d(e,n=self){n.addEventListener("message",(function t(r){if(!r||!r.data)return;const{id:a,type:s,path:i}=Object.assign({path:[]},r.data),u=(r.data.argumentList||[]).map(k);let c;try{const n=i.slice(0,-1).reduce(((e,n)=>e[n]),e),t=i.reduce(((e,n)=>e[n]),e);switch(s){case"GET":c=t;break;case"SET":n[i.slice(-1)[0]]=k(r.data.value),c=!0;break;case"APPLY":c=t.apply(n,u);break;case"CONSTRUCT":{const e=new t(...u);c=E(e)}break;case"ENDPOINT":{const{port1:n,port2:t}=new MessageChannel;d(e,t),c=b(n,[n])}break;case"RELEASE":c=void 0;break;default:return}}catch(l){c={value:l,[o]:0}}Promise.resolve(c).catch((e=>({value:e,[o]:0}))).then((e=>{const[r,o]=x(e);n.postMessage(Object.assign(Object.assign({},r),{id:a}),o),"RELEASE"===s&&(n.removeEventListener("message",t),p(n))}))})),n.start&&n.start()}function f(e){return"MessagePort"===e.constructor.name}function p(e){f(e)&&e.close()}function h(e,n){return g(e,[],n)}function v(e){if(e)throw new Error("Proxy has been released and is not useable")}function g(e,n=[],t=function(){}){let r=!1;const o=new Proxy(t,{get(t,a){if(v(r),a===s)return()=>_(e,{type:"RELEASE",path:n.map((e=>e.toString()))}).then((()=>{p(e),r=!0}));if("then"===a){if(0===n.length)return{then:()=>o};const t=_(e,{type:"GET",path:n.map((e=>e.toString()))}).then(k);return t.then.bind(t)}return g(e,[...n,a])},set(t,a,s){v(r);const[o,i]=x(s);return _(e,{type:"SET",path:[...n,a].map((e=>e.toString())),value:o},i).then(k)},apply(t,s,o){v(r);const i=n[n.length-1];if(i===a)return _(e,{type:"ENDPOINT"}).then(k);if("bind"===i)return g(e,n.slice(0,-1));const[u,c]=w(o);return _(e,{type:"APPLY",path:n.map((e=>e.toString())),argumentList:u},c).then(k)},construct(t,a){v(r);const[s,o]=w(a);return _(e,{type:"CONSTRUCT",path:n.map((e=>e.toString())),argumentList:s},o).then(k)}});return o}function m(e){return Array.prototype.concat.apply([],e)}function w(e){const n=e.map(x);return[n.map((e=>e[0])),m(n.map((e=>e[1])))]}const y=new WeakMap;function b(e,n){return y.set(e,n),e}function E(e){return Object.assign(e,{[r]:!0})}function x(e){for(const[n,t]of l)if(t.canHandle(e)){const[r,a]=t.serialize(e);return[{type:"HANDLER",name:n,value:r},a]}return[{type:"RAW",value:e},y.get(e)||[]]}function k(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function _(e,n,t){return new Promise((r=>{const a=C();e.addEventListener("message",(function n(t){t.data&&t.data.id&&t.data.id===a&&(e.removeEventListener("message",n),r(t.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:a},n),t)}))}function C(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}},40586:function(e,n,t){var r=t(81319),a=1,s=4;function o(e){return(0,r.Z)(e,a|s)}n["Z"]=o}}]);
//# sourceMappingURL=9831.8bfaefd5.js.map