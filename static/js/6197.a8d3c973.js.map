{"version":3,"file":"static/js/6197.a8d3c973.js","mappings":"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","sources":["webpack://cocogoat-web/./src/views/Options/User.vue?6e30","webpack://cocogoat-web/./src/views/Options/User.vue","webpack://cocogoat-web/./src/views/Options/User.vue?4dc1","webpack://cocogoat-web/./src/views/Options/User.vue?fc9e"],"sourcesContent":["import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"topbar\"\n}, null, -1);\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"desc\"\n}, \"点击头像切换用户\", -1);\n\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"user-name\"\n};\nconst _hoisted_5 = {\n  class: \"user-id\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"   添加 \");\n\nconst _hoisted_7 = {\n  style: {\n    \"text-align\": \"right\"\n  }\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = {\n  class: \"sel-uname\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\"保存\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_fa_icon = _resolveComponent(\"fa-icon\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_option = _resolveComponent(\"el-option\");\n\n  const _component_el_select = _resolveComponent(\"el-select\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_drawer = _resolveComponent(\"el-drawer\");\n\n  return _openBlock(), _createElementBlock(\"section\", {\n    class: _normalizeClass(_ctx.$style.userManager)\n  }, [_hoisted_1, _createVNode(_component_el_table, {\n    ref: \"datatable\",\n    \"highlight-current-row\": \"\",\n    data: _ctx.allUsers,\n    class: \"account-table\",\n    onCurrentChange: _ctx.handleCurrentChange\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"id\"\n    }, {\n      header: _withCtx(() => [_hoisted_2]),\n      default: _withCtx(scope => [_createElementVNode(\"img\", {\n        class: \"table-avatar\",\n        src: _ctx.characterIcon(scope.row.avatar)\n      }, null, 8, _hoisted_3), _createElementVNode(\"div\", _hoisted_4, _toDisplayString(scope.row.name), 1), _createElementVNode(\"div\", _hoisted_5, _toDisplayString(scope.row.id), 1)]),\n      _: 1\n    }), _createVNode(_component_el_table_column, {\n      width: \"120px\"\n    }, {\n      header: _withCtx(() => [_createVNode(_component_el_button, {\n        class: \"add-button\",\n        type: \"primary\",\n        plain: \"\",\n        style: {\n          \"float\": \"right\"\n        },\n        onClick: _ctx.addUser\n      }, {\n        default: _withCtx(() => [_createVNode(_component_fa_icon, {\n          icon: \"plus\"\n        }), _hoisted_6]),\n        _: 1\n      }, 8, [\"onClick\"])]),\n      default: _withCtx(scope => [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_button, {\n        style: {\n          \"width\": \"35px\"\n        },\n        onClick: _withModifiers($event => _ctx.editUser(scope.row), [\"prevent\", \"stop\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_fa_icon, {\n          icon: \"pen-to-square\"\n        })]),\n        _: 2\n      }, 1032, [\"onClick\"]), _ctx.allUsers.length > 1 ? (_openBlock(), _createBlock(_component_el_button, {\n        key: 0,\n        type: \"danger\",\n        style: {\n          \"width\": \"35px\",\n          \"margin-left\": \"2px\"\n        },\n        plain: \"\",\n        onClick: _withModifiers($event => _ctx.delUser(scope.row), [\"prevent\", \"stop\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_fa_icon, {\n          icon: \"trash-can\"\n        })]),\n        _: 2\n      }, 1032, [\"onClick\"])) : _createCommentVNode(\"\", true)])]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"data\", \"onCurrentChange\"]), _createVNode(_component_el_drawer, {\n    modelValue: _ctx.edit.show,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.edit.show = $event),\n    \"custom-class\": \"edit-drawer\",\n    size: 320,\n    title: `${_ctx.edit.edit ? '编辑' : '添加'}账号`,\n    \"append-to-body\": false,\n    \"z-index\": 900,\n    \"destroy-on-close\": \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      \"label-position\": \"left\",\n      \"label-width\": \"auto\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"UID\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.edit.id,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.edit.id = $event),\n          placeholder: \"100000....\",\n          size: \"large\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"名称\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.edit.name,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.edit.name = $event),\n          placeholder: \"爷真可爱\",\n          size: \"large\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"头像\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: _ctx.edit.avatar,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.edit.avatar = $event),\n          size: \"large\",\n          filterable: \"\",\n          class: _normalizeClass(_ctx.$style.avatarSel)\n        }, {\n          prefix: _withCtx(() => [_createElementVNode(\"div\", {\n            class: _normalizeClass(_ctx.$style.avatarSelPrefix)\n          }, [_createElementVNode(\"img\", {\n            src: _ctx.characterIcon(_ctx.edit.avatar)\n          }, null, 8, _hoisted_8)], 2)]),\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.characterAmos, i => {\n            return _openBlock(), _createBlock(_component_el_option, {\n              key: i.key,\n              value: i.key,\n              label: _ctx.i18n.amos[i.name],\n              class: _normalizeClass(_ctx.$style.userSelectorItem)\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"img\", {\n                src: _ctx.characterIcon(i.key)\n              }, null, 8, _hoisted_9), _createElementVNode(\"span\", _hoisted_10, _toDisplayString(_ctx.i18n.amos[i.name]), 1)]),\n              _: 2\n            }, 1032, [\"value\", \"label\", \"class\"]);\n          }), 128))]),\n          _: 1\n        }, 8, [\"modelValue\", \"class\"])]),\n        _: 1\n      })]),\n      _: 1\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      size: \"large\",\n      style: {\n        \"width\": \"100%\"\n      },\n      onClick: _ctx.saveForm\n    }, {\n      default: _withCtx(() => [_hoisted_11]),\n      _: 1\n    }, 8, [\"onClick\"])]),\n    _: 1\n  }, 8, [\"modelValue\", \"title\"])], 2);\n}","import \"core-js/modules/es.array.includes.js\";\nimport { allUsers, createEmptyStore, currentUser, reloadAllUsers } from '@/store';\nimport { i18n } from '@/i18n';\nimport { ref, watch, defineComponent } from 'vue';\nimport { ElMessageBox } from 'element-plus';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faPlus, faPenToSquare, faTrashCan } from '@fortawesome/free-solid-svg-icons';\nimport { del, get, set } from '@/store/impl';\nimport { characterIcon } from '@/assets/mihoyoImages/characterIcon';\nimport characterAmos from '@/generated/amos-data/amos/characters';\nlibrary.add(faPlus, faPenToSquare, faTrashCan);\nexport default defineComponent({\n  setup() {\n    const datatable = ref(null);\n    watch([datatable, currentUser], () => {\n      var _datatable$value;\n\n      (_datatable$value = datatable.value) === null || _datatable$value === void 0 ? void 0 : _datatable$value.setCurrentRow(allUsers.value.find(e => e.id === currentUser.value));\n    });\n\n    const handleCurrentChange = e => {\n      if (edit.value.show) return;\n\n      if (e && e.id && e.id !== currentUser.value) {\n        currentUser.value = e.id;\n      }\n    };\n\n    const edit = ref({\n      show: false,\n      edit: '',\n      id: '',\n      name: '',\n      avatar: 'PlayerGirl'\n    });\n\n    function addUser() {\n      edit.value = {\n        show: true,\n        edit: '',\n        id: '',\n        name: '',\n        avatar: 'PlayerGirl'\n      };\n    }\n\n    function editUser(user) {\n      edit.value = {\n        show: true,\n        edit: user.id,\n        id: user.id,\n        name: user.name,\n        avatar: user.avatar\n      };\n    }\n\n    function saveForm() {\n      if (['options', 'currentUser', 'cocogoat'].includes(edit.value.id) || edit.value.id.includes('/') || edit.value.id.includes('\\\\') || edit.value.id.includes(' ')) {\n        ElMessageBox.alert('UID 不合适', '出错了');\n        return;\n      }\n\n      if (!edit.value.edit) {\n        if (allUsers.value.find(e => e.id === edit.value.id)) {\n          ElMessageBox.alert('UID 重复', '出错了');\n          return;\n        } // 新增\n\n\n        const emptyStore = createEmptyStore();\n        emptyStore.user.name = edit.value.name;\n        emptyStore.user.avatar = edit.value.avatar;\n        set(edit.value.id, emptyStore);\n        reloadAllUsers();\n        edit.value.show = false;\n        return;\n      }\n\n      if (edit.value.edit !== edit.value.id) {\n        // 修改了UID\n        if (allUsers.value.find(e => e.id === edit.value.id)) {\n          ElMessageBox.alert('UID 重复', '出错了');\n          return;\n        }\n\n        const val = get(edit.value.edit);\n        del(edit.value.edit);\n        set(edit.value.id, val);\n      }\n\n      const val = get(edit.value.id);\n      val.user.name = edit.value.name;\n      val.user.avatar = edit.value.avatar;\n      set(edit.value.id, val);\n      reloadAllUsers();\n\n      if (currentUser.value === edit.value.edit) {\n        currentUser.value = edit.value.id;\n      }\n\n      edit.value.show = false;\n    }\n\n    async function delUser(user) {\n      try {\n        await ElMessageBox.confirm('真的要删除吗？', '提示');\n      } catch (e) {\n        return;\n      }\n\n      if (user.id === currentUser.value) {\n        currentUser.value = allUsers.value[0].id;\n      }\n\n      del(user.id);\n      reloadAllUsers();\n    }\n\n    return {\n      i18n,\n      allUsers,\n      currentUser,\n      characterIcon,\n      datatable,\n      handleCurrentChange,\n      addUser,\n      editUser,\n      delUser,\n      edit,\n      saveForm,\n      characterAmos\n    };\n  }\n\n});","/* unplugin-vue-components disabled */// extracted by mini-css-extract-plugin\nexport default {\"userSelectorItem\":\"user-selector-item-a1c68a\",\"userManager\":\"user-manager-af1dcf\",\"avatarSel\":\"avatar-sel-adeaa5\",\"avatarSelPrefix\":\"avatar-sel-prefix-a83f9c\"};","/* unplugin-vue-components disabled */import { render } from \"./User.vue?vue&type=template&id=0a03f122&ts=true\"\nimport script from \"./User.vue?vue&type=script&lang=ts\"\nexport * from \"./User.vue?vue&type=script&lang=ts\"\n\nconst cssModules = {}\nimport style0 from \"./User.vue?vue&type=style&index=0&id=0a03f122&lang=scss&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"/home/runner/work/cocogoat/cocogoat/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.73.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__cssModules',cssModules]])\n\nexport default __exports__"],"names":["_hoisted_1","_","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","style","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_table_column","_component_fa_icon","_component_el_button","_component_el_table","_component_el_input","_component_el_form_item","_component_el_option","_component_el_select","_component_el_form","_component_el_drawer","$style","userManager","ref","data","allUsers","onCurrentChange","handleCurrentChange","default","prop","header","scope","src","characterIcon","row","avatar","name","id","width","type","plain","onClick","addUser","icon","$event","editUser","length","key","delUser","modelValue","edit","show","size","title","label","placeholder","filterable","avatarSel","prefix","avatarSelPrefix","characterAmos","i","value","i18n","amos","userSelectorItem","saveForm","setup","datatable","_datatable$value","setCurrentRow","e","user","includes","emptyStore","val","async","currentUser","cssModules","__exports__"],"sourceRoot":""}