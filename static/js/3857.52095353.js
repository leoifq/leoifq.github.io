(self["define"]=self["define"]||[]).push([[3857,7442],{5461:function(t,e,n){n(61811),n(90867),function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",a="second",i="minute",s="hour",o="day",c="week",l="month",u="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},g={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(r,l),i=n-a<0,s=e.clone().add(r+(i?-1:1),l);return+(-(r+(n-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:c,d:o,D:f,h:s,m:i,s:a,ms:r,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",C={};C[w]=v;var _=function(t){return t instanceof M},$=function t(e,n,r){var a;if(!e)return w;if("string"==typeof e){var i=e.toLowerCase();C[i]&&(a=i),n&&(C[i]=n,a=i);var s=e.split("-");if(!a&&s.length>1)return t(s[0])}else{var o=e.name;C[o]=e,a=o}return!r&&a&&(w=a),a||!r&&w},b=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new M(n)},S=g;S.l=$,S.i=_,S.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function v(t){this.$L=$(t.locale,null,!0),this.parse(t)}var y=v.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return b(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<b(t)},y.$g=function(t,e,n){return S.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,r=!!S.u(e)||e,u=S.p(t),p=function(t,e){var a=S.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?a:a.endOf(o)},h=function(t,e){return S.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,v=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case l:return r?p(1,v):p(0,v+1);case c:var w=this.$locale().weekStart||0,C=(m<w?m+7:m)-w;return p(r?y-C:y+(6-C),v);case o:case f:return h(g+"Hours",0);case s:return h(g+"Minutes",1);case i:return h(g+"Seconds",2);case a:return h(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,c=S.p(t),u="set"+(this.$u?"UTC":""),p=(n={},n[o]=u+"Date",n[f]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[i]=u+"Minutes",n[a]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],h=c===o?this.$D+(e-this.$W):e;if(c===l||c===d){var m=this.clone().set(f,1);m.$d[p](h),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[S.p(t)]()},y.add=function(r,u){var f,p=this;r=Number(r);var h=S.p(u),m=function(t){var e=b(p);return S.w(e.date(e.date()+Math.round(t*r)),p)};if(h===l)return this.set(l,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===o)return m(1);if(h===c)return m(7);var v=(f={},f[i]=e,f[s]=n,f[a]=t,f)[h]||1,y=this.$d.getTime()+r*v;return S.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=t||"YYYY-MM-DDTHH:mm:ssZ",a=S.z(this),i=this.$H,s=this.$m,o=this.$M,c=n.weekdays,l=n.months,u=function(t,n,a,i){return t&&(t[n]||t(e,r))||a[n].slice(0,i)},d=function(t){return S.s(i%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:S.s(o+1,2,"0"),MMM:u(n.monthsShort,o,l,3),MMMM:u(l,o),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:S.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,s,!0),A:f(i,s,!1),m:String(s),mm:S.s(s,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:a};return r.replace(m,(function(t,e){return e||h[t]||a.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,p){var h,m=S.p(f),v=b(r),y=(v.utcOffset()-this.utcOffset())*e,g=this-v,w=S.m(this,v);return w=(h={},h[d]=w/12,h[l]=w,h[u]=w/3,h[c]=(g-y)/6048e5,h[o]=(g-y)/864e5,h[s]=g/n,h[i]=g/e,h[a]=g/t,h)[m]||g,p?w:S.a(w)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return C[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=$(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),k=M.prototype;return b.prototype=k,[["$ms",r],["$s",a],["$m",i],["$H",s],["$W",o],["$M",l],["$y",d],["$D",f]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,M,b),t.$i=!0),b},b.locale=$,b.isDayjs=_,b.unix=function(t){return b(1e3*t)},b.en=C[w],b.Ls=C,b.p={},b}))},97442:function(t,e,n){"use strict";n.d(e,{HU:function(){return u},ik:function(){return c},ts:function(){return s}});var r=n(30926);const a={global:"https://77.cocogoat.work",cn:"https://77.cocogoat.cn"};let i=navigator.language.startsWith("zh")?"cn":"global";const s=(0,r.iH)(""),o=(0,r.iH)("info"),c=(0,r.iH)("");let l;const u=async(t="",e="default")=>(l||(l=d(i),i=await l),await l,a["default"===e?i:e]+t),d=async t=>{const e=await a[t]+"/status";try{const t=await fetch(e);if(t.ok){const e=await t.json();if(s.value=e.msg,o.value=e.typ,c.value=e.smsg,a[e.region])return e.region}}catch(n){return console.error("API Region Probe Faild",n),"global"===t?"cn":"global"}return t}},42053:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(61583);const a={viewBox:"0 0 204 204"},i=(0,r._)("g",null,[(0,r._)("path",{d:" M 92.79 59.13 C 94.98 55.32 98.53 52.56 101.92 49.88 C 105.14 52.74 108.92 55.30 111.02 59.15 C 110.63 62.49 107.80 65.92 104.21 65.83 C 101.15 65.86 97.27 66.68 95.10 63.91 C 93.97 62.56 92.73 60.98 92.79 59.13 Z"}),(0,r._)("path",{d:" M 82.38 54.26 C 82.72 54.23 83.41 54.17 83.76 54.14 C 86.77 57.18 89.10 60.84 92.29 63.72 C 93.95 65.58 96.89 67.68 95.57 70.52 C 93.68 75.27 90.04 79.03 87.26 83.27 C 85.94 84.91 84.25 87.99 81.72 86.52 C 79.39 83.07 77.68 79.20 75.02 75.95 C 73.64 73.84 70.87 71.42 72.69 68.75 C 75.49 63.69 78.35 58.47 82.38 54.26 Z"}),(0,r._)("path",{d:" M 119.11 54.95 C 120.87 52.96 122.79 55.72 123.89 57.04 C 126.97 61.41 130.22 65.85 132.00 70.92 C 128.93 76.45 124.76 81.37 121.83 87.03 C 121.20 86.96 119.95 86.83 119.33 86.77 C 116.16 82.55 113.06 78.28 110.00 73.99 C 108.50 71.78 106.78 68.39 109.16 66.15 C 112.65 62.58 116.01 58.89 119.11 54.95 Z"}),(0,r._)("path",{d:" M 51.82 63.56 C 58.70 63.02 64.12 67.97 68.08 72.99 C 72.28 77.62 75.21 83.19 78.32 88.57 C 80.70 92.48 79.50 97.42 81.68 101.44 C 84.44 88.13 95.06 78.87 101.41 67.39 C 103.21 69.06 104.59 71.10 105.93 73.15 C 111.83 81.55 119.56 89.46 121.42 99.94 C 121.88 99.79 122.79 99.50 123.25 99.35 C 123.62 95.93 123.59 92.31 125.30 89.22 C 129.75 80.82 134.83 72.41 142.47 66.52 C 145.21 64.40 148.62 63.50 152.06 63.57 C 150.18 68.18 148.61 72.98 148.91 78.04 C 148.87 91.80 143.22 105.66 132.73 114.74 C 129.22 118.10 124.49 120.51 122.54 125.21 C 127.83 124.55 132.04 121.10 136.38 118.32 C 145.39 112.57 154.03 106.14 161.79 98.78 C 167.77 93.07 171.20 85.51 174.16 77.96 C 176.45 77.74 177.07 80.44 178.09 81.97 C 181.72 88.26 181.50 95.83 180.67 102.81 C 179.03 109.41 175.27 115.68 169.55 119.51 C 161.87 124.32 153.00 127.10 143.98 127.83 C 140.96 128.00 137.94 128.52 135.19 129.85 C 136.01 134.37 136.26 139.44 133.24 143.26 C 129.03 150.23 118.48 151.96 112.25 146.74 C 108.03 143.08 106.71 137.40 103.80 132.82 C 102.28 133.14 100.11 132.48 99.28 134.22 C 96.79 138.38 95.66 143.53 91.73 146.71 C 87.38 150.49 80.82 150.55 75.80 148.14 C 72.69 146.31 70.33 143.26 68.96 139.95 C 67.64 136.66 68.75 133.04 68.04 129.67 C 65.75 128.01 62.69 128.23 60.02 127.83 C 51.21 127.21 42.64 124.39 35.05 119.91 C 28.95 116.19 24.96 109.66 23.29 102.82 C 22.58 95.83 22.21 88.24 25.83 81.92 C 26.84 80.41 27.51 77.79 29.76 77.99 C 31.70 81.87 32.72 86.19 35.15 89.83 C 41.41 100.09 51.57 106.93 61.00 113.98 C 67.60 117.93 73.49 123.71 81.26 125.19 C 79.42 120.47 74.79 118.01 71.24 114.75 C 60.50 105.43 54.82 91.11 55.06 76.99 C 55.35 72.26 53.43 67.89 51.82 63.56 M 72.72 129.22 C 72.52 135.00 78.56 138.93 83.85 138.62 C 87.70 138.20 90.56 135.35 93.11 132.70 C 87.27 128.33 79.61 128.62 72.72 129.22 M 110.90 132.29 C 112.59 134.55 114.51 136.81 117.21 137.86 C 123.13 140.54 131.06 135.91 131.17 129.27 C 124.29 128.39 117.05 128.76 110.90 132.29 Z"})],-1),s=[i];function o(t,e){return(0,r.wg)(),(0,r.iD)("svg",a,s)}var c=n(14545);const l={},u=(0,c.Z)(l,[["render",o]]);var d=u},80705:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return O},name:function(){return S}});var r=n(29056),a=(n(60388),n(61583)),i=n(91239),s=n(17515);const o={class:"first"},c={class:"loading"},l={class:"big-icon"},u=(0,a._)("div",{class:"mail-desc"},"处理中，请稍候...",-1),d={class:"second"},f={class:"big-icon"},p=(0,a._)("div",{class:"mail-desc"},[(0,a.Uk)(" 一封邮件已经发送到您的邮箱 "),(0,a._)("br"),(0,a.Uk)("请查收并点击邮件中的链接登录 ")],-1),h={class:"loading"},m={class:"big-icon"},v=(0,a._)("div",{class:"mail-desc"},"马上就好...",-1);function y(t,e,n,y,g,w){const C=(0,a.up)("icon-cocogoat"),_=(0,a.up)("fa-icon"),$=r.mi;return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(t.$style.syncInstaller)},[(0,a._)("div",{class:"slide",style:(0,i.j5)(`transform: translateX(${-280*(t.step-1)}px)`)},[(0,a._)("div",o,[(0,a.Wm)(C,{class:"logo"}),(0,a._)("form",{onSubmit:e[1]||(e[1]=(0,s.iM)(((...e)=>t.submitMail&&t.submitMail(...e)),["prevent","stop"]))},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.mail=e),placeholder:"请输入邮箱地址",type:"email",class:"email-input"},null,512),[[s.nr,t.mail]]),(0,a.Wm)($,{size:"large",type:"primary",color:"#0079cc",class:"submit-button",disabled:!t.isMail,onClick:t.submitMail},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:"angle-right"})])),_:1},8,["disabled","onClick"])],32)]),(0,a._)("div",c,[(0,a._)("span",l,[(0,a.Wm)(_,{icon:"circle-notch",spin:""})]),u]),(0,a._)("div",d,[(0,a._)("span",f,[(0,a.Wm)(_,{icon:"envelope-open-text"})]),p,(0,a.Wm)($,{size:"small",class:"retry",disabled:t.timer>0,onClick:t.submitMail},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.timer>0?`没收到吗？${t.timer}s后重试`:"重发邮件"),1)])),_:1},8,["disabled","onClick"])]),(0,a._)("div",h,[(0,a._)("span",m,[(0,a.Wm)(_,{icon:"circle-notch",spin:""})]),v])],4)],2)}n(43928);var g=n(42053),w=n(97442),C=n(84876),_=n(2849),$=n(19928),b=n(30926);C.vI.add(_.yOZ,_.mSY,_.f8k,_.IJ7,_.Yme);const S="椰羊云同步";var M=(0,a.aZ)({components:{IconCocogoat:g.Z},emits:["submit"],setup(t,{emit:e}){let n,r=()=>{};const i=(0,b.iH)(1);(0,a.bv)((()=>{window.initGeetest4({captchaId:"2c9c8579b5bc9d3771a03e7939ac0c66",product:"bind"},(function(t){t.onReady((function(){n=t})).onSuccess((function(){r(),r=()=>{}})).onClose((function(){i.value=1}))}))}));let s=0;(0,a.Jd)((()=>{s&&clearTimeout(s)}));let o=!1;(0,a.Jd)((()=>{o=!0}));const c=(0,b.iH)(""),l=(0,a.Fl)((()=>{const t=/^\s*\w+(?:\.{0,1}[\w-]+)*@[a-zA-Z0-9]+(?:[-.][a-zA-Z0-9]+)*\.[a-zA-Z]+\s*$/;return t.test(c.value)})),u=(0,b.iH)(0),d=(0,b.iH)(""),f=(0,b.iH)("");let p="";const h=async()=>{if(!l.value)return;i.value=2;let t=null;n&&(n.showCaptcha(),await new Promise((t=>{r=t})),t=n.getValidate());const e=await fetch(await(0,w.HU)("/v2/lumine"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.value,gt:t})});if(!e.ok||"application/json"!==e.headers.get("content-type")){i.value=1;let t=await e.text();try{const e=JSON.parse(t);t=e.error||e.msg}catch(d){}return void $.T.alert(t,"出错了！")}const a=await e.json();p=a.ticket,u.value=180;const o=()=>{u.value--,u.value>0&&setTimeout(o,1e3)};setTimeout(o,1e3),i.value=3,s=setTimeout(m,3e3)},m=async()=>{if(!o)try{const n=await fetch(await(0,w.HU)("/v2/lumine/"+p),{method:"DELETE"});if(404===n.status)s=setTimeout(m,2e3);else if(200===n.status){const t=await n.json();t.lastModified=Date.now();const r=c.value.replace(/\./g,"_").replace(/@/g,"_").replace(/-/g,"_");e("submit",{key:r,data:t})}else{i.value=1;let e=await n.text();try{const t=JSON.parse(e);e=t.error||t.msg}catch(t){}$.T.alert(e,"出错了！")}}catch(t){s=setTimeout(m,2e3)}};return{step:i,mail:c,submitMail:h,timer:u,dtserver:d,dtlocal:f,isMail:l}}}),k={syncInstaller:"sync-installer-fd543b"},D=n(14545);const x={};x["$style"]=k;const U=(0,D.Z)(M,[["render",y],["__cssModules",x]]);var O=U},40908:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x},name:function(){return _}});var r=n(29056),a=(n(60388),n(61583)),i=n(91239);const s={class:"big-icon"},o=(0,a.Uk)(" Sign In With Microsoft "),c=(0,a._)("div",{class:"mail-desc"},"OneDrive 在中国大陆地区响应较慢，并可能出现网络错误等情况，请知悉",-1),l={class:"loading"},u={class:"big-icon"},d=(0,a._)("div",{class:"mail-desc"},"马上就好...",-1);function f(t,e,n,f,p,h){const m=(0,a.up)("fa-icon"),v=r.mi;return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(t.$style.syncInstaller)},[(0,a._)("div",{class:"slide",style:(0,i.j5)(`transform: translateX(${-280*(t.step-1)}px)`)},[(0,a._)("div",null,[(0,a._)("span",s,[(0,a.Wm)(m,{icon:["fab","microsoft"]})]),(0,a.Wm)(v,{size:"large",type:"primary",color:"#0079cc",class:"submit-button",onClick:t.loginMsft},{default:(0,a.w5)((()=>[o])),_:1},8,["onClick"]),c]),(0,a._)("div",l,[(0,a._)("span",u,[(0,a.Wm)(m,{icon:"circle-notch",spin:""})]),d])],4)],2)}n(43928);var p=n(85166),h=n(84876),m=n(65890),v=n(2849),y=n(19928),g=n(30926),w=n(97442);const C="93a5cb17-1ee8-4abf-b1a3-c384a4f6952f";h.vI.add(m.hVS,v.f8k,v.IJ7);const _="OneDrive";var $=(0,a.aZ)({emits:["submit"],setup(t,{emit:e}){const n=(0,g.iH)(""),r=(0,g.iH)("");let i="",s="";try{i=location.hash.split("id_token=")[1].split("&")[0],s=location.hash.split("code=")[1].split("&")[0],location.replace("#")}catch(u){}const o=(0,g.iH)(i&&s?2:1),c=()=>{const t=location.href.replace(location.search,"").replace(location.hash,"");sessionStorage.setItem("msftTempRedirectUrl",t),o.value=2,location.href="https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize?client_id="+C+"&response_type=code%20id_token&redirect_uri="+encodeURIComponent(t)+"&scope=openid,profile,offline_access,Files.ReadWrite.AppFolder&response_mode=fragment&state=cocogoat-msft&nonce="+(new Date).getTime()},l=async()=>{const t=await fetch(await(0,w.HU)("/v2/aether/microsoft"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s,redirect_uri:sessionStorage.getItem("msftTempRedirectUrl")})});if(200!==t.status||"application/json"!==t.headers.get("content-type")){o.value=1;let e=await t.text();try{const t=JSON.parse(e);e=t.error||t.msg}catch(u){}return void y.T.alert(e,"出错了！")}const n=await t.json();n.id_token=i,n.last_updated=Date.now();const r=b(i).replace(/\./g,"_").replace(/@/g,"_").replace(/-/g,"_");e("submit",{key:r,data:n})};return(0,a.bv)((()=>{i&&s&&l()})),{step:o,dtserver:n,dtlocal:r,loginMsft:c}}});function b(t){const e=t.split(".");if(3!==e.length)return"";const n=JSON.parse((0,p.Jx)(e[1]));return n.preferred_username}var S={syncInstaller:"sync-installer-b6ea8b"},M=n(14545);const k={};k["$style"]=S;const D=(0,M.Z)($,[["render",f],["__cssModules",k]]);var x=D},13857:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return q}});var r=n(97397),a=(n(61110),n(1691)),i=(n(96433),n(72669)),s=(n(36855),n(55788),n(13292)),o=(n(93316),n(89629),n(29056)),c=(n(60388),n(43928),n(61583)),l=n(91239);const u=(0,c._)("h4",null,"云同步",-1),d=(0,c._)("div",{class:"desc"},[(0,c.Uk)(" 在这里可以将您的账号与云同步。 "),(0,c._)("br"),(0,c.Uk)(" 如出现同步失败，一般是本地数据和云端数据出现了冲突，您可以选择： "),(0,c._)("li",null,"在下方点击手动同步，强制覆盖云端数据"),(0,c._)("li",null,"在下方点击清除本地数据，页面刷新后会自动从云端同步")],-1),f=(0,c.Uk)("手动同步"),p={key:1},h=(0,c.Uk)("   添加 "),m={style:{"text-align":"right"}},v=(0,c._)("br",null,null,-1),y={key:0,class:"failds"},g=(0,c._)("h4",null,"同步状态",-1),w=(0,c._)("br",null,null,-1),C=(0,c._)("h4",null,"本地导出",-1),_={class:"desc"},$=(0,c.Uk)(" 导出的本地文件为 zip 格式，因此只需通过删除其中不想要的文件即可实现部分导入。"),b=(0,c._)("br",null,null,-1),S=(0,c.Uk)("导入还没做好。 "),M=(0,c.Uk)("导出数据"),k=(0,c.Uk)("导入数据"),D=(0,c.Uk)("清除数据"),x={class:"add-form"};function U(t,e,n,U,O,T){const W=o.mi,A=s.$Y,I=(0,c.up)("fa-icon"),H=s.eI,z=i.BT,Z=i.km,j=a.os,J=r.zd;return(0,c.wg)(),(0,c.iD)("section",{class:(0,l.C_)(t.$style.syncManager)},[u,d,(0,c.Wm)(H,{ref:"datatable",data:t.syncProviders,class:"account-table"},{default:(0,c.w5)((()=>[(0,c.Wm)(A,{prop:"id"},{header:(0,c.w5)((()=>[(0,c.Wm)(W,{onClick:e[0]||(e[0]=e=>t.forceSyncAll(!0))},{default:(0,c.w5)((()=>[f])),_:1})])),default:(0,c.w5)((t=>[t.row.provider.component?((0,c.wg)(),(0,c.j4)((0,c.LL)(t.row.provider.component),{key:0,provider:t.row.provider},null,8,["provider"])):((0,c.wg)(),(0,c.iD)("div",p,(0,l.zw)(JSON.stringify(t.row)),1))])),_:1}),(0,c.Wm)(A,{width:"120px"},{header:(0,c.w5)((()=>[(0,c.Wm)(W,{class:"add-button",type:"primary",plain:"",style:{float:"right"},onClick:e[1]||(e[1]=e=>t.$router.replace({...t.$route,params:{app:"cocogoat"}}))},{default:(0,c.w5)((()=>[(0,c.Wm)(I,{icon:"plus"}),h])),_:1})])),default:(0,c.w5)((e=>[(0,c._)("div",m,[(0,c.Wm)(W,{type:"danger",style:{width:"35px","margin-left":"2px"},plain:"",onClick:n=>t.delprovider(e.row)},{default:(0,c.w5)((()=>[(0,c.Wm)(I,{icon:"trash-can"})])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),v,t.syncStatus.errors.length>0?((0,c.wg)(),(0,c.iD)("div",y,[g,w,(0,c.Wm)(H,{data:t.syncStatus.errors,class:"error-table"},{default:(0,c.w5)((()=>[(0,c.Wm)(A,{prop:"provider",label:"同步服务"}),(0,c.Wm)(A,{prop:"provider",label:"错误类型"},{default:(0,c.w5)((e=>[(0,c.Uk)((0,l.zw)(t.errtype[e.row.code]||"其他错误"),1)])),_:1}),(0,c.Wm)(A,{prop:"provider",label:"详细信息"},{default:(0,c.w5)((t=>[(0,c.Uk)((0,l.zw)(t.row.message),1)])),_:1})])),_:1},8,["data"])])):(0,c.kq)("",!0),C,(0,c._)("div",_,[$,b,S,(0,c._)("p",null,[(0,c.Wm)(W,{type:"primary",plain:"",loading:t.exportLoading,onClick:t.exportData},{default:(0,c.w5)((()=>[M])),_:1},8,["loading","onClick"]),(0,c.Wm)(W,{plain:"",disabled:""},{default:(0,c.w5)((()=>[k])),_:1}),(0,c.Wm)(W,{plain:"",type:"danger",onClick:t.clearData},{default:(0,c.w5)((()=>[D])),_:1},8,["onClick"])])]),(0,c.Wm)(J,{"model-value":""!==t.addType,"custom-class":"add-drawer",title:"添加同步账号",size:320,"append-to-body":!1,"z-index":900,"destroy-on-close":"","close-on-press-escape":!1,"close-on-click-modal":!1,onClose:e[4]||(e[4]=e=>t.$router.replace({...t.$route,params:{}}))},{default:(0,c.w5)((()=>[(0,c._)("div",x,[(0,c.Wm)(Z,{"model-value":t.addType,size:"large",style:{width:"100%"},"onUpdate:modelValue":e[2]||(e[2]=e=>t.$router.replace({...t.$route,params:{app:e}}))},{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.providerInstallerList,(t=>((0,c.wg)(),(0,c.j4)(z,{key:t.class,value:t.class,label:t.name},null,8,["value","label"])))),128))])),_:1},8,["model-value"]),(0,c.Wm)(j),((0,c.wg)(),(0,c.j4)((0,c.LL)(t.addComp),{onSubmit:e[3]||(e[3]=e=>t.addSave(e))},null,32))])])),_:1},8,["model-value"])],2)}var O=n(22244),T=n(30926),W=n(92066),A=n(12983),I=n(16222),H=n(5461),z=n.n(H),Z=n(19928),j=n(99113);let J=[];const L=n(88510);J=L.keys().map((t=>{const e=L(t);return{class:t.replace(/\.\/(.*?)\/Install\.vue$/,"$1"),name:e.name,component:e.default}}));var Y=J,F=n(84876),E=n(2849);F.vI.add(E.r8p,E.Yai,E.Vui);var N=(0,c.aZ)({setup(){const t=t=>{O.dk.value.splice(O.dk.value.indexOf(t),1),localStorage.removeItem("cocogoat.sync.v1."+t.id)},e=(0,W.yj)(),r=(0,W.tv)(),a=(0,c.Fl)((()=>(e.params.app||"").toString())),i=(0,c.Fl)((()=>{var t;return null===(t=Y.find((t=>t.class===a.value)))||void 0===t?void 0:t.component})),s=({key:t,data:n})=>{const i=t?`${a.value}_${t}`:(new Date).getTime().toString(16).split("").reverse().join("").substring(0,8);localStorage.setItem("cocogoat.sync.v1."+i,JSON.stringify({class:a.value,data:n})),r.replace({...e,params:{app:""}}),(0,O.rb)().then((()=>(0,O.JV)(!1)))},o=(0,T.iH)(!1),l=async()=>{o.value=!0;const t=(await Promise.resolve().then(n.bind(n,34194)).then((function(t){return n.t(t,22)}))).default,e=new t,r=(0,A.pb)().concat(["options","currentUser"]);r.forEach((t=>{const n=(0,A.U2)(t),r=(0,I.Z$)(t).toISOString();e.file(t+".json",JSON.stringify({value:n,lastModified:r},null,4))}));const a=await e.generateAsync({type:"blob"}),i=window.URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=`cocogoat-export-${z()().format("YYMMDDHHmm")}.zip`,s.click(),o.value=!1},u=async()=>{try{await Z.T.confirm("真的要清除本地数据吗？云端数据将依然保留，如需清理云端数据请通过删除账号方式操作。","提示")}catch(e){return}j.$K.value=!0,await(0,c.Y3)();const t=(0,A.pb)().concat(["options","currentUser"]);t.forEach((t=>{(0,A.IV)(t,!1)})),location.reload()},d={conflict:"同步冲突",offline:"网络错误",auth:"登录失效",disabled:"暂停服务"};return{syncProviders:O.dk,syncStatus:O.T$,providerInstallerList:Y,delprovider:t,addType:a,addSave:s,addComp:i,forceSyncAll:O.JV,clearData:u,exportData:l,exportLoading:o,errtype:d}}}),V={syncManager:"sync-manager-cc055d"},P=n(14545);const B={};B["$style"]=V;const R=(0,P.Z)(N,[["render",U],["__cssModules",B]]);var q=R},88510:function(t,e,n){var r={"./cocogoat/Install.vue":80705,"./onedrive/Install.vue":40908};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=88510},1691:function(t,e,n){"use strict";n.d(e,{os:function(){return h}});var r=n(61583),a=n(91239),i=n(30926),s=n(17398);const o=(0,s.o8)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,s.Cq)(String),default:"solid"}});var c=n(67311),l=n(66384);const u={name:"ElDivider"},d=(0,r.aZ)({...u,props:o,setup(t){const e=t,n=(0,l.s)("divider"),s=(0,r.Fl)((()=>n.cssVar({"border-style":e.borderStyle})));return(t,e)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)([(0,i.SU)(n).b(),(0,i.SU)(n).m(t.direction)]),style:(0,a.j5)((0,i.SU)(s)),role:"separator"},[t.$slots.default&&"vertical"!==t.direction?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,a.C_)([(0,i.SU)(n).e("text"),(0,i.SU)(n).is(t.contentPosition)])},[(0,r.WI)(t.$slots,"default")],2)):(0,r.kq)("v-if",!0)],6))}});var f=(0,c.Z)(d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]),p=n(6700);const h=(0,p.nz)(f)},96433:function(t,e,n){"use strict";n(75452)},85166:function(t,e,n){"use strict";n.d(e,{Jx:function(){return _}});n(97791),n(670),n(80426),n(49743),n(36826),n(26263),n(77253);const r="function"===typeof atob,a="function"===typeof Buffer,i="function"===typeof TextDecoder?new TextDecoder:void 0,s=("function"===typeof TextEncoder&&new TextEncoder,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),o=Array.prototype.slice.call(s),c=(t=>{let e={};return t.forEach(((t,n)=>e[t]=n)),e})(o),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),d="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),f=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),p=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,h=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return u(55296+(n>>>10))+u(56320+(1023&n));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=t=>t.replace(p,h),v=t=>{if(t=t.replace(/\s+/g,""),!l.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n,r,a="";for(let i=0;i<t.length;)e=c[t.charAt(i++)]<<18|c[t.charAt(i++)]<<12|(n=c[t.charAt(i++)])<<6|(r=c[t.charAt(i++)]),a+=64===n?u(e>>16&255):64===r?u(e>>16&255,e>>8&255):u(e>>16&255,e>>8&255,255&e);return a},y=r?t=>atob(f(t)):a?t=>Buffer.from(t,"base64").toString("binary"):v,g=a?t=>d(Buffer.from(t,"base64")):t=>d(y(t),(t=>t.charCodeAt(0))),w=a?t=>Buffer.from(t,"base64").toString("utf8"):i?t=>i.decode(g(t)):t=>m(y(t)),C=t=>f(t.replace(/[-_]/g,(t=>"-"==t?"+":"/"))),_=t=>w(C(t))}}]);
//# sourceMappingURL=3857.52095353.js.map