(self["define"]=self["define"]||[]).push([[4694,7442,2150,4737],{12209:function(e,t,a){"use strict";a(77253);var n=a(92338),s={"text/plain":"Text","text/html":"Url",default:"Text"},i="Copy to clipboard: #{key}, Enter";function o(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function l(e,t){var a,l,r,c,u,d,m=!1;t||(t={}),a=t.debug||!1;try{r=n(),c=document.createRange(),u=document.getSelection(),d=document.createElement("span"),d.textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=s[t.format]||s["default"];window.clipboardData.setData(i,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(d),c.selectNodeContents(d),u.addRange(c);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");m=!0}catch(v){a&&console.error("unable to copy using execCommand: ",v),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(v){a&&console.error("unable to copy using clipboardData: ",v),a&&console.error("falling back to prompt"),l=o("message"in t?t.message:i),window.prompt(l,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(c):u.removeAllRanges()),d&&document.body.removeChild(d),r()}return m}e.exports=l},5461:function(e,t,a){a(61811),a(90867),function(t,a){e.exports=a()}(0,(function(){"use strict";var e=1e3,t=6e4,a=36e5,n="millisecond",s="second",i="minute",o="hour",l="day",r="week",c="month",u="quarter",d="year",m="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,a){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(a)+e},w={s:g,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),n=Math.floor(a/60),s=a%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(s,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var n=12*(a.year()-t.year())+(a.month()-t.month()),s=t.clone().add(n,c),i=a-s<0,o=t.clone().add(n+(i?-1:1),c);return+(-(n+(a-s)/(i?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:r,d:l,D:m,h:o,m:i,s:s,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=h;var k=function(e){return e instanceof E},_=function e(t,a,n){var s;if(!t)return y;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(s=i),a&&(b[i]=a,s=i);var o=t.split("-");if(!s&&o.length>1)return e(o[0])}else{var l=t.name;b[l]=t,s=l}return!n&&s&&(y=s),s||!n&&y},S=function(e,t){if(k(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new E(a)},C=w;C.l=_,C.i=k,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function h(e){this.$L=_(e.locale,null,!0),this.parse(e)}var g=h.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(v);if(n){var s=n[2]-1||0,i=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return C},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(e,t){var a=S(e);return this.startOf(t)<=a&&a<=this.endOf(t)},g.isAfter=function(e,t){return S(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<S(e)},g.$g=function(e,t,a){return C.u(e)?this[t]:this.set(a,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var a=this,n=!!C.u(t)||t,u=C.p(e),p=function(e,t){var s=C.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return n?s:s.endOf(l)},v=function(e,t){return C.w(a.toDate()[e].apply(a.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},f=this.$W,h=this.$M,g=this.$D,w="set"+(this.$u?"UTC":"");switch(u){case d:return n?p(1,0):p(31,11);case c:return n?p(1,h):p(0,h+1);case r:var y=this.$locale().weekStart||0,b=(f<y?f+7:f)-y;return p(n?g-b:g+(6-b),h);case l:case m:return v(w+"Hours",0);case o:return v(w+"Minutes",1);case i:return v(w+"Seconds",2);case s:return v(w+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var a,r=C.p(e),u="set"+(this.$u?"UTC":""),p=(a={},a[l]=u+"Date",a[m]=u+"Date",a[c]=u+"Month",a[d]=u+"FullYear",a[o]=u+"Hours",a[i]=u+"Minutes",a[s]=u+"Seconds",a[n]=u+"Milliseconds",a)[r],v=r===l?this.$D+(t-this.$W):t;if(r===c||r===d){var f=this.clone().set(m,1);f.$d[p](v),f.init(),this.$d=f.set(m,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](v);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[C.p(e)]()},g.add=function(n,u){var m,p=this;n=Number(n);var v=C.p(u),f=function(e){var t=S(p);return C.w(t.date(t.date()+Math.round(e*n)),p)};if(v===c)return this.set(c,this.$M+n);if(v===d)return this.set(d,this.$y+n);if(v===l)return f(1);if(v===r)return f(7);var h=(m={},m[i]=t,m[o]=a,m[s]=e,m)[v]||1,g=this.$d.getTime()+n*h;return C.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",s=C.z(this),i=this.$H,o=this.$m,l=this.$M,r=a.weekdays,c=a.months,u=function(e,a,s,i){return e&&(e[a]||e(t,n))||s[a].slice(0,i)},d=function(e){return C.s(i%12||12,e,"0")},m=a.meridiem||function(e,t,a){var n=e<12?"AM":"PM";return a?n.toLowerCase():n},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:C.s(l+1,2,"0"),MMM:u(a.monthsShort,l,c,3),MMMM:u(c,l),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(a.weekdaysMin,this.$W,r,2),ddd:u(a.weekdaysShort,this.$W,r,3),dddd:r[this.$W],H:String(i),HH:C.s(i,2,"0"),h:d(1),hh:d(2),a:m(i,o,!0),A:m(i,o,!1),m:String(o),mm:C.s(o,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:s};return n.replace(f,(function(e,t){return t||v[e]||s.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,m,p){var v,f=C.p(m),h=S(n),g=(h.utcOffset()-this.utcOffset())*t,w=this-h,y=C.m(this,h);return y=(v={},v[d]=y/12,v[c]=y,v[u]=y/3,v[r]=(w-g)/6048e5,v[l]=(w-g)/864e5,v[o]=w/a,v[i]=w/t,v[s]=w/e,v)[f]||w,p?y:C.a(y)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),n=_(e,t,!0);return n&&(a.$L=n),a},g.clone=function(){return C.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},h}(),I=E.prototype;return S.prototype=I,[["$ms",n],["$s",s],["$m",i],["$H",o],["$W",l],["$M",c],["$y",d],["$D",m]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,E,S),e.$i=!0),S},S.locale=_,S.isDayjs=k,S.unix=function(e){return S(1e3*e)},S.en=b[y],S.Ls=b,S.p={},S}))},40:function(e,t,a){"use strict";a(77253);const n=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),s=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},i=({clearTimeout:e,setTimeout:t,willResolve:a})=>(n,{value:i,signal:o}={})=>{if(o&&o.aborted)return Promise.reject(s());let l,r,c;const u=e||clearTimeout,d=()=>{u(l),c(s())},m=()=>{o&&o.removeEventListener("abort",d)},p=new Promise(((e,s)=>{r=()=>{m(),a?e(i):s(i)},c=s,l=(t||setTimeout)(r,n)}));return o&&o.addEventListener("abort",d,{once:!0}),p.clear=()=>{u(l),l=null,r()},p},o=e=>{const t=i({...e,willResolve:!0});return t.reject=i({...e,willResolve:!1}),t.range=(e,a,s)=>t(n(e,a),s),t},l=o();l.createWithTimers=o,e.exports=l,e.exports["default"]=l},92338:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],n=0;n<e.rangeCount;n++)a.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},30993:function(){},44459:function(e,t,a){"use strict";a.d(t,{ZP:function(){return l}});var n=a.p+"static/img/yuanshi.469d3f0f.png",s=a.p+"static/img/openscreenshare.a7389a8f.png";const i={[n]:"https://upload-bbs.mihoyo.com/upload/2022/12/26/300350281/fb334cf8fd21e669ed6e7aa95890e2b5_2523388253479178875.png",[s]:"https://upload-bbs.mihoyo.com/upload/2022/12/26/300350281/aca41a90b6d80f17c9b2f1d663e49625_7075418291258186431.png"},o={yuanshi:n,openscreenshare:s};var l=e=>{const t=o[e]||e;return i[t]||t}},97442:function(e,t,a){"use strict";a.d(t,{HU:function(){return u},ik:function(){return r},ts:function(){return o}});var n=a(30926);const s={global:"https://77.cocogoat.work",cn:"https://77.cocogoat.cn"};let i=navigator.language.startsWith("zh")?"cn":"global";const o=(0,n.iH)(""),l=(0,n.iH)("info"),r=(0,n.iH)("");let c;const u=async(e="",t="default")=>(c||(c=d(i),i=await c),await c,s["default"===t?i:t]+e),d=async e=>{const t=await s[e]+"/status";try{const e=await fetch(t);if(e.ok){const t=await e.json();if(o.value=t.msg,l.value=t.typ,r.value=t.smsg,s[t.region])return t.region}}catch(a){return console.error("API Region Probe Faild",a),"global"===e?"cn":"global"}return e}},2150:function(e,t,a){"use strict";a.r(t),a.d(t,{goalMap:function(){return s}});var n=a(63294);const s={},i={31:"sumeru-the-rainforest-of-lore",32:"mortal-travails-series-iii",33:"meetings-in-outrealm-series-iii",34:"challenger-series-vi",35:"sumeru-the-gilded-desert-series-i",36:"elemental-specialist-series-ii",37:"genius-invokation-tcg",38:"sumeru-the-gilded-desert-series-ii",39:"challenger-series-vii",41:"blessed-hamada",42:"fontaine-dance-of-the-dew-white-springs-i",43:"mortal-travails-series-iv",44:"meetings-in-outrealm-series-iv",45:"fontaine-dance-of-the-dew-white-springs-ii",40:"challenger-series-viii",46:"fontaine-dance-of-the-dew-white-springs-iii",47:"chenyus-splendor"};n["default"].forEach((e=>{e.key=i[e.id]||e.key.replace(/_/g,"-")||e.id.toString(),e.achievements.forEach((t=>{s[t.id]=e.id}))}))},42053:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=a(61583);const s={viewBox:"0 0 204 204"},i=(0,n._)("g",null,[(0,n._)("path",{d:" M 92.79 59.13 C 94.98 55.32 98.53 52.56 101.92 49.88 C 105.14 52.74 108.92 55.30 111.02 59.15 C 110.63 62.49 107.80 65.92 104.21 65.83 C 101.15 65.86 97.27 66.68 95.10 63.91 C 93.97 62.56 92.73 60.98 92.79 59.13 Z"}),(0,n._)("path",{d:" M 82.38 54.26 C 82.72 54.23 83.41 54.17 83.76 54.14 C 86.77 57.18 89.10 60.84 92.29 63.72 C 93.95 65.58 96.89 67.68 95.57 70.52 C 93.68 75.27 90.04 79.03 87.26 83.27 C 85.94 84.91 84.25 87.99 81.72 86.52 C 79.39 83.07 77.68 79.20 75.02 75.95 C 73.64 73.84 70.87 71.42 72.69 68.75 C 75.49 63.69 78.35 58.47 82.38 54.26 Z"}),(0,n._)("path",{d:" M 119.11 54.95 C 120.87 52.96 122.79 55.72 123.89 57.04 C 126.97 61.41 130.22 65.85 132.00 70.92 C 128.93 76.45 124.76 81.37 121.83 87.03 C 121.20 86.96 119.95 86.83 119.33 86.77 C 116.16 82.55 113.06 78.28 110.00 73.99 C 108.50 71.78 106.78 68.39 109.16 66.15 C 112.65 62.58 116.01 58.89 119.11 54.95 Z"}),(0,n._)("path",{d:" M 51.82 63.56 C 58.70 63.02 64.12 67.97 68.08 72.99 C 72.28 77.62 75.21 83.19 78.32 88.57 C 80.70 92.48 79.50 97.42 81.68 101.44 C 84.44 88.13 95.06 78.87 101.41 67.39 C 103.21 69.06 104.59 71.10 105.93 73.15 C 111.83 81.55 119.56 89.46 121.42 99.94 C 121.88 99.79 122.79 99.50 123.25 99.35 C 123.62 95.93 123.59 92.31 125.30 89.22 C 129.75 80.82 134.83 72.41 142.47 66.52 C 145.21 64.40 148.62 63.50 152.06 63.57 C 150.18 68.18 148.61 72.98 148.91 78.04 C 148.87 91.80 143.22 105.66 132.73 114.74 C 129.22 118.10 124.49 120.51 122.54 125.21 C 127.83 124.55 132.04 121.10 136.38 118.32 C 145.39 112.57 154.03 106.14 161.79 98.78 C 167.77 93.07 171.20 85.51 174.16 77.96 C 176.45 77.74 177.07 80.44 178.09 81.97 C 181.72 88.26 181.50 95.83 180.67 102.81 C 179.03 109.41 175.27 115.68 169.55 119.51 C 161.87 124.32 153.00 127.10 143.98 127.83 C 140.96 128.00 137.94 128.52 135.19 129.85 C 136.01 134.37 136.26 139.44 133.24 143.26 C 129.03 150.23 118.48 151.96 112.25 146.74 C 108.03 143.08 106.71 137.40 103.80 132.82 C 102.28 133.14 100.11 132.48 99.28 134.22 C 96.79 138.38 95.66 143.53 91.73 146.71 C 87.38 150.49 80.82 150.55 75.80 148.14 C 72.69 146.31 70.33 143.26 68.96 139.95 C 67.64 136.66 68.75 133.04 68.04 129.67 C 65.75 128.01 62.69 128.23 60.02 127.83 C 51.21 127.21 42.64 124.39 35.05 119.91 C 28.95 116.19 24.96 109.66 23.29 102.82 C 22.58 95.83 22.21 88.24 25.83 81.92 C 26.84 80.41 27.51 77.79 29.76 77.99 C 31.70 81.87 32.72 86.19 35.15 89.83 C 41.41 100.09 51.57 106.93 61.00 113.98 C 67.60 117.93 73.49 123.71 81.26 125.19 C 79.42 120.47 74.79 118.01 71.24 114.75 C 60.50 105.43 54.82 91.11 55.06 76.99 C 55.35 72.26 53.43 67.89 51.82 63.56 M 72.72 129.22 C 72.52 135.00 78.56 138.93 83.85 138.62 C 87.70 138.20 90.56 135.35 93.11 132.70 C 87.27 128.33 79.61 128.62 72.72 129.22 M 110.90 132.29 C 112.59 134.55 114.51 136.81 117.21 137.86 C 123.13 140.54 131.06 135.91 131.17 129.27 C 124.29 128.39 117.05 128.76 110.90 132.29 Z"})],-1),o=[i];function l(e,t){return(0,n.wg)(),(0,n.iD)("svg",s,o)}var r=a(14545);const c={},u=(0,r.Z)(c,[["render",l]]);var d=u},83649:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ps}});var n=a(1691),s=(a(96433),a(6964)),i=(a(77864),a(61583)),o=a(30926),l=a(91239),r=a(17515),c=a(40424),u=a(45126),d=a(8780),m=a(782),p=a(15471),v=a(77707),f=a(17398),h=a(1656),g=a(72811);const w=(0,f.o8)({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:(0,f.Cq)(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:(0,f.Cq)([Function,Array]),default:l.dG},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:h.sp.teleported,highlightFirstItem:{type:Boolean,default:!1}}),y={[g.f_]:e=>(0,l.HD)(e),[g.e_]:e=>(0,l.HD)(e),[g.O7]:e=>(0,l.HD)(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>(0,l.Kn)(e)};var b=a(67311),k=a(96779),_=a(66384),S=a(3695),C=a(58867);const E=["aria-expanded","aria-owns"],I={key:0},D=["id","aria-selected","onClick"],U={name:"ElAutocomplete",inheritAttrs:!1},M=(0,i.aZ)({...U,props:w,emits:y,setup(e,{expose:t,emit:a}){const n=e,f="ElAutocomplete",h=(0,k.l)(),w=(0,i.l1)(),y=(0,_.s)("autocomplete"),b=(0,o.iH)(),U=(0,o.iH)(),M=(0,o.iH)(),x=(0,o.iH)();let $=!1;const N=(0,o.iH)([]),A=(0,o.iH)(-1),T=(0,o.iH)(""),F=(0,o.iH)(!1),H=(0,o.iH)(!1),R=(0,o.iH)(!1),O=(0,i.Fl)((()=>y.b(String((0,S.O)())))),W=(0,i.Fl)((()=>w.style)),V=(0,i.Fl)((()=>{const e=N.value.length>0;return(e||R.value)&&F.value})),Y=(0,i.Fl)((()=>!n.hideLoading&&R.value)),P=async()=>{await(0,i.Y3)(),V.value&&(T.value=`${b.value.$el.offsetWidth}px`)},j=async e=>{if(H.value)return;const t=e=>{R.value=!1,H.value||((0,l.kJ)(e)?(N.value=e,A.value=n.highlightFirstItem?0:-1):(0,C._)(f,"autocomplete suggestions must be an array"))};if(R.value=!0,(0,l.kJ)(n.fetchSuggestions))t(n.fetchSuggestions);else{const a=await n.fetchSuggestions(e,t);(0,l.kJ)(a)&&t(a)}},q=(0,c.Z)(j,n.debounce),z=e=>{const t=!!e;if(a(g.e_,e),a(g.f_,e),H.value=!1,F.value||(F.value=$&&t),!n.triggerOnFocus&&!e)return H.value=!0,void(N.value=[]);$&&t&&($=!1),q(e)},L=e=>{a(g.O7,e)},Z=e=>{F.value=!0,a("focus",e),n.triggerOnFocus&&q(String(n.modelValue))},B=e=>{a("blur",e)},K=()=>{F.value=!1,$=!0,a(g.f_,""),a("clear")},J=async()=>{V.value&&A.value>=0&&A.value<N.value.length?ee(N.value[A.value]):n.selectWhenUnmatched&&(a("select",{value:n.modelValue}),await(0,i.Y3)(),N.value=[],A.value=-1)},Q=e=>{V.value&&(e.preventDefault(),e.stopPropagation(),G())},G=()=>{F.value=!1},X=()=>{var e;null==(e=b.value)||e.focus()},ee=async e=>{a(g.e_,e[n.valueKey]),a(g.f_,e[n.valueKey]),a("select",e),await(0,i.Y3)(),N.value=[],A.value=-1},te=e=>{if(!V.value||R.value)return;if(e<0)return void(A.value=-1);e>=N.value.length&&(e=N.value.length-1);const t=U.value.querySelector(`.${y.be("suggestion","wrap")}`),a=t.querySelectorAll(`.${y.be("suggestion","list")} li`),n=a[e],s=t.scrollTop,{offsetTop:i,scrollHeight:o}=n;i+o>s+t.clientHeight&&(t.scrollTop+=o),i<s&&(t.scrollTop-=o),A.value=e,b.value.ref.setAttribute("aria-activedescendant",`${O.value}-item-${A.value}`)};return(0,u.i9H)(x,G),(0,i.bv)((()=>{b.value.ref.setAttribute("role","textbox"),b.value.ref.setAttribute("aria-autocomplete","list"),b.value.ref.setAttribute("aria-controls","id"),b.value.ref.setAttribute("aria-activedescendant",`${O.value}-item-${A.value}`)})),t({highlightedIndex:A,activated:F,loading:R,inputRef:b,popperRef:M,suggestions:N,handleSelect:ee,handleKeyEnter:J,focus:X,close:G,highlight:te}),(e,t)=>((0,i.wg)(),(0,i.j4)((0,o.SU)(p.Q0),{ref_key:"popperRef",ref:M,visible:(0,o.SU)(V),"onUpdate:visible":t[2]||(t[2]=e=>(0,o.dq)(V)?V.value=e:null),placement:e.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[(0,o.SU)(y).e("popper"),e.popperClass],teleported:e.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${(0,o.SU)(y).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:P},{content:(0,i.w5)((()=>[(0,i._)("div",{ref_key:"regionRef",ref:U,class:(0,l.C_)([(0,o.SU)(y).b("suggestion"),(0,o.SU)(y).is("loading",(0,o.SU)(Y))]),style:(0,l.j5)({minWidth:T.value,outline:"none"}),role:"region"},[(0,i.Wm)((0,o.SU)(m.Mr),{id:(0,o.SU)(O),tag:"ul","wrap-class":(0,o.SU)(y).be("suggestion","wrap"),"view-class":(0,o.SU)(y).be("suggestion","list"),role:"listbox"},{default:(0,i.w5)((()=>[(0,o.SU)(Y)?((0,i.wg)(),(0,i.iD)("li",I,[(0,i.Wm)((0,o.SU)(v.gn),{class:(0,l.C_)((0,o.SU)(y).is("loading"))},{default:(0,i.w5)((()=>[(0,i.Wm)((0,o.SU)(d.gbz))])),_:1},8,["class"])])):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)(N.value,((t,a)=>((0,i.wg)(),(0,i.iD)("li",{id:`${(0,o.SU)(O)}-item-${a}`,key:a,class:(0,l.C_)({highlighted:A.value===a}),role:"option","aria-selected":A.value===a,onClick:e=>ee(t)},[(0,i.WI)(e.$slots,"default",{item:t},(()=>[(0,i.Uk)((0,l.zw)(t[e.valueKey]),1)]))],10,D)))),128))])),_:3},8,["id","wrap-class","view-class"])],6)])),default:(0,i.w5)((()=>[(0,i._)("div",{ref_key:"listboxRef",ref:x,class:(0,l.C_)([(0,o.SU)(y).b(),e.$attrs.class]),style:(0,l.j5)((0,o.SU)(W)),role:"combobox","aria-haspopup":"listbox","aria-expanded":(0,o.SU)(V),"aria-owns":(0,o.SU)(O)},[(0,i.Wm)((0,o.SU)(s.EZ),(0,i.dG)({ref_key:"inputRef",ref:b},(0,o.SU)(h),{"model-value":e.modelValue,onInput:z,onChange:L,onFocus:Z,onBlur:B,onClear:K,onKeydown:[t[0]||(t[0]=(0,r.D2)((0,r.iM)((e=>te(A.value-1)),["prevent"]),["up"])),t[1]||(t[1]=(0,r.D2)((0,r.iM)((e=>te(A.value+1)),["prevent"]),["down"])),(0,r.D2)(J,["enter"]),(0,r.D2)(G,["tab"]),(0,r.D2)(Q,["esc"])]}),(0,i.Nv)({_:2},[e.$slots.prepend?{name:"prepend",fn:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"prepend")]))}:void 0,e.$slots.append?{name:"append",fn:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"append")]))}:void 0,e.$slots.prefix?{name:"prefix",fn:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"suffix")]))}:void 0]),1040,["model-value","onKeydown"])],14,E)])),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var x=(0,b.Z)(M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]),$=a(6700);const N=(0,$.nz)(x);a(75452),a(1759),a(62984),a(26238);var A=a(61326),T=(a(35167),a(72669)),F=(a(36855),a(55788),a(99348)),H=a(94171),R=a(91525),O=a(49434);a(23662);const W=Symbol("dialogInjectionKey");var V=a(60011),Y=a(84270),P=a(44060);const j=["aria-label"],q=["id"],z={name:"ElDialogContent"},L=(0,i.aZ)({...z,props:H.q,emits:H.b,setup(e){const t=e,{t:a}=(0,R.bU)(),{Close:n}=O.NK,{dialogRef:s,headerRef:c,bodyId:u,ns:d,style:m}=(0,i.f3)(W),{focusTrapRef:p}=(0,i.f3)(V.D5),f=(0,Y.F)(p,s),h=(0,i.Fl)((()=>t.draggable));return(0,P.O)(s,c,h),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{ref:(0,o.SU)(f),class:(0,l.C_)([(0,o.SU)(d).b(),(0,o.SU)(d).is("fullscreen",e.fullscreen),(0,o.SU)(d).is("draggable",(0,o.SU)(h)),{[(0,o.SU)(d).m("center")]:e.center},e.customClass]),style:(0,l.j5)((0,o.SU)(m)),tabindex:"-1",onClick:t[1]||(t[1]=(0,r.iM)((()=>{}),["stop"]))},[(0,i._)("header",{ref_key:"headerRef",ref:c,class:(0,l.C_)((0,o.SU)(d).e("header"))},[(0,i.WI)(e.$slots,"header",{},(()=>[(0,i._)("span",{role:"heading",class:(0,l.C_)((0,o.SU)(d).e("title"))},(0,l.zw)(e.title),3)])),e.showClose?((0,i.wg)(),(0,i.iD)("button",{key:0,"aria-label":(0,o.SU)(a)("el.dialog.close"),class:(0,l.C_)((0,o.SU)(d).e("headerbtn")),type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,i.Wm)((0,o.SU)(v.gn),{class:(0,l.C_)((0,o.SU)(d).e("close"))},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)((0,i.LL)(e.closeIcon||(0,o.SU)(n))))])),_:1},8,["class"])],10,j)):(0,i.kq)("v-if",!0)],2),(0,i._)("div",{id:(0,o.SU)(u),class:(0,l.C_)((0,o.SU)(d).e("body"))},[(0,i.WI)(e.$slots,"default")],10,q),e.$slots.footer?((0,i.wg)(),(0,i.iD)("footer",{key:0,class:(0,l.C_)((0,o.SU)(d).e("footer"))},[(0,i.WI)(e.$slots,"footer")],2)):(0,i.kq)("v-if",!0)],6))}});var Z=(0,b.Z)(L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]),B=a(52300),K=a(69040),J=a(42820),Q=a(30822),G=a(71567);const X=["aria-label","aria-labelledby","aria-describedby"],ee={name:"ElDialog"},te=(0,i.aZ)({...ee,props:B.B,emits:B.A,setup(e,{expose:t}){const a=e,n=(0,i.Rr)();(0,J.A)({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},(0,i.Fl)((()=>!!n.title)));const s=(0,_.s)("dialog"),c=(0,o.iH)(),u=(0,o.iH)(),d=(0,o.iH)(),{visible:m,titleId:p,bodyId:v,style:f,rendered:h,zIndex:g,afterEnter:w,afterLeave:y,beforeLeave:b,handleClose:k,onModalClick:S,onOpenAutoFocus:C,onCloseAutoFocus:E,onCloseRequested:I}=(0,K.R)(a,c);(0,i.JJ)(W,{dialogRef:c,headerRef:u,bodyId:v,ns:s,rendered:h,style:f});const D=(0,Q.S)(S),U=(0,i.Fl)((()=>a.draggable&&!a.fullscreen));return t({visible:m,dialogContentRef:d}),(e,t)=>((0,i.wg)(),(0,i.j4)(i.lR,{to:"body",disabled:!e.appendToBody},[(0,i.Wm)(r.uT,{name:"dialog-fade",onAfterEnter:(0,o.SU)(w),onAfterLeave:(0,o.SU)(y),onBeforeLeave:(0,o.SU)(b),persisted:""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)((0,o.SU)(F.F6),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":(0,o.SU)(g)},{default:(0,i.w5)((()=>[(0,i._)("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:(0,o.SU)(p),"aria-describedby":(0,o.SU)(v),class:(0,l.C_)(`${(0,o.SU)(s).namespace.value}-overlay-dialog`),onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(D).onClick&&(0,o.SU)(D).onClick(...e)),onMousedown:t[1]||(t[1]=(...e)=>(0,o.SU)(D).onMousedown&&(0,o.SU)(D).onMousedown(...e)),onMouseup:t[2]||(t[2]=(...e)=>(0,o.SU)(D).onMouseup&&(0,o.SU)(D).onMouseup(...e))},[(0,i.Wm)((0,o.SU)(G.Z),{loop:"",trapped:(0,o.SU)(m),"focus-start-el":"container",onFocusAfterTrapped:(0,o.SU)(C),onFocusAfterReleased:(0,o.SU)(E),onReleaseRequested:(0,o.SU)(I)},{default:(0,i.w5)((()=>[(0,o.SU)(h)?((0,i.wg)(),(0,i.j4)(Z,{key:0,ref_key:"dialogContentRef",ref:d,"custom-class":e.customClass,center:e.center,"close-icon":e.closeIcon,draggable:(0,o.SU)(U),fullscreen:e.fullscreen,"show-close":e.showClose,style:(0,l.j5)((0,o.SU)(f)),title:e.title,onClose:(0,o.SU)(k)},(0,i.Nv)({header:(0,i.w5)((()=>[e.$slots.title?(0,i.WI)(e.$slots,"title",{key:1}):(0,i.WI)(e.$slots,"header",{key:0,close:(0,o.SU)(k),titleId:(0,o.SU)(p),titleClass:(0,o.SU)(s).e("title")})])),default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"footer")]))}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):(0,i.kq)("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,X)])),_:3},8,["mask","overlay-class","z-index"]),[[r.F8,(0,o.SU)(m)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var ae=(0,b.Z)(te,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ne=(0,$.nz)(ae);a(34295);var se=a(79121),ie=(a(95638),a(15116),a(93219),a(96402)),oe=(a(60492),a(29056)),le=(a(60388),a(27067));a(52672),a(30896);const re={class:"teleport-title"},ce={style:{"font-family":"genshin"}},ue=(0,i.Uk)(" 成就 "),de={style:{"text-align":"center"}},me=(0,i._)("br",null,null,-1),pe={class:"count"},ve={class:"reward"},fe=["src"],he={class:"actions"},ge={class:"a-line"},we=(0,i._)("div",{style:{"text-align":"center"}},"真的要清空吗？",-1),ye={style:{"text-align":"center",margin:"0","margin-top":"15px"}},be=(0,i.Uk)("取消"),ke=(0,i.Uk)("清空当前"),_e=(0,i.Uk)("清空全部"),Se=(0,i.Uk)(" 清空 "),Ce={class:"a-line"},Ee=(0,i.Uk)(" 导入 "),Ie={class:"dropdown"},De={class:"a-line"},Ue={key:0,class:"dropdown"},Me=(0,i.Uk)("第三方工具"),xe=(0,i.Uk)(" YaeAchievement "),$e={class:"progress"},Ne={class:"page-before"},Ae={class:"left"},Te={class:"chk"},Fe={class:"chk"},He={class:"chk"},Re={class:"value"},Oe={class:"desc"},We={class:"page-after"};function Ve(e,t,a,o,c,u){const d=p.Q0,m=le.E2,v=oe.mi,f=(0,i.up)("fa-icon"),h=ie.$t,g=(0,i.up)("export-dropdown"),w=se.Df,y=se.o2,b=se.YK,k=(0,i.up)("scanner-dialog"),_=(0,i.up)("import-dialog"),S=ne,C=(0,i.up)("achievement-detail"),E=(0,i.up)("achievement-sidebar"),I=T.BT,D=T.km,U=A.Xb,M=N,x=s.EZ,$=(0,i.up)("achievement-item"),F=(0,i.up)("DynamicScrollerItem"),H=(0,i.up)("icon-cocogoat"),R=n.os,O=(0,i.up)("DynamicScroller"),W=(0,i.up)("Layout");return(0,i.wg)(),(0,i.j4)(W,{"full-height":"",style:{background:"var(--c-background)"}},{title:(0,i.w5)((()=>[(0,i._)("div",re,[(0,i._)("span",ce,[ue,(0,i.Wm)(d,{placement:"bottom"},{content:(0,i.w5)((()=>[(0,i._)("div",de,[(0,i.Uk)(" 剩余 "+(0,l.zw)(e.totalCount-e.totalFin.count)+" 个成就 ",1),me,(0,i.Uk)(" 可获取 "+(0,l.zw)(e.totalReward-e.totalFin.reward)+" 原石 ",1)])])),default:(0,i.w5)((()=>[(0,i._)("small",{class:(0,l.C_)(e.$style.totalPercent)},[(0,i._)("div",pe,(0,l.zw)(e.totalFin.count)+" / "+(0,l.zw)(e.totalCount),1),(0,i._)("div",ve,[(0,i.Uk)((0,l.zw)(e.totalFin.reward)+" / "+(0,l.zw)(e.totalReward)+" ",1),(0,i._)("img",{src:e.img("yuanshi"),alt:"原石"},null,8,fe)])],2)])),_:1})])])])),actions:(0,i.w5)((()=>[(0,i._)("div",he,[(0,i._)("div",ge,[(0,i.Wm)(h,{visible:e.showClear,"onUpdate:visible":t[4]||(t[4]=t=>e.showClear=t),width:190,placement:e.isMobile?"left-start":"bottom"},{reference:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(v,{type:"danger",plain:"",onClick:t[3]||(t[3]=t=>e.showClear=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{icon:"trash-can"}),Se])),_:1},512),[[r.F8,!e.showScanner]])])),default:(0,i.w5)((()=>[we,(0,i._)("div",ye,[(0,i.Wm)(m,{style:{"margin-right":"15px"},onClick:t[0]||(t[0]=t=>e.showClear=!1)},{default:(0,i.w5)((()=>[be])),_:1}),(0,i.Wm)(m,{type:"danger",style:{"margin-right":"15px"},onClick:t[1]||(t[1]=t=>e.doClear(!1))},{default:(0,i.w5)((()=>[ke])),_:1}),(0,i.Wm)(v,{size:"small",type:"danger",plain:"",onClick:t[2]||(t[2]=t=>e.doClear(!0))},{default:(0,i.w5)((()=>[_e])),_:1})])])),_:1},8,["visible","placement"])]),(0,i._)("div",Ce,[(0,i.wy)((0,i.Wm)(v,{class:"import-button",onClick:t[5]||(t[5]=t=>e.showImport=!e.showImport)},{default:(0,i.w5)((()=>[Ee])),_:1},512),[[r.F8,!e.showScanner]]),(0,i.wy)((0,i._)("div",Ie,[(0,i.Wm)(g)],512),[[r.F8,!e.showScanner]])]),(0,i._)("div",De,[e.isWindows&&!e.showScanner?((0,i.wg)(),(0,i.iD)("div",Ue,[(0,i.Wm)(b,{class:"header-export-dropdown","split-button":"",onClick:t[6]||(t[6]=t=>e.showScanner=!e.showScanner)},{dropdown:(0,i.w5)((()=>[(0,i.Wm)(y,{class:"el-dropdown-menu--small"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{disabled:""},{default:(0,i.w5)((()=>[Me])),_:1}),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{href:"https://github.com/HolographicHat/YaeAchievement",target:"_blank",style:{"font-size":"12px"},underline:!1},{default:(0,i.w5)((()=>[xe])),_:1})])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i.Wm)(f,{icon:"crosshairs"}),(0,i.Uk)(" "+(0,l.zw)(e.showScanner?"退出":"")+"识别 ",1)])),_:1})])):((0,i.wg)(),(0,i.j4)(v,{key:1,size:"default",type:"primary",plain:!e.showScanner,onClick:t[7]||(t[7]=t=>e.showScanner=!e.showScanner)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{icon:"crosshairs"}),(0,i.Uk)(" "+(0,l.zw)(e.showScanner?"退出":"")+"识别 ",1)])),_:1},8,["plain"]))])])])),default:(0,i.w5)((()=>{var a;return[(0,i.Wm)(k,{showScanner:e.showScanner,"onUpdate:showScanner":t[8]||(t[8]=t=>e.showScanner=t)},null,8,["showScanner"]),(0,i.Wm)(S,{modelValue:e.showImport,"onUpdate:modelValue":t[9]||(t[9]=t=>e.showImport=t),title:"导入","custom-class":e.$style.importDialog,"destroy-on-close":""},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{"memo-id":e.autoImportId,onClose:e.closeImport},null,8,["memo-id","onClose"])])),_:1},8,["modelValue","custom-class"]),(0,i.Wm)(C,{achievement:e.detail,onClose:t[10]||(t[10]=t=>e.detail=void 0)},null,8,["achievement"]),(0,i._)("section",{class:(0,l.C_)(e.$style.achievementView)},[(0,i._)("div",$e,[(0,i._)("div",{class:"progress-in",style:(0,l.j5)({width:((null===(a=e.achievementFinStat[e.currentCat.id||0])||void 0===a?void 0:a.count)||0)/e.currentCat.achievements.length*100+"%"})},null,4)]),(0,i.Wm)(E,{achievementCat:e.achievementCat,achievementFinStat:e.achievementFinStat,hideFinished:e.hideFinished},null,8,["achievementCat","achievementFinStat","hideFinished"]),(0,i._)("article",null,[(0,i.Wm)(O,{ref:"scroll",class:"scroller","emit-update":e.searchTo,items:e.currentAch,"min-item-size":80,"custom-scrollbar":e.CustomElScrollVue,onUpdate:e.onScrollUpdate},{before:(0,i.w5)((()=>[(0,i._)("div",Ne,[(0,i._)("div",Ae,[(0,i.Wm)(D,{modelValue:e.statusVersion,"onUpdate:modelValue":t[11]||(t[11]=t=>e.statusVersion=t),class:"status-version",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"所有版本"},{default:(0,i.w5)((()=>[e.publishedInfo.hasUnpublishedVersion?((0,i.wg)(),(0,i.j4)(I,{key:0,value:999,onClickCapture:(0,r.iM)(e.clickUnpublishedVersion,["prevent","stop"])},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(999===e.publishedInfo.latestPublishedVersion?"隐藏":"显示")+"未发布版本 ",1)])),_:1},8,["onClickCapture"])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.allVersions,(t=>((0,i.wg)(),(0,i.iD)(i.HY,null,[t<=e.publishedInfo.latestPublishedVersion?((0,i.wg)(),(0,i.j4)(I,{key:t,value:t,label:0===t?"BETA":t.toFixed(1)},null,8,["value","label"])):(0,i.kq)("",!0)],64)))),256))])),_:1},8,["modelValue"]),(0,i.Wm)(D,{modelValue:e.statusQuest,"onUpdate:modelValue":t[12]||(t[12]=t=>e.statusQuest=t),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",class:"status-quest",placeholder:"所有类型"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{value:"WQ",label:"世界任务"}),(0,i.Wm)(I,{value:"IQ",label:"每日委托"}),(0,i.Wm)(I,{value:"AQ",label:"魔神任务"})])),_:1},8,["modelValue"]),(0,i._)("div",Te,[(0,i.Wm)(U,{modelValue:e.sortByStatus,"onUpdate:modelValue":t[13]||(t[13]=t=>e.sortByStatus=t),label:"未完成优先",size:"large"},null,8,["modelValue"])]),(0,i._)("div",Fe,[(0,i.Wm)(U,{modelValue:e.hideFinished,"onUpdate:modelValue":t[14]||(t[14]=t=>e.hideFinished=t),label:"隐藏已完成",size:"large"},null,8,["modelValue"])]),(0,i._)("div",He,[(0,i.Wm)(U,{modelValue:e.selectAllCat,"onUpdate:modelValue":t[15]||(t[15]=t=>e.selectAllCat=t),label:"全选本页",size:"large",onChange:t[16]||(t[16]=t=>e.checkAllCat(t))},null,8,["modelValue"])])]),(0,i._)("div",{class:(0,l.C_)(["right",{[e.$style.searchToWrap]:e.searchTo&&e.searchHidden&&e.searchKw}])},[e.searchTo?((0,i.wg)(),(0,i.j4)(M,{key:0,modelValue:e.searchKw,"onUpdate:modelValue":t[18]||(t[18]=t=>e.searchKw=t),clearable:"",fetchSuggestions:e.searchToList,"trigger-on-focus":!1,class:"search-box",placeholder:"输入成就名字、描述或 ID，定位成就"},{default:(0,i.w5)((({item:t})=>[(0,i._)("div",{class:(0,l.C_)(e.$style.searchToDesc)},[(0,i._)("div",Re,(0,l.zw)(t.value),1),(0,i._)("small",Oe,(0,l.zw)(t.desc),1)],2)])),prefix:(0,i.w5)((()=>[(0,i._)("a",{class:"fa-icon",title:"切换到筛选",style:{cursor:"pointer"},onClick:t[17]||(t[17]=t=>e.searchTo=!e.searchTo)},[(0,i.Wm)(f,{icon:"filter"})])])),_:1},8,["modelValue","fetchSuggestions"])):(0,i.kq)("",!0),e.searchTo?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(x,{key:1,modelValue:e.searchKw,"onUpdate:modelValue":t[20]||(t[20]=t=>e.searchKw=t),clearable:"",class:"search-box",placeholder:"搜索成就名字、描述或 ID"},{prefix:(0,i.w5)((()=>[(0,i._)("a",{class:"fa-icon",title:"切换到定位",style:{cursor:"pointer"},onClick:t[19]||(t[19]=t=>e.searchTo=!e.searchTo)},[(0,i.Wm)(f,{icon:"search"})])])),_:1},8,["modelValue"]))],2)])])),default:(0,i.w5)((({item:t,active:a})=>[(0,i.Wm)(F,{item:t,active:a,"size-dependencies":[t.preStage,t.postStage,(e.achPartialAmos[t.id]||[]).length]},{default:(0,i.w5)((()=>[(0,i.Wm)($,{i:t,fin:e.achievementFin[t.id],preFin:e.achievementFin[t.preStage],contributed:e.contributed,partial:e.achPartialAmos[t.id]||[],onCheck:a=>e.updateFinished(t.id),onInputDate:a=>e.achievementFin[t.id].timestamp=a,onInputCurrent:a=>e.updateCurrent(t.id,Number(a)),onInputPartial:a=>e.updatePartial(t.id,a[0],a[1]),onClickTitle:a=>e.detail=t},null,8,["i","fin","preFin","contributed","partial","onCheck","onInputDate","onInputCurrent","onInputPartial","onClickTitle"])])),_:2},1032,["item","active","size-dependencies"])])),after:(0,i.w5)((()=>[(0,i._)("div",We,[(0,i.Wm)(R,null,{default:(0,i.w5)((()=>[(0,i.Wm)(H)])),_:1})])])),_:1},8,["emit-update","items","custom-scrollbar","onUpdate"])])],2)]})),_:1})}a(16329),a(65946),a(25766);var Ye=a(92066),Pe=a(63294),je=a(14737),qe=a(2150),ze=a(44459),Le=a(2849),Ze=a(84876),Be=a(42053),Ke=a(3146),Je=a(99113),Qe=a(11999),Ge=a(30824),Xe=a(49847),et=(a(77253),a(97442));const tt={};async function at(e){const t=await(0,et.HU)(`/contributed/${e}/achievements-link.json`);return await fetch(t)}function nt(){const e="zh-cn",t=(0,o.iH)({});return tt[Je.YM.value.lang]?(t.value=tt[Je.YM.value.lang],t):(at(Je.YM.value.lang).then((async e=>{if(!e.ok)throw new Error("Status code not OK");{const a=await e.json();tt[Je.YM.value.lang]=a,t.value=a}})).catch((a=>{console.error(`Fetch contributed achievements for ${Je.YM.value.lang} failed`,a),Je.YM.value.lang!==e&&at(e).then((async e=>{if(!e.ok)throw new Error("Status code not OK");{const a=await e.json();t.value=a}})).catch((e=>{console.error("Fetch contributed achievements for fallback failed",e)}))})),t)}const st={class:"detail"},it={class:"check"},ot={key:0,class:"check-disabled",title:"上一阶段未达成"},lt={class:"middle"},rt={class:"name"},ct=["src"],ut={class:"number"},dt={class:"version"},mt=["href"],pt={key:0,class:"right"},vt={class:"status"},ft={class:"status-out"},ht=["value"],gt=(0,i._)("div",{class:"sep"},"/",-1),wt={class:"total"},yt={class:"status-in"},bt={class:"total"},kt=(0,i._)("div",{class:"sep"},"/",-1),_t={class:"total"},St={key:0,class:"date"},Ct={class:"date-out"},Et=["value"],It={class:"date-in placeholder"},Dt={class:"partial"},Ut={class:"partial-badge"},Mt={class:"date"};function xt(e,t,a,n,s,o){const c=(0,i.up)("fa-icon"),u=A.Xb;return(0,i.wg)(),(0,i.iD)("section",{class:(0,l.C_)({sub:e.i.preStage,[e.$style.achievementItem]:1})},[(0,i._)("div",{class:(0,l.C_)(["single",{"no-contrib":!e.contributed[e.i.id]}])},[(0,i.wy)((0,i._)("div",{class:(0,l.C_)(["badge",e.questType?e.questType[1]:""])},[(0,i._)("span",null,(0,l.zw)(e.questType?e.questType[0]:""),1)],2),[[r.F8,e.questType]]),(0,i._)("div",st,[(0,i._)("div",it,[e.i.preStage&&!e.preFin?((0,i.wg)(),(0,i.iD)("a",ot)):(0,i.kq)("",!0),(0,i._)("div",{class:(0,l.C_)(["check-circle",{checked:e.isFin}]),onClick:t[0]||(t[0]=t=>e.$emit("check"))},[!e.i.preStage||e.preFin?((0,i.wg)(),(0,i.j4)(c,{key:0,icon:"check"})):((0,i.wg)(),(0,i.j4)(c,{key:1,icon:"ellipsis"}))],2)]),(0,i._)("div",lt,[(0,i._)("div",rt,[(0,i._)("div",{class:(0,l.C_)(["award",{checked:e.isFin}])},[(0,i._)("img",{src:e.img("yuanshi"),alt:"原石"},null,8,ct),(0,i._)("span",ut,(0,l.zw)(e.i.reward),1)],2),(0,i._)("div",{class:"ntxt",onClick:t[1]||(t[1]=t=>e.$emit("click-title"))},[(0,i.Uk)((0,l.zw)(e.amos[e.i.name])+" ",1),(0,i._)("sup",dt,(0,l.zw)(e.version),1)])]),(0,i._)("small",null,[(0,i._)("a",{href:e.contributed[e.i.id]?e.contributed[e.i.id]:e.searchMys(e.i),target:"_blank",class:"contributed",rel:"noopener nofollow"},[(0,i.Wm)(c,{icon:"arrow-up-right-from-square"}),(0,i.Uk)(" "+(0,l.zw)(e.contributed[e.i.id]?"攻略":"搜索"),1)],8,mt),(0,i.Uk)(" "+(0,l.zw)(e.amos[e.i.desc].replace("{param0}",e.i.total.toString())),1)])]),e.fin?((0,i.wg)(),(0,i.iD)("div",pt,[(0,i._)("div",vt,[(0,i._)("div",ft,[(0,i._)("input",{value:e.fin.current,type:"text",onInput:t[2]||(t[2]=t=>e.$emit("input-current",null===t||void 0===t?void 0:t.target.value))},null,40,ht),gt,(0,i._)("div",wt,(0,l.zw)(e.i.total),1)]),(0,i._)("div",yt,[(0,i._)("div",bt,(0,l.zw)(e.fin.current),1),kt,(0,i._)("div",_t,(0,l.zw)(e.i.total),1)])]),e.isFin?((0,i.wg)(),(0,i.iD)("div",St,[(0,i._)("div",Ct,[(0,i._)("input",{value:e.formatDate(e.fin.timestamp),type:"text",onBlur:t[3]||(t[3]=t=>e.updateDate(null===t||void 0===t?void 0:t.target.value)),onKeyup:t[4]||(t[4]=(0,r.D2)((t=>e.updateDate(null===t||void 0===t?void 0:t.target.value)),["enter"]))},null,40,Et)]),(0,i._)("div",It,(0,l.zw)(e.formatDate(e.fin.timestamp)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("div",Dt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.partial,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id,class:(0,l.C_)(["partial-item",e.partialClassMap[t.type]||t.type])},[(0,i.Wm)(u,{"model-value":e.fin&&e.fin.partial[t.id]>0,"onUpdate:modelValue":a=>e.$emit("input-partial",[t.id,a])},{default:(0,i.w5)((()=>[(0,i._)("span",Ut,(0,l.zw)(e.partialTypeMap[t.type]||t.type),1),(0,i.Uk)(" "+(0,l.zw)(e.getPartialName(t.name)),1)])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,i._)("span",Mt,(0,l.zw)(e.getPartialDate(e.fin,t.id)),1)],2)))),128))],512),[[r.F8,e.partial.length>0]])],2)],2)}var $t=a(45262);function Nt(e,t,a,n){var s=e.length,i=a+(n?1:-1);while(n?i--:++i<s)if(t(e[i],i,e))return i;return-1}var At=Nt;function Tt(e){return e!==e}var Ft=Tt;function Ht(e,t,a){var n=a-1,s=e.length;while(++n<s)if(e[n]===t)return n;return-1}var Rt=Ht;function Ot(e,t,a){return t===t?Rt(e,t,a):At(e,Ft,a)}var Wt=Ot;function Vt(e,t){var a=null==e?0:e.length;return!!a&&Wt(e,t,0)>-1}var Yt=Vt;function Pt(e,t,a){var n=-1,s=null==e?0:e.length;while(++n<s)if(a(t,e[n]))return!0;return!1}var jt=Pt,qt=a(89507),zt=a(27433);function Lt(){}var Zt=Lt,Bt=a(95406),Kt=1/0,Jt=zt.Z&&1/(0,Bt.Z)(new zt.Z([,-0]))[1]==Kt?function(e){return new zt.Z(e)}:Zt,Qt=Jt,Gt=200;function Xt(e,t,a){var n=-1,s=Yt,i=e.length,o=!0,l=[],r=l;if(a)o=!1,s=jt;else if(i>=Gt){var c=t?null:Qt(e);if(c)return(0,Bt.Z)(c);o=!1,s=qt.Z,r=new $t.Z}else r=t?[]:l;e:while(++n<i){var u=e[n],d=t?t(u):u;if(u=a||0!==u?u:0,o&&d===d){var m=r.length;while(m--)if(r[m]===d)continue e;t&&r.push(d),l.push(u)}else s(r,d,a)||(r!==l&&r.push(d),l.push(u))}return l}var ea=Xt;function ta(e){return e&&e.length?ea(e):[]}var aa=ta;const na={80001:1,80002:1,80003:1,80004:1,80005:1,80006:1,80007:1,80008:1,80009:1,80010:1,80011:1,80012:1,80013:1,80014:1,80015:1,80016:1,80017:1,80018:1,80019:1,80020:1,80021:1,80022:1,80023:1,80024:1,80025:1,80026:1,80027:1,80028:1,80029:1,80030:1,80031:1,80032:1,80033:1,80034:1,80035:1,80036:1,80037:1,80038:1,80039:1,80040:1,80041:1,80042:1,80043:1,80044:1,80045:1,80046:1,80047:1,80048:1,80049:1,80050:1,80051:1,80052:1,80053:1,80054:1,80055:1,81e3:1,81001:1,81002:1,81003:1,81004:1,81005:1,81010:1,81014:1,81015:1,81016:1,81017:1,81018:1,81019:1,81020:1,81021:1,81022:1,81023:1,81026:1.1,81027:1.1,81028:1.1,81029:1.1,81030:1.1,81031:1.1,81032:1.1,81033:1.2,81034:1.2,81035:1.2,81036:1.2,81037:1.2,81038:1.2,81039:1.2,81040:1.2,81041:1.2,81042:1.2,81043:1.2,81044:1.2,81045:1.2,81046:1.2,82001:1,82002:1,82003:1,82004:1,82005:1,82006:1,82007:1,82008:1,82009:1,82010:1,82012:1,82013:1,82014:1,82015:1,82017:1,82019:1,82020:1,82021:1,82022:1,82023:1,82024:1,82025:1,82026:1,82027:1,82028:1,82029:1,82030:1,82031:1,82032:1,82033:1,82034:1,82035:1,82036:1,82037:1,82038:1,82039:1,82040:1,82041:1,82042:1,82043:1,82044:1,82045:1,82046:1,82047:1,82048:1,82049:1,82050:1,82051:1,82052:1,82063:1.1,82064:1.1,82065:1.1,84e3:1,84001:1,84002:1,84003:1,84004:1,84005:1,84006:1,84007:1,84008:1,84009:1,84010:1,84011:1,84012:1,84013:1,84014:1,84015:1,84016:1,84017:1,84501:1,84502:1,84503:1,84504:1,84505:1,84506:1,84507:1,84508:1,84509:1,84510:1,84512:1,84513:1,84514:1,84515:1,84516:1,84518:1,84519:1,84520:1,84522:1,84523:1,84524:1,84525:1,84526:1,84527:1,85e3:1,85001:1,85002:1,85003:1,85004:1,85005:1,85006:1,86001:1,86002:1,86003:1,86004:1,86005:1,86006:1,86007:1,86008:1,86009:1,86010:1,86011:1,86012:1,86013:1,81024:1.1,81025:1.1,82053:1.1,82054:1.1,82055:1.1,82056:1.1,82057:1.1,82058:1.1,82059:1.1,82060:1.1,82061:1.1,82062:1.1,84018:1.1,84019:1.1,84020:1.1,84021:1.1,84022:1.1,84023:1.1,84024:1.1,80056:1.2,80057:1.2,80058:1.2,80059:1.2,80060:1.2,80061:1.2,80062:1.2,80063:1.2,80064:1.2,80065:1.2,80066:1.2,80067:1.2,80068:1.2,82066:1.2,82067:1.2,82068:1.2,82069:1.2,82070:1.2,82071:1.2,82072:1.2,82073:1.2,81047:1.3,82074:1.3,82075:1.4,82076:1.3,82077:1.3,82078:1.3,82079:1.3,82080:1.3,82081:1.3,82082:1.3,82083:1.3,82084:1.3,82085:1.3,82086:1.3,82087:1.3,84025:1.3,81048:1.4,84026:1.4,84028:1.4,84029:1.4,84030:1.4,84031:1.4,84032:1.4,84033:1.4,84100:1.4,84101:1.4,84102:1.4,84103:1.4,84104:1.4,84105:1.4,84106:1.4,84107:1.4,84108:1.4,84109:1.4,81049:1.5,81050:1.5,81051:1.5,81052:1.5,81053:1.5,81054:1.5,81055:1.5,81056:1.5,81057:1.5,81058:1.5,81059:1.5,81060:1.5,81061:1.5,81062:1.5,81063:1.5,81064:1.5,81065:1.5,81066:1.5,81067:1.5,81068:1.5,81069:1.5,81070:1.5,81071:1.5,81072:1.5,81073:1.5,82088:1.5,82089:1.5,82090:1.5,84110:1.5,84111:1.5,84112:1.5,84113:1.5,84114:1.5,84115:1.5,81074:1.6,81075:1.6,81076:1.6,81077:1.6,81078:1.6,81079:1.6,81080:1.6,81081:1.6,81082:1.6,81083:1.6,81084:1.6,81085:1.6,84034:1.6,84035:1.6,84036:1.6,80069:2,80070:2,80071:2,80072:2,80073:2,80074:2,80075:2,80076:2,80077:2,80078:2,80079:2,80080:2,80081:2,80082:2,80083:2,80084:2,80085:2,80086:2,80087:2,80088:2,80089:2,80090:2,80091:2,80092:2,80093:2,80094:2,80095:2,81086:2,81087:2,81088:2,81089:2,81090:2,81091:2,81092:2,81093:2,81094:2,81095:2,81096:2,81097:2,81098:2,81099:2,81100:2,81104:2,81105:2.4,81106:2,81108:2,81109:2,81111:2,81112:2,81113:2,81114:2,81115:2,81116:2,81117:2,81118:2,81119:2,81120:2,81121:2,81122:2,81123:2,81124:2,81125:2,81130:2,82091:2,82092:2,82093:2,82094:2,82095:2,82096:2,82097:2,82098:2,82099:2,82100:2,82101:2,82102:2,82103:2,82104:2,82105:2,82106:2,82107:2,82108:2,82109:2,84037:2,84038:2,84039:2,84040:2,84041:2,84042:2,84043:2,84528:2,84529:2,84530:2,84531:2,84532:2,84533:2,84534:2,84535:2,84536:2,84537:2,84538:2,84539:2,84540:2,86015:2,86016:2,86017:2,86018:2,86019:2,86020:2,80096:2.1,80097:2.1,80098:2.1,80099:2.1,80100:2.1,80101:2.1,80102:2.1,80105:2.1,80106:2.1,80107:2.1,80108:2.1,80109:2.1,80110:2.1,80111:2.1,80112:2.1,81131:2.1,81132:2.1,81133:2.1,81134:2.1,81135:2.1,81136:2.1,81137:2.1,81138:2.1,81139:2.1,81140:2.1,81141:2.1,81142:2.1,81143:2.1,81144:2.1,81150:2.1,81151:2.1,81152:2.1,81153:2.1,81154:2.1,81155:2.1,81156:2.1,81157:2.1,81158:2.1,81159:2.1,81160:2.1,81161:2.1,81162:2.1,81163:2.1,81164:2.1,81165:2.1,82110:2.1,82111:2.1,82112:2.1,82113:2.1,82114:2.1,84044:2,84045:2,84046:2,84047:2.1,84048:2.1,84049:2.1,84050:2.1,84051:2.1,84052:2.1,84541:2.1,84542:2.1,86021:2,80113:2.2,80114:2.2,80115:2.2,80116:2.2,80119:2.2,80120:2.2,80121:2.2,80122:2.2,80123:2.2,80124:2.2,80125:2.2,80126:2.2,81167:2.2,81168:2.2,81170:2.2,81171:2.2,81172:2.2,81173:2.2,81174:2.2,81175:2.2,81176:2.2,81177:2.2,81179:2.2,81180:2.2,81181:2.2,84116:2.2,84117:2.2,84118:2.2,84119:2.2,84120:2.2,84121:2.2,80127:2.3,80128:2.3,80129:2.3,81182:2.3,81183:2.3,84122:2.3,84123:2.3,84124:2.3,84125:2.3,84126:2.3,84127:2.3,80130:2.4,80131:2.4,80132:2.4,80133:2.4,80134:2.4,80135:2.4,80136:2.4,80137:2.4,80138:2.4,80139:2.4,80140:2.4,80141:2.4,81184:2.4,81185:2.4,81186:2.4,81187:2.4,81188:2.4,81189:2.4,81191:2.4,81192:2.4,81193:2.4,81194:2.4,81195:2.4,81196:2.4,81197:2.4,81198:2.4,84053:2.4,84054:2.4,84055:2.4,84056:2.4,84057:2.4,84058:2.4,84059:2.4,84128:2.4,84129:2.4,84130:2.4,84131:2.4,84132:2.4,84133:2.4,82121:2.5,82122:2.5,82123:2.5,82124:2.5,82125:2.5,80142:2.6,80143:2.6,80144:2.6,80145:2.6,80146:2.6,80147:2.6,80148:2.6,80149:2.6,80150:2.6,80151:2.6,80152:2.6,80153:2.6,80154:2.6,80155:2.6,80156:2.6,80157:2.6,80158:2.6,80159:2.6,81199:2.6,81200:2.6,81201:2.6,81202:2.6,81203:2.6,81204:2.6,81205:2.6,81206:2.6,81207:2.6,81208:2.6,81209:2.6,81210:2.6,81211:2.6,81212:2.6,81213:2.6,81214:2.6,81215:2.6,81216:2.6,81217:2.6,81218:2.6,81220:2.6,81221:2.6,81222:2.6,82115:2.6,82116:2.6,82117:2.6,82118:2.6,82119:2.6,82120:2.6,82126:2.6,82127:2.6,82128:2.6,84060:2.6,84061:2.6,84062:2.6,84063:2.6,84064:2.7,84065:2.7,84066:2.7,84134:2.7,84135:2.7,84136:2.7,84137:2.8,84138:2.8,84139:2.8,80160:3,80161:3,80162:3,80163:3,80164:3,80165:3,80166:3,80167:3,80168:3,80169:3,80170:3,80171:3,80172:3,80173:3,80174:3,80175:3,80176:3,80177:3,80178:3,86022:3,86023:3,86024:3,86025:3,86026:3,86027:3,86028:3,86029:3,81236:3,81235:3,81234:3,81233:3,81232:3,81231:3,81230:3,81229:3,81228:3,81227:3,81226:3,81225:3,81224:3,81223:3,81237:3,81238:3,81239:3,81240:3,81241:3,81242:3,81243:3,81245:3,81244:3,81246:3,81247:3,81248:3,81249:3,81250:3,81251:3,81252:3,81253:3,81254:3,81255:3,81256:3,81258:3,81257:3,81259:3,81260:3,81262:3,81261:3,81263:3,82129:3,82130:3,82132:3,82131:3,82133:3,84543:3,84544:3,84546:3,84545:3,84547:3,84548:3,84550:3,84549:3,84551:3,84552:3,84553:3,84554:3,84555:3,84556:3,84557:3,84558:3,84559:3,84560:3,84067:3,84068:3,84069:3,84071:3,84070:3,84072:3,84073:3,84074:3,80179:3.1,80180:3.1,80181:3.1,80182:3.1,80183:3.1,80184:3.1,80185:3.1,80186:3.1,80187:3.1,80188:3.1,80189:3.1,80190:3.1,80191:3.1,81264:3.1,81265:3.1,81266:3.1,81267:3.1,81268:3.1,81269:3.1,81270:3.1,81271:3.1,81272:3.1,81273:3.1,81274:3.1,81275:3.1,81276:3.1,81277:3.1,81278:3.1,81280:3.1,81281:3.1,81282:3.1,81283:3.1,81284:3.1,81285:3.1,81286:3.1,81288:3.1,81289:3.1,81290:3.1,82142:3.1,82143:3.1,82144:3.1,82145:3.1,84075:3.1,84076:3.1,84077:3.1,84078:3.1,84079:3.1,84080:3.1,84081:3.1,84561:3.1,84562:3.1,84563:3.1,82134:3.1,82135:3.1,82136:3.1,82137:3.1,82138:3.1,82139:3.1,82140:3.1,82141:3.1,82146:3.1,82147:3.1,82148:3.1,82149:3.1,82150:3.1,82151:3.1,82159:3.1,82155:3.2,82156:3.2,82157:3.2,82158:3.2,84082:3.2,84083:3.2,84084:3.2,84085:3.2,84086:3.2,80192:3.3,80193:3.3,80197:3.3,80198:3.3,80199:3.3,80203:3.3,80204:3.3,80205:3.3,80206:3.3,80207:3.3,80208:3.3,80209:3.3,80210:3.3,80211:3.3,80212:3.3,80213:3.3,80214:3.3,80215:3.3,80216:3.3,80217:3.3,80218:3.3,80219:3.3,80220:3.3,80221:3.3,80222:3.3,80223:3.3,84087:3.3,84088:3.3,84089:3.3,84090:3.3,84091:3.3,84564:3.3,84565:3.3,80224:3.4,80225:3.4,80226:3.4,80227:3.4,80228:3.4,80229:3.4,80230:3.4,80231:3.4,80232:3.4,80233:3.4,80234:3.4,80235:3.4,80236:3.4,81291:3.4,81292:3.4,81293:3.4,81295:3.4,81296:3.4,81297:3.4,81298:3.4,81299:3.4,81300:3.4,81301:3.4,81302:3.4,81303:3.4,81304:3.4,81306:3.4,81307:3.4,81308:3.4,81309:3.4,81310:3.4,81311:3.4,81312:3.4,81313:3.4,82160:3.4,84092:3.5,84093:3.5,84094:3.5,84095:3.5,84140:3.5,84141:3.5,84142:3.5,80237:3.6,80238:3.6,80239:3.6,80240:3.6,80241:3.6,80242:3.6,80243:3.6,80244:3.6,80245:3.6,80246:3.6,80247:3.6,80248:3.6,80249:3.6,80250:3.6,81314:3.6,81315:3.6,81316:3.6,81317:3.6,81318:3.6,81319:3.6,81320:3.6,81321:3.6,81322:3.6,81323:3.6,81324:3.6,81325:3.6,81326:3.6,81327:3.6,81328:3.6,81329:3.6,81331:3.6,81332:3.6,81333:3.6,81334:3.6,81335:3.6,81336:3.6,81337:3.6,81338:3.6,81339:3.6,82161:3.6,82162:3.6,82163:3.6,82164:3.6,82165:3.6,82166:3.6,82167:3.6,82168:3.6,82169:3.6,84143:3.6,84144:3.6,84145:3.6,84146:3.7,84147:3.7,84148:3.7,84149:3.8,84150:3.8,84151:3.8,80252:4,80253:4,80254:4,80255:4,80256:4,80257:4,80258:4,80259:4,80260:4,80261:4,80262:4,80263:4,80264:4,80265:4,80266:4,80267:4,80268:4,80269:4,80270:4,80271:4,81340:4,81341:4,81342:4,81344:4,81345:4,81346:4,81347:4,81348:4,81349:4,81350:4,81351:4,81352:4,81353:4,81355:4,81356:4,81357:4,81358:4,81359:4,81360:4,81361:4,81362:4,81363:4,81364:4,81365:4,81366:4,81367:4,81368:4,81369:4,81370:4,81371:4,81372:4,81373:4,81374:4,82175:4,82176:4,82177:4,82178:4,82179:4,82180:4,84096:4,84097:4,84098:4,84099:4,84300:4,84301:4,84302:4,84303:4,84566:4,84567:4,84568:4,84569:4,84570:4,86030:4,86031:4,86032:4,86033:4,86034:4,86035:4,86036:4,86037:4,86038:4,81375:4.1,81376:4.1,81377:4.1,81378:4.1,81379:4.1,81380:4.1,81381:4.1,81382:4.1,81383:4.1,81384:4.1,81385:4.1,81386:4.1,81387:4.1,81388:4.1,81389:4.1,81390:4.1,81392:4.1,81391:4.1,81395:4.1,81393:4.1,81404:4.1,81403:4.1,81399:4.1,81398:4.1,81396:4.1,81401:4.1,81400:4.1,81402:4.1,81405:4.1,84304:4.1,84571:4.1,84311:4.1,84310:4.1,84309:4.1,84308:4.1,84307:4.1,84306:4.1,84305:4.1,80284:4.1,80282:4.1,80281:4.1,80280:4.1,80279:4.1,80278:4.1,80277:4.1,80283:4.1,80276:4.1,80275:4.1,80274:4.1,80273:4.1,80272:4.1,80285:4.1,82186:4.1,82185:4.1,82184:4.1,82183:4.1,82182:4.1,82181:4.1,81406:4.2,81407:4.2,81408:4.2,81409:4.2,81411:4.2,81414:4.2,81415:4.2,81416:4.2,81417:4.2,81418:4.2,81419:4.2,81422:4.2,81423:4.2,81424:4.2,81426:4.2,81425:4.2,81427:4.2,81428:4.2,81430:4.2,81429:4.2,81431:4.2,81434:4.2,81433:4.2,81432:4.2,81436:4.2,81435:4.2,84312:4.2,82188:4.2,82187:4.2,84315:4.2,84314:4.2,84313:4.2,84316:4.2,80299:4.2,80298:4.2,80297:4.2,80296:4.2,80295:4.2,80294:4.2,80293:4.2,80292:4.2,80291:4.2,80290:4.2,80289:4.2,80288:4.2,80287:4.2,80286:4.2,81437:4.3,81438:4.4,81439:4.4,81440:4.4,81441:4.4,81442:4.4,81443:4.4,81444:4.4,81445:4.4,81446:4.4,81448:4.4,81447:4.4,81449:4.4,81450:4.4,81452:4.4,81454:4.4,81455:4.4,81458:4.4,81457:4.4,81459:4.4,81461:4.4,81460:4.4,81463:4.4,81462:4.4,81465:4.4,81467:4.4,81466:4.4,81468:4.4,81470:4.4,81469:4.4,81471:4.4,84572:4.4,82189:4.4,84573:4.4,80307:4.4,80306:4.4,80305:4.4,80304:4.4,80303:4.4,80302:4.4,80301:4.4,80300:4.4,80308:4.4,80310:4.4,80309:4.4,80312:4.4,80311:4.4,84152:4.5,84153:4.5,84154:4.5,81472:4.6,81473:4.6,81474:4.6,81475:4.6,81476:4.6,81477:4.6,81478:4.6,81479:4.6,81480:4.6,81481:4.6,81482:4.6,81483:4.6,81484:4.6,81485:4.6,81487:4.6,82190:4.6,82191:4.6,82192:4.6,84574:4.6,82199:4.6,82197:4.6,82196:4.6,82195:4.6,82194:4.6,82193:4.6,80327:4.6,80326:4.6,80325:4.6,80324:4.6,80323:4.6,80322:4.6,80321:4.6,80320:4.6,80317:4.6,80316:4.6,80315:4.6,80314:4.6,80313:4.6},sa={4.6:new Date("2024-04-24"),4.5:new Date("2024-03-13"),4.4:new Date("2024-01-31"),4.3:new Date("2023-12-20"),4.2:new Date("2023-11-08"),4.1:new Date("2023-09-27"),4:new Date("2023-08-16"),3.8:new Date("2023-07-05"),3.7:new Date("2023-05-24"),3.6:new Date("2023-04-12"),3.5:new Date("2023-03-01"),3.4:new Date("2023-01-18"),3.3:new Date("2022-12-07"),3.2:new Date("2022-11-02"),3.1:new Date("2022-09-28"),3:new Date("2022-08-24"),2.8:new Date("2022-07-13"),2.7:new Date("2022-05-31"),2.6:new Date("2022-03-30")};var ia=na;const oa=aa(Object.values(na)).sort(((e,t)=>t-e));var la=a(5461),ra=a.n(la);Ze.vI.add(Le.wlW);var ca=(0,i.aZ)({props:{i:{type:Object,required:!0},fin:{type:Object,required:!1},preFin:{type:Object,required:!1},contributed:{type:Object,required:!0},partial:{type:Array,required:!0}},emits:["input-date","input-current","input-partial","check","click-title"],setup(e,{emit:t}){const a={WQ:"任务",IQ:"委托",AQ:"魔神",LQ:"邀约"},n=e=>`https://www.miyoushe.com/ys/search?keyword=${encodeURIComponent(Ke.ag.amos[e.name])}`;return{img:ze.ZP,searchMys:n,amos:(0,o.Vh)(Ke.ag,"amos"),questType:(0,i.Fl)((()=>!!(e.i.trigger&&e.i.trigger.task&&e.i.trigger.task.length>0)&&(!!a[e.i.trigger.task[0].type]&&[a[e.i.trigger.task[0].type],e.i.trigger.task[0].type]))),isFin:(0,i.Fl)((()=>e.fin&&e.fin.status>Qe.RC.ACHIEVEMENT_UNFINISHED)),version:(0,i.Fl)((()=>ia[e.i.id]?ia[e.i.id].toFixed(1)||"":(console.log(e.i.id,"has no version"),"BETA"))),formatDate(e){try{const t=new Date(1e3*e);return 0===t.getTime()?"":t.getHours()||t.getMinutes()||t.getSeconds()?ra()(t).format("YYYY/MM/DD HH:mm:ss"):ra()(t).format("YYYY/MM/DD")}catch(t){return""}},updateDate(e){const a=e.trim();if(""!==a)try{const e=new Date(a);a.includes(":")||8!==e.getHours()||0!==e.getMinutes()||0!==e.getSeconds()||e.setHours(0),t("input-date",Math.floor(e.getTime()/1e3))}catch(n){}else t("input-date",0)},partialTypeMap:{quest:"任务",subquest:"任务",task:"委托",subtask:"委托",achievement:"成就"},partialClassMap:{quest:"WQ",subquest:"WQ",task:"IQ",subtask:"IQ",achievement:"AC"},getPartialDate(e,t){if(!e)return"";const a=e.partial[t];return a?ra()(1e3*a).format("YYYY/MM/DD HH:mm:ss"):""},getPartialName(e){const t=e.map((e=>"number"===typeof e?Ke.ag.amos[e]||e.toString():e));return t.forEach(((e,a)=>{if(0===e.indexOf("/")){const n=new RegExp(e.split("/")[1],e.split("/")[2]);t[a]="";const s=t[a-1].match(n);s&&s[1]&&(t[a-1]=s[1])}})),t.join("")}}}}),ua={achievementItem:"achievement-item-e576d9"},da=a(14545);const ma={};ma["$style"]=ua;const pa=(0,da.Z)(ca,[["render",xt],["__cssModules",ma]]);var va=pa;a(94775);const fa={class:"sidebar-in"},ha=["src"],ga={key:0,class:"lr"};function wa(e,t,a,n,s,o){const r=(0,i.up)("router-link"),c=m.Mr,u=(0,i.up)("fa-icon");return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(e.$style.sidebar)},[(0,i.Wm)(c,{ref:"scrollbarRef",class:"sidebar-scroll"},{default:(0,i.w5)((()=>[(0,i._)("div",fa,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.achievementCat,(t=>{var a;return(0,i.wg)(),(0,i.iD)(i.HY,{key:t.key||t.id},[!e.hideFinished||((null===(a=e.achievementFinStat[t.id||0])||void 0===a?void 0:a.count)||0)<t.achievements.length?((0,i.wg)(),(0,i.j4)(r,{key:0,to:{...e.$route,params:{cat:"wonders_of_the_world"===t.key?"":t.key}},"active-class":"wonders_of_the_world"===t.key?"":"router-link-active","exact-active-class":"wonders_of_the_world"===t.key?"router-link-active":""},{default:(0,i.w5)((()=>{var a,n,s;return[(0,i._)("div",null,(0,l.zw)(e.amos[t.name]),1),(0,i._)("small",null,[(0,i._)("b",null,[(0,i._)("img",{src:e.img("yuanshi"),alt:"原石"},null,8,ha),(0,i.Uk)(" "+(0,l.zw)((null===(a=e.achievementFinStat[t.id||0])||void 0===a?void 0:a.reward)||0)+"/"+(0,l.zw)(t.totalReward),1)]),(0,i._)("span",null,(0,l.zw)((null===(n=e.achievementFinStat[t.id||0])||void 0===n?void 0:n.count)||0)+"/"+(0,l.zw)(t.achievements.length)+" ("+(0,l.zw)(Math.round(((null===(s=e.achievementFinStat[t.id||0])||void 0===s?void 0:s.count)||0)/t.achievements.length*100))+"%) ",1)])]})),_:2},1032,["to","active-class","exact-active-class"])):(0,i.kq)("",!0)],64)})),128))])])),_:1},512),e.isMobile?((0,i.wg)(),(0,i.iD)("div",ga,[(0,i._)("div",{class:"l",onClick:t[0]||(t[0]=t=>e.move(-1))},[(0,i.Wm)(u,{icon:"angle-left"})]),(0,i._)("div",{class:"r",onClick:t[1]||(t[1]=t=>e.move(1))},[(0,i.Wm)(u,{icon:"angle-right"})])])):(0,i.kq)("",!0)],2)}var ya=a(45388);Ze.vI.add(Le.EyR,Le.yOZ);var ba=(0,i.aZ)({props:["achievementCat","achievementFinStat","hideFinished"],setup(){const e=(0,o.iH)(null),t=t=>{if(!e.value)return;const a=50,n=a*t,s=e.value.wrap$;if(!s)return;const i=s.scrollLeft+n;e.value.setScrollLeft(Math.max(0,i))};return{img:ze.ZP,move:t,scrollbarRef:e,isMobile:(0,o.Vh)((0,ya.Z)(),"isMobile"),amos:(0,o.Vh)(Ke.ag,"amos")}}}),ka={sidebar:"sidebar-d52961"};const _a={};_a["$style"]=ka;const Sa=(0,da.Z)(ba,[["render",wa],["__cssModules",_a]]);var Ca=Sa;const Ea=["href"],Ia={class:"el-link--inner"},Da={class:"trigger-type"},Ua=(0,i._)("b",null,"触发方式：",-1),Ma={key:0,class:"task-type"},xa={class:"name"},$a=["href"],Na={class:"el-link--inner"},Aa={key:1,class:"no-task"},Ta=(0,i._)("div",{class:"desc"},[(0,i.Uk)("点击 ID 或任务名可查看详情"),(0,i._)("br"),(0,i.Uk)("触发条件为程序自动提取，请以实际游戏或攻略为准")],-1);function Fa(e,t,a,n,s,o){const r=ne;return(0,i.wg)(),(0,i.j4)(r,{title:e.achievement?e.amos[e.achievement.name]:"","model-value":!!e.achievement,"z-index":111,width:500,"custom-class":e.$style.detailDialog,onClosed:t[0]||(t[0]=t=>e.$emit("close"))},{default:(0,i.w5)((()=>{var t,a,n,s;return[(0,i._)("div",{class:(0,l.C_)(e.$style.trigger)},[(0,i._)("a",{class:"el-link el-link--info is-underline trigger-id",target:"_blank",rel:"nofollow",href:`https://genshin.honeyhunterworld.com/a_${(null===(t=e.achievement)||void 0===t?void 0:t.id)||0}/?lang=CHS`},[(0,i._)("span",Ia," ID: "+(0,l.zw)(null===(a=e.achievement)||void 0===a?void 0:a.id),1)],8,Ea),(0,i._)("div",Da,[Ua,(0,i._)("span",null,(0,l.zw)(e.triggerText[(null===(n=e.achievement)||void 0===n?void 0:n.trigger.type)||"未知"]||(null===(s=e.achievement)||void 0===s?void 0:s.trigger.type)||"未知")+(0,l.zw)(e.hasHiddenOperation?"后进行特殊操作":""),1)]),e.tasks.length>0?((0,i.wg)(),(0,i.iD)("ul",Ma,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tasks,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.questId},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.badges,(t=>((0,i.wg)(),(0,i.iD)("span",{key:t,class:(0,l.C_)(["badge",t])},(0,l.zw)(e.taskType[t]||t),3)))),128)),(0,i._)("span",xa,[(0,i._)("a",{class:"el-link el-link--default is-underline",target:"_blank",rel:"nofollow",href:`https://genshin.honeyhunterworld.com/q_${t.questId}/?lang=CHS`},[(0,i._)("span",Na,(0,l.zw)(e.amos[t.name]),1)],8,$a)])])))),128))])):(0,i.kq)("",!0),e.showNoTask?((0,i.wg)(),(0,i.iD)("div",Aa,"触发该成就的任务为无名隐藏任务")):(0,i.kq)("",!0),Ta],2)]})),_:1},8,["title","model-value","custom-class"])}a(30993);var Ha=(0,i.aZ)({props:{achievement:{type:Object,required:!1}},emits:["close"],setup(e){const t={FINISH_QUEST_OR:"完成以下任务之一",FINISH_QUEST_AND:"完成以下所有任务",FINISH_PARENT_QUEST_OR:"完成以下任务之一",FINISH_PARENT_QUEST_AND:"完成以下所有任务",DAILY_TASK_VAR_EQUAL:"每日委托触发特定对话"},a={WQ:"世界任务",AQ:"魔神任务",IQ:"每日委托",LQ:"邀约任务",H:"前置条件"},n=(0,i.Fl)((()=>e.achievement&&e.achievement.trigger.task?e.achievement.trigger.task.map((e=>({...e,badges:e.type.split(" ")}))):[])),s=(0,i.Fl)((()=>n.value.find((e=>e.badges.includes("H"))))),l=(0,i.Fl)((()=>e.achievement?0===n.value.length&&["FINISH_QUEST_OR","FINISH_QUEST_AND","FINISH_PARENT_QUEST_OR","FINISH_PARENT_QUEST_AND"].includes(e.achievement.trigger.type):[]));return{triggerText:t,taskType:a,amos:(0,o.Vh)(Ke.ag,"amos"),tasks:n,hasHiddenOperation:s,showNoTask:l}}}),Ra={detailDialog:"detail-dialog-bf4d69",trigger:"trigger-a3ea1b"};const Oa={};Oa["$style"]=Ra;const Wa=(0,da.Z)(Ha,[["render",Fa],["__cssModules",Oa]]);var Va=Wa;const Ya=(0,i.Uk)(" 导出 "),Pa=(0,i.Uk)(" 分享链接 "),ja=(0,i.Uk)(" 椰羊 JSON "),qa=(0,i.Uk)(" 椰羊 JSON（旧） "),za=(0,i.Uk)(" Excel 文件 "),La=(0,i.Uk)(" UIAF 1.1 JSON "),Za=(0,i.Uk)(" UIAF 1.0 JSON "),Ba=(0,i.Uk)(" Snap Genshin "),Ka=(0,i.Uk)(" Snap Hutao "),Ja=(0,i.Uk)(" 寻空 "),Qa=(0,i.Uk)(" 原魔工具箱 "),Ga=(0,i.Uk)(" Paimon.moe "),Xa=(0,i.Uk)(" SEELIE.me ");function en(e,t,a,n,o,l){const r=se.Df,c=se.o2,u=se.YK,d=s.EZ,m=ne;return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(u,{class:"header-plain-dropdown","split-button":"",onClick:t[12]||(t[12]=t=>e.doExport(""))},{dropdown:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"el-dropdown-menu--small"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{onClick:t[0]||(t[0]=t=>e.doExport("share"))},{default:(0,i.w5)((()=>[Pa])),_:1}),(0,i.Wm)(r,{onClick:t[1]||(t[1]=t=>e.doExport("cocogoat.v2"))},{default:(0,i.w5)((()=>[ja])),_:1}),(0,i.Wm)(r,{onClick:t[2]||(t[2]=t=>e.doExport("cocogoat"))},{default:(0,i.w5)((()=>[qa])),_:1}),(0,i.Wm)(r,{onClick:t[3]||(t[3]=t=>e.doExport("excel"))},{default:(0,i.w5)((()=>[za])),_:1}),(0,i.Wm)(r,{divided:"",onClick:t[4]||(t[4]=t=>e.doExport("uiaf"))},{default:(0,i.w5)((()=>[La])),_:1}),(0,i.Wm)(r,{onClick:t[5]||(t[5]=t=>e.doExport("uiaf10"))},{default:(0,i.w5)((()=>[Za])),_:1}),(0,i.Wm)(r,{divided:"",onClick:t[6]||(t[6]=t=>e.doExport("snapgenshin"))},{default:(0,i.w5)((()=>[Ba])),_:1}),(0,i.Wm)(r,{onClick:t[7]||(t[7]=t=>e.doExport("snaphutao"))},{default:(0,i.w5)((()=>[Ka])),_:1}),(0,i.Wm)(r,{onClick:t[8]||(t[8]=t=>e.doExport("xunkong"))},{default:(0,i.w5)((()=>[Ja])),_:1}),(0,i.Wm)(r,{onClick:t[9]||(t[9]=t=>e.doExport("qyinter"))},{default:(0,i.w5)((()=>[Qa])),_:1}),(0,i.Wm)(r,{onClick:t[10]||(t[10]=t=>e.doExport("paimon"))},{default:(0,i.w5)((()=>[Ga])),_:1}),(0,i.Wm)(r,{onClick:t[11]||(t[11]=t=>e.doExport("seelie"))},{default:(0,i.w5)((()=>[Xa])),_:1})])),_:1})])),default:(0,i.w5)((()=>[Ya])),_:1}),(0,i.Wm)(m,{modelValue:e.exportData.show,"onUpdate:modelValue":t[13]||(t[13]=t=>e.exportData.show=t),title:e.exportData.title,"custom-class":e.$style.exportDialog,"append-to-body":"","destroy-on-close":""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{type:"textarea","model-value":e.exportData.content},null,8,["model-value"])])),_:1},8,["modelValue","title","custom-class"])],64)}a(43928);var tn=a(19439),an=a(19928),nn=(a(95317),a(12209)),sn=a.n(nn),on=a(20811);function ln(){const e=(0,o.iH)({show:!1,title:"",content:""}),t=async t=>{const a=t||Je.YM.value.achievements_recent_export;if("share"!==a&&(Je.YM.value.achievements_recent_export=a),"cocogoat"===a){const e=Object.values(Je.h.value.achievement2).filter((e=>e.status>Qe.RC.ACHIEVEMENT_UNFINISHED)).map((async e=>{var t;return{id:e.id,categoryId:await e.goalId,date:ra()(e.timestamp).format("YYYY-MM-DD"),status:null===(t=e.current)||void 0===t?void 0:t.toString()}})),t={source:"椰羊成就",value:{achievements:await Promise.all(e)},lastModified:(new Date).toISOString()};return void un(t,"椰羊成就.legacy")}if("cocogoat.v2"===a)return void un(cn(),"椰羊成就.uiafext");if("share"===a)return void(async()=>{const e=(0,tn.bM)({message:"正在创建分享，请稍候...",duration:0,showClose:!1,type:"info"});try{const a=await fetch(await(0,et.HU)("/v2/memo?source=分享链接"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(cn())});if(!a.ok){let e=a.statusText;try{e=await a.text()}catch(t){}throw new Error(e)}const n=await a.json();if(!n.key)throw new Error("No key");const s=new URL((0,on.G)("achievement.index",!1,{memo:n.key}),location.href).toString();try{e.close()}catch(t){}try{await an.T.prompt("打开以下分享链接，即可快速导入成就。注意：每个分享链接只能导入一次。","分享链接创建成功",{confirmButtonText:"复制链接",cancelButtonText:"关闭",inputValue:s}),sn()(s),(0,tn.bM)({message:"分享链接已复制到剪贴板",type:"success"})}catch(t){console.log(t)}}catch(t){try{e.close()}catch(t){}return console.error(t),tn.bM.error("分享失败，请稍后再试")}})();if("uiaf"===a)return void un(rn(),"椰羊UIAF1.1");if("uiaf10"===a)return void un(rn("v1.0"),"椰羊UIAF1.0");if("snapgenshin"===a)return void dn("snapgenshin://achievement/import/uiaf","如果 SnapGenshin 没有启动或导入失败，请导出为 UIAF 1.1 后手动导入。",rn());if("snaphutao"===a)return void dn("hutao://achievement/import","如果 SnapHutao 没有启动或导入失败，请导出为 UIAF 1.1 后手动导入。",rn());if("xunkong"===a)return void dn("xunkong://import-achievement?caller=椰羊&from=clipboard","如果寻空没有启动或导入失败，请导出为 UIAF 1.1 后手动导入。",rn());if("qyinter"===a){const e=(0,tn.bM)({message:"正在导出，请稍候...",duration:0,showClose:!1,type:"info"}),t={key:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).substring(0,8).toUpperCase(),data:rn("v1.1")};try{const a=await fetch("https://api.qyinter.com/achievementRedis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error(await a.text());try{try{e.close()}catch(s){}await an.T.prompt("请在原魔工具箱小程序输入以下分享码以导入成就，三分钟内有效。","导出到原魔工具箱成功",{confirmButtonText:"复制分享码",cancelButtonText:"关闭",inputValue:t.key}),sn()(t.key),(0,tn.bM)({message:"分享码已复制到剪贴板",type:"success"})}catch(s){console.log(s)}}catch(s){try{e.close()}catch(s){}tn.bM.error("导出失败，请稍后再试"),console.error(s)}return}if("excel"===a)return void mn();let n="";if("seelie"===a){const e=Object.values(Je.h.value.achievement2).filter((e=>e.status>Qe.RC.ACHIEVEMENT_UNFINISHED)).map((e=>[e.id,(e.current+" "+e.timestamp?ra()(e.timestamp).format("YYYY-MM-DD HH:mm:ss"):"").trim()]));n=`/*\n* 复制此处所有内容，\n* 在 SEELIE.me 页面按 F12 打开调试器，\n* 选择控制台（Console）\n* 粘贴并回车执行完成导入\n* \n* 使用此方法导入是为了保证您的原有成就不被覆盖\n*\n*/\nconst z = ${JSON.stringify(e)};\nconst a = localStorage.account || 'main'\nconst b = JSON.parse(localStorage.getItem(\`\${a}-achievements\`)||'{}')\nz.forEach(c=>{b[c[0]]={done:true,notes:c[1]}})\nlocalStorage.setItem(\`\${a}-achievements\`,JSON.stringify(b))\nlocalStorage.last_update = (new Date()).toISOString()\nlocation.href='/achievements'`}else{const e=Object.values(Je.h.value.achievement2).filter((e=>e.status>Qe.RC.ACHIEVEMENT_UNFINISHED)).map((async e=>[await e.goalId,e.id])),t=await Promise.all(e);n=`/*\n* 复制此处所有内容，\n* 在 Paimon.moe 页面按 F12 打开调试器，\n* 选择控制台（Console）\n* 粘贴并回车执行完成导入\n* \n* 使用此方法导入是为了保证您的原有成就不被覆盖\n*\n*/\nconst b = ${JSON.stringify(t)};\nconst a = (await localforage.getItem('achievement')) || {};\nb.forEach(c=>{a[c[0]]=a[c[0]]||{};a[c[0]][c[1]]=true})\nawait localforage.setItem('achievement',a);\nlocation.href='/achievement'`}e.value={show:!0,content:n,title:"导出到 "+("paimon"===a?"Paimon.moe":"SEELIE.me")}};return{exportData:e,doExport:t}}function rn(e="v1.1",t=Je.h.value.achievement2){const a={info:{export_app:"cocogoat",export_app_version:"7a7efca4",export_timestamp:Math.floor(Date.now()/1e3),uiaf_version:e},list:[]};return Object.values(t).forEach((t=>{"v1.0"===e&&t.status<=Qe.RC.ACHIEVEMENT_UNFINISHED||a.list.push({id:t.id,timestamp:t.timestamp||Qe.rB,current:t.current||0,status:"v1.0"===e?void 0:t.status})})),a}function cn(e=Je.h.value.achievement2){const t={info:{export_app:"cocogoat",export_app_version:"7a7efca4",export_timestamp:Math.floor(Date.now()/1e3),uiaf_version:"v1.1",cocogoat_ext:{version:"v1.0"}},list:[]};return Object.values(e).forEach((e=>{t.list.push(JSON.parse(JSON.stringify(e)))})),t}function un(e,t){const a=JSON.stringify(e,null,4),n=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t+"."+ra()().format("YYYYMMDDHHmmss")+".json",i.click()}function dn(e,t,a){const n=document.createElement("iframe");n.src=e,n.style.display="none",a&&sn()(JSON.stringify(a)),document.body.appendChild(n),tn.bM.success({title:"已发起自动导入",message:t,duration:15e3}),setTimeout((()=>{document.body.removeChild(n)}),1e3)}async function mn(){const e=tn.bM.info({title:"处理中",message:"请稍候...",duration:0}),t=await Promise.resolve().then(a.bind(a,69055)).then((function(e){return a.t(e,22)})),n=new t.Workbook,s=n.addWorksheet("椰羊成就导出");s.columns=[{header:"ID",key:"id"},{header:"分类",key:"category"},{header:"名称",key:"name"},{header:"原石",key:"reward"},{header:"描述",key:"desc"},{header:"状态",key:"status"},{header:"进度",key:"current"},{header:"日期",key:"date"}],Pe["default"].forEach((e=>{e.achievements.forEach((t=>{const a=Je.h.value.achievement2[t.id];s.addRow({id:t.id,category:Ke.ag.amos[e.name],name:Ke.ag.amos[t.name],desc:Ke.ag.amos[t.desc],reward:t.reward,status:a?Qe.fV[a.status]:"未完成",current:a?a.current:"",date:a?ra()(1e3*a.timestamp).format("YYYY-MM-DD HH:mm:ss"):""})}))})),e.close(),tn.bM.success({title:"导出成功",message:"即将下载..."});const i=await n.xlsx.writeBuffer(),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=URL.createObjectURL(o),r=document.createElement("a");r.href=l,r.download="椰羊成就导出"+ra()().format("YYYY-MM-DD HH:mm:ss")+".xlsx",r.click()}var pn=(0,i.aZ)({setup(){return{...ln()}}}),vn={exportDialog:"export-dialog-b7999c"};const fn={};fn["$style"]=vn;const hn=(0,da.Z)(pn,[["render",en],["__cssModules",fn]]);var gn=hn,wn=a(27372);a(67376),a(58869);const yn={style:{"margin-top":"-35px"}},bn=(0,i.Uk)("选择文件"),kn={class:"icon"},_n=(0,i._)("div",{class:"desc"},"输入九位分享码，从分享数据导入成就",-1);function Sn(e,t,a,n,o,c){const u=s.EZ,d=oe.mi,m=wn.p8,p=(0,i.up)("fa-icon"),v=wn.Ub;return(0,i.wg)(),(0,i.iD)("div",yn,[(0,i.Wm)(v,{modelValue:e.activeName,"onUpdate:modelValue":t[7]||(t[7]=t=>e.activeName=t),stretch:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{label:"本地导入",name:"text"},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,l.C_)(e.$style.textareaBox),onDragover:t[3]||(t[3]=(0,r.iM)((()=>{}),["prevent","stop"])),onDragleave:t[4]||(t[4]=(0,r.iM)((()=>{}),["prevent"])),onDrop:t[5]||(t[5]=(0,r.iM)(((...t)=>e.onFileDrop&&e.onFileDrop(...t)),["prevent","stop"]))},[(0,i.Wm)(u,{modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=t=>e.content=t),type:"textarea",class:(0,l.C_)(e.$style.textarea),placeholder:"在此粘贴导入内容、在右下方选择文件，或拖动文件到这里\r\r支持的导入项目：\r - 椰羊 JSON\r - Paimon.moe JSON\r - SEELIE.me JSON\r - 在 F12 页面执行的 JS 代码（椰羊、Paimon.moe、SEELIE.me）"},null,8,["modelValue","class"]),(0,i.Wm)(d,{class:"file-button",onClick:t[1]||(t[1]=t=>{var a;return null===(a=e.fileEl)||void 0===a?void 0:a.click()})},{default:(0,i.w5)((()=>[bn])),_:1}),(0,i._)("input",{ref:"fileEl",type:"file",accept:"text/plain,.json",onChange:t[2]||(t[2]=(...t)=>e.onSelectFile&&e.onSelectFile(...t))},null,544)],34)])),_:1}),(0,i.Wm)(m,{label:"分享导入",name:"memo"},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,l.C_)(e.$style.memoBox)},[(0,i._)("div",kn,[(0,i.Wm)(p,{icon:"cloud-bolt"})]),_n,(0,i.Wm)(u,{modelValue:e.inputMemoId,"onUpdate:modelValue":t[6]||(t[6]=t=>e.inputMemoId=t),disabled:e.memoLoading,maxlength:"9",minlength:"9",size:"large",placeholder:"INPUTCODE"},null,8,["modelValue","disabled"])],2)])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(d,{class:(0,l.C_)(e.$style.importButton),size:"large",type:"primary",disabled:!e.allowed,onClick:e.doImport},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.memoLoading?"处理中":e.importText),1)])),_:1},8,["class","disabled","onClick"])])}a(670),a(80426),a(49743),a(36826),a(26263);const Cn=(e,t,a)=>`<!doctype html>\n<html>\n<body>\n<script>\ndelete window.fetch;\ndelete window.XMLHttpRequest;\nconst origin = "${e}";\nconst senderId = "${t}";\nconst receiverId = "${a}";\nconst handleMessage = async (event) => {\n  if (event.source !== window.parent) {\n    return;\n  }\n  if (event.origin !== origin) {\n    return;\n  }\n  const { id, src, scope } = event.data || {};\n  if (id !== receiverId) {\n    return;\n  }\n  try {\n    const AsyncFunction = Object.getPrototypeOf(async function(){}).constructor;\n    const fun = new AsyncFunction(...Object.keys(scope), src);\n    const result = await fun(...Object.values(scope));\n    window.parent.postMessage({ id: senderId, result }, origin);\n  } catch (error) {\n    window.parent.postMessage({ id: senderId, error }, origin);\n  }\n  window.removeEventListener("message", handleMessage);\n};\nwindow.addEventListener("message", handleMessage);\nwindow.parent.postMessage({ id: senderId, ready: true }, origin);\n<\/script>\n</body>\n</html>`;function En(){return Array.from(crypto.getRandomValues(new Uint32Array(4))).map((e=>e.toString(36))).join("")}function In(e,t={}){const a=document.createElement("iframe");a.setAttribute("sandbox","allow-scripts"),a.setAttribute("style","display: none;");const n=En(),s=En();return new Promise(((i,o)=>{const l=r=>{var c;if(r.source!==a.contentWindow)return;const{id:u,result:d,error:m,ready:p}=null!==(c=r.data)&&void 0!==c?c:{};u===n&&(p&&a.contentWindow?a.contentWindow.postMessage({id:s,src:e,scope:t},"*"):(m?o(m):i(d),window.removeEventListener("message",l),document.body.removeChild(a)))};window.addEventListener("message",l),a.srcdoc=Cn(window.location.origin,n,s),document.body.appendChild(a)}))}var Dn=a(72083),Un=a(96784);function Mn(e){return Array.isArray(e.achievements)&&e.achievements.length>0&&!isNaN(e.achievements[0].id)&&"string"===typeof e.achievements[0].status&&!isNaN(e.achievements[0].categoryId)&&"string"===typeof e.achievements[0].date}function xn(e){let t=e;if(Array.isArray(e.achievement)&&e.achievement.length>0&&e.achievement.find((e=>null!==e))&&(t={achievement:{}},e.achievement.forEach(((e,a)=>{null!==e&&(t.achievement[a]=e)}))),"object"===typeof t.achievement&&Object.keys(t.achievement).length>0){const e=t.achievement[Object.keys(t.achievement)[0]],a=e[Object.keys(e)[0]];if("boolean"===typeof a)return $n(t)}return!1}function $n(e){const t=[];return Object.keys(e.achievement).forEach((a=>{const n=e.achievement[a];Object.keys(n).forEach((e=>{n[Number(e)]&&t.push(new Un.x({id:Number(e),status:Qe.RC.ACHIEVEMENT_POINT_TAKEN,timestamp:Math.floor(Date.now()/1e3),current:0,partial:{},image:"",source:Un.N.IMPORT}))}))})),t}function Nn(e){if(!e["achievements"])return!1;if(Array.isArray(e["achievements"]))return!1;if("object"!==typeof e["achievements"])return!1;if(0===Object.keys(e["achievements"]).length)return!1;const t=e["achievements"][Object.keys(e["achievements"])[0]];return"object"===typeof t&&"boolean"===typeof t["done"]}function An(e){const t=[];return Object.keys(e).forEach((a=>{const n=e[a];n.done&&(n.notes=n.notes||"",t.push(new Un.x({id:Number(a),current:Number(n.notes.trim().split(" ")[0])||0,timestamp:Math.floor(new Date((n.notes.trim()+" ").split(" ")[1].trim()).getTime()/1e3||0),image:"",partial:{},status:Qe.RC.ACHIEVEMENT_POINT_TAKEN,source:Un.N.IMPORT})))})),t}function Tn(e){return!!e.list&&(!!Array.isArray(e.list)&&(0!==e.list.length&&(!(!e.list[0].id&&0!==e.list[0].id)&&("undefined"!==typeof e.list[0].current&&!(!e.list[0].timestamp&&0!==e.list[0].timestamp)))))}function Fn(e){try{if("v1.0"===e.info.uiaf_version)return e.list.length.toString()+"个";const t=e.list.filter((e=>e.status>Qe.RC.ACHIEVEMENT_UNFINISHED)).length.toString();return`${t} 个已完成，${e.list.length-Number(t)} 个未完成`}catch(t){return"数量统计失败"}}function Hn(e){return e.map((e=>new Un.x({id:e.id,timestamp:e.timestamp,current:e.current,status:"status"in e?e.status:Qe.RC.ACHIEVEMENT_POINT_TAKEN,partial:e.partial||{},image:e.image||"",source:Un.N.IMPORT})))}function Rn(e,t,a,n){const s=async()=>{if(!e.value.trim()||!e.value.includes("[")&&!e.value.includes("{"))return a.value="未识别到可导入的内容",void(t.value=!1);try{const s=JSON.parse(e.value);if(s.achievements&&Mn(s))a.value="导入椰羊成就（"+s.achievements.length+" 个）",t.value=!0,n.value=(0,Dn.FV)(s.achievements);else if(s.value&&s.value.achievements&&Mn(s.value)){const e=s.source||"椰羊备份";a.value="导入"+e+"（"+s.value.achievements.length+" 个）",t.value=!0,n.value=(0,Dn.FV)(s.value.achievements)}else if(Tn(s)){let e=s.source||s.info.export_app||"UIAF";"cocogoat"===e&&(e="椰羊UIAF"),a.value="导入"+e+"（"+Fn(s)+" ）",t.value=!0,n.value=Hn(s.list)}else if(s.value&&Tn(s.value)){let e=s.source||s.value.info.export_app||"UIAF";"cocogoat"===e&&(e="椰羊UIAF"),a.value="导入"+e+"（"+Fn(s.value)+" ）",t.value=!0,n.value=Hn(s.value.list)}else s.achievement&&(n.value=xn(s)||[])?(a.value="导入 Paimon.moe 备份（"+n.value.length+" 个）",t.value=!0):s.achievements&&Nn(s)?(n.value=An(s.achievements),a.value="导入 SEELIE.me 备份（"+n.value.length+" 个）",t.value=!0):(a.value="未识别到可导入的内容",t.value=!1)}catch(s){console.log(s);const i=`\n            class mockedLocalStorage {\n                getItem(itemName) {\n                    return Reflect.get(this, itemName);\n                }\n                setItem(itemName, itemValue) {\n                    Reflect.set(this, itemName, itemValue);\n                }\n                removeItem(itemName) {\n                    Reflect.deleteProperty(this, itemName);\n                }\n                clear() {\n                    for (const key in this) {\n                        if (Object.prototype.hasOwnProperty.call(this, key)) {\n                            if (['getItem', 'setItem', 'removeItem', 'clear'].includes(key)) return;\n                            Reflect.deleteProperty(this, key);\n                        }\n                    }\n                }\n            }\n            const f = new mockedLocalStorage()\n            const scope = {\n                localStorage: f,\n                localforage: f,\n                document: null,\n                XMLHttpRequest: null,\n                fetch: null,\n                navigator: null,\n                window: null,\n                import: null,\n                alert: null,\n                confirm: null,\n                prompt: null\n            };\n            scope.window = scope;\n            scope.top = scope;\n            scope.self = scope;\n            scope.parent = scope;\n            with(scope) {\n                ${e.value}\n            }\n            return JSON.parse(JSON.stringify(scope.localStorage));\n            `;try{if(e.value.includes("while(")||e.value.includes("while ("))throw new Error("Maybe Evil");const s=await In(i);if("string"===typeof s["cocogoat.v1.currentUser"]){const e=JSON.parse(s["cocogoat.v1.currentUser"]),i=s["cocogoat.v1."+e];if(i&&Mn(i))return a.value="导入椰羊代码（"+i.achievements.length+" 个）",t.value=!0,void(n.value=(0,Dn.FV)(i.achievements));throw new Error}if("object"===typeof s.achievement)return n.value=$n(s),a.value="导入 Paimon.moe 代码（"+n.value.length+" 个）",void(t.value=!0);if("string"===typeof s.account||"string"===typeof s["main-achievements"]){const e=s.account||"main",i=JSON.parse(s[`${e}-achievements`]),o=An(i);return a.value="导入 SEELIE.me 代码（"+o.length+" 个）",t.value=!0,void(n.value=o)}throw console.log(s),new Error("Nothing found in sandbox")}catch(s){a.value="未识别到可导入的内容",t.value=!1,console.log(s)}}},i=()=>{const e=n.value;for(const t of e){if(!t.id||!(t instanceof Un.x))continue;const e=Je.h.value.achievement2[t.id]||t;t.partial=t.partial||e.partial,Je.h.value.achievement2[t.id]=t}};return{checkContent:s,importToStore:i}}Ze.vI.add(Le.$iP);var On=(0,i.aZ)({props:{memoId:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,o.iH)(""),n=(0,o.iH)(!1),s=(0,o.iH)("未识别到可导入的内容"),l=(0,o.iH)(null),r=(0,o.iH)(!1),{checkContent:u,importToStore:d}=Rn(a,n,s,l),m=(0,c.Z)((()=>{u(),r.value=!1,e.memoId&&e.memoId===p.value&&(d(),t("close",p.value),tn.bM.success({title:"导入成功",message:"已"+s.value}))}),200),p=(0,o.iH)(e.memoId);(0,i.YP)((()=>e.memoId),(e=>{p.value=e}));const v=async e=>{if(9===e.length){r.value=!0;try{const t=await fetch(await(0,et.HU)("/v2/memo/"+e));if(!t.ok)throw new Error("memo not found");{const n=await t.json();if(!n.id||n.id!==e)throw new Error("memo not found");a.value=JSON.stringify(n,null,4)}}catch(t){r.value=!1}}else a.value=""};v(p.value),(0,i.YP)(p,v),(0,i.YP)(a,m);const f=(0,o.iH)(p.value?"memo":"text"),h=async()=>{n.value&&(d(),t("close",p.value))},g=async e=>{if(e.type.includes("image/")||e.type.includes("video/")||e.type.includes("audio/"))return void tn.bM.error({title:"似乎找错了位置",message:"如需扫描图片或者视频中的成就，请使用【扫描】功能"});const t=new FileReader;t.onload=e=>{var t;null!==(t=e.target)&&void 0!==t&&t.result&&(a.value=e.target.result)},t.readAsText(e)},w=e=>{if(!e.target)return;const t=e.target.files;t&&g(t[0])},y=e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;t&&g(t[0])};return{content:a,allowed:n,importText:s,doImport:h,activeName:f,memoLoading:r,inputMemoId:p,onSelectFile:w,onFileDrop:y,fileEl:(0,o.iH)(null)}}}),Wn={textarea:"textarea-bef55a",textareaBox:"textarea-box-a84560",memoBox:"memo-box-b7cb43",importButton:"import-button-f450d6"};const Vn={};Vn["$style"]=Wn;const Yn=(0,da.Z)(On,[["render",Sn],["__cssModules",Vn]]);var Pn=Yn;const jn=["src"],qn=(0,i._)("div",{class:"scanner-back"},[(0,i._)("div",{class:"scanner-box"},[(0,i._)("div",{class:"scanner-title"},"成就识别")])],-1),zn=(0,i.Uk)(" 以下为失败和识别到的未完成成就列表，您可以自行检查确认后手动添加。 "),Ln={class:"faildResults"},Zn=["src"],Bn=(0,i.Uk)(" 反馈失败记录 ");function Kn(e,t,a,n,s,o){const r=oe.mi,c=ne;return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.showScanner?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,l.C_)(e.$style.scannerArea)},[(0,i._)("iframe",{ref:"scannerFrame",class:"scanner-frame",src:e.frameSrc},null,8,jn),qn],2)):(0,i.kq)("",!0),(0,i.Wm)(c,{modelValue:e.scannerResult.show,"onUpdate:modelValue":t[0]||(t[0]=t=>e.scannerResult.show=t),title:`成功扫描 ${e.scannerResult.length} 个成就`,"custom-class":e.$style.scannerResultDialog,"destroy-on-close":""},{default:(0,i.w5)((()=>[zn,(0,i._)("div",Ln,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.scannerResult.faildImages,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i._)("img",{src:e.image},null,8,Zn),(0,i._)("div",{class:(0,l.C_)(["badge",{success:e.data.success}])},(0,l.zw)(e.data.success?"未完":"错误"),3)])))),128))]),(0,i.Wm)(r,{class:"feedback-btn",onClick:e.sendOops},{default:(0,i.w5)((()=>[Bn])),_:1},8,["onClick"])])),_:1},8,["modelValue","title","custom-class"])],64)}var Jn=a(40),Qn=a.n(Jn),Gn=a(23066),Xn=a(25083);const es={install(e){e.directive("loading",Xn.t),e.config.globalProperties.$loading=Gn.g},directive:Xn.t,service:Gn.g};let ts=!1;function as({scannerFrame:e,results:t,showScanner:a}){const n=(0,o.iH)({}),s=async e=>{const{app:s,event:i,data:o}=e.data;if("cocogoat.scanner.achievement"===s&&"ready"!==i&&"result"===i){a.value=!1;const e=es.service({fullscreen:!0,text:"结果处理中..."});await Qn()(100);const{result:s}=o;n.value=o.metadata;for(const t of s)if(t.success&&t.achievement.preStage&&t.achievement.preStage>0){const e=Pe["default"].find((e=>e.id===t.achievement.categoryId));if(e){const a=e.achievements.find((e=>e.id===t.achievement.preStage));if(a){const e={...t,done:!0,success:!0};s.push({...e,achievement:{...a,categoryId:t.achievement.categoryId}})}}}const i=[];let l=s.filter((e=>!(!e.success||!e.done)||(i.push(e),!1))).map((e=>{let t="";try{let a=new Date(e.date.replace("月","").trim()||0);a.getFullYear()>(new Date).getFullYear()&&(a=new Date(0)),t=a.toISOString()}catch(a){t=new Date(0).toISOString(),console.error("Faild to parse date:",e.date,a)}return new Un.x({id:e.achievement.id,timestamp:Math.floor(new Date(t).getTime()/1e3),status:Qe.RC.ACHIEVEMENT_POINT_TAKEN,current:Number((e.status||"").split("/")[0])||0,partial:{},image:"",source:Un.N.IMPORT}).finishAllPartials()}));l=await Promise.all(l),l.forEach((e=>{const t=Je.h.value.achievement2[e.id];t&&(e.partial=t.partial),Je.h.value.achievement2[e.id]=e}));const r=i.map((e=>{var t;return{image:(null===(t=e.images)||void 0===t?void 0:t.main)||"",data:{...e,images:void 0}}}));i.length>0?(console.log("Faild:",i),t.value={length:l.length,show:!0,faildImages:r}):an.T.alert("成功识别 "+l.length+" 个，失败 0 个","扫描结束"),await Qn()(100),e.close(),console.log("got result from scanner",s)}};(0,i.YP)(e,(e=>{console.log(e),e?window.addEventListener("message",s):window.removeEventListener("message",s)})),(0,i.Jd)((()=>{window.removeEventListener("message",s)}));const l=async()=>{if(ts)return;let e;try{e=await an.T.prompt("该反馈将上传识别失败的图片、您使用的识别方式、设备类型、设备屏幕分辨率等数据到服务器。您也可以在此输入额外的备注，以便作者定位问题。如需获得最快的修复速度，请加入交流群并将提交后出现的反馈 ID 发送给作者。","提交识别失败反馈",{inputPlaceholder:"备注其实可以不填，但就不知道能不能解决了。",inputType:"textarea"})}catch(i){return}if("confirm"!==e.action)return;const a=JSON.stringify({message:e.value,metadata:n.value,results:t.value.faildImages.filter((e=>!e.data.success))}),s=await(0,et.HU)("/v2/oops","global");ts=!0;try{const e=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:a});if(!e.ok)throw new Error;{const t=await e.json();tn.bM.success({title:"反馈成功",message:"ID:"+t.id})}}catch(i){tn.bM.error({title:"发送失败",message:"发送失败，请检查网络连接"})}ts=!1};return{sendOops:l}}var ns=(0,i.aZ)({props:{showScanner:{type:Boolean,default:!1}},emits:["update:showScanner"],setup(e,{emit:t}){const a=(0,on.G)("frames.achievement.scan"),n=(0,o.iH)(null),s=(0,o.iH)({show:!1,length:0,faildImages:[]}),l=(0,i.Fl)({get(){return e.showScanner},set(e){t("update:showScanner",e)}}),{sendOops:r}=as({scannerFrame:n,results:s,showScanner:l});return{frameSrc:a,sendOops:r,scannerFrame:n,scannerResult:s}}}),ss={scannerResultDialog:"scanner-result-dialog-f064fc",scannerArea:"scanner-area-f99f4a"};const is={};is["$style"]=ss;const os=(0,da.Z)(ns,[["render",Kn],["__cssModules",is]]);var ls=os,rs=a(28341);Ze.vI.add(Le.KS0,Le.A$k,Le.LEp,Le.Vui,Le.S6C,Le.wn1,Le.G_j);var cs=(0,i.aZ)({name:"AchievementIndex",components:{IconCocogoat:Be.Z,AchievementItem:va,AchievementSidebar:Ca,AchievementDetail:Va,ImportDialog:Pn,ExportDropdown:gn,ScannerDialog:ls,DynamicScroller:Xe.cV,DynamicScrollerItem:Xe.Wk},setup(){const e=(0,o.iH)(null),t=(0,o.iH)([]),a=(0,o.iH)(!1),n=(0,o.iH)(""),s=(0,o.iH)(!1),l=(0,o.iH)(!1),r=e=>{l.value=e>1},u=(0,i.Fl)((()=>s.value?"":n.value));(0,i.YP)(n,(()=>{if(!s.value||!e.value)return;const t=N.value.findIndex((e=>Ke.ag.amos[e.name]===n.value));t>=0&&(console.log("scrollToItem",e.value.scrollToItem,t),e.value.scrollToItem(t))}));const d=(0,i.Fl)({get(){return Je.h.value.achievement2},set(e){Je.h.value.achievement2=e}}),m=(0,i.Fl)((()=>Object.keys(d.value).reduce(((e,t)=>{const a=d.value[Number(t)],n=qe.goalMap[a.id];var s,i;a.status>Qe.RC.ACHIEVEMENT_UNFINISHED&&(e[n]=e[n]||{count:0,reward:0},e[n].count++,e[n].reward+=(null===(s=Pe["default"].find((e=>e.id===n)))||void 0===s||null===(i=s.achievements.find((e=>e.id===a.id)))||void 0===i?void 0:i.reward)||0);return e}),{}))),p=(0,o.iH)(!0),v=(0,o.iH)(!1),f=(0,o.iH)(!1),h=(0,i.Fl)((()=>Object.values(m.value).reduce(((e,t)=>(e.count+=t.count,e.reward+=t.reward,e)),{count:0,reward:0}))),g=new Date,w=(0,i.Fl)((()=>{let e=999,t=!1;for(const a of Object.keys(sa).sort(((e,t)=>Number(t)-Number(e)))){const n=sa[Number(a)];if(n<=g){e=Number(a);break}t=!0}return Je.YM.value.achievements_show_unpublished&&(e=999),{latestPublishedVersion:e,hasUnpublishedVersion:t}})),y=()=>{Je.YM.value.achievements_show_unpublished=!Je.YM.value.achievements_show_unpublished,Je.YM.value.achievements_show_unpublished||(U.value=U.value.filter((e=>e<=w.value.latestPublishedVersion)))},b=(0,i.Fl)((()=>{const e=Pe["default"].map((e=>{if(999===w.value.latestPublishedVersion)return e;{let t=0;const a=e.achievements.filter((e=>ia[e.id]<=w.value.latestPublishedVersion||(t+=e.reward,!1)));return{...e,totalReward:e.totalReward-t,achievements:a}}})).sort(((e,t)=>e.order-t.order)).filter((e=>e.achievements.length>0));return e})),k=(0,i.Fl)((()=>b.value.reduce(((e,t)=>e+t.achievements.length),0))),_=(0,i.Fl)((()=>b.value.reduce(((e,t)=>e+t.totalReward),0))),S=(0,Ye.yj)(),C=(0,i.Fl)((()=>S.params.cat||"wonders_of_the_world")),E=(0,i.Fl)((()=>{const e=b.value.find((e=>e.key===C.value))||b.value[0],t={};return e.achievements.forEach((e=>{e.trigger.task&&e.trigger.task.length>0&&(t[e.id]=e.trigger.task[0].type)})),{...e,quest:t}})),I=(e,t)=>!!e.id.toString().includes(t)||(!!Ke.ag.amos[e.name].toLowerCase().includes(t.toLowerCase())||(!!Ke.ag.amos[e.desc].toLowerCase().includes(t.toLowerCase())||void 0)),D=(e,t)=>t(E.value.achievements.filter((t=>I(t,e))).map((e=>({value:Ke.ag.amos[e.name],desc:Ke.ag.amos[e.desc]})))),U=(0,o.iH)([]),M=(0,o.iH)([]),x=e=>d.value[e]&&d.value[e].status>Qe.RC.ACHIEVEMENT_UNFINISHED,$=(0,o.iH)([]);(0,i.YP)([p,E],(()=>{$.value=[]}));const N=(0,i.Fl)((()=>{let e=E.value.achievements.concat([]);const t=()=>{let t=!0;for(let a=0;a<e.length;a++){if(!d.value[e[a].id])return t=!1,void(f.value=!1);if(d.value[e[a].id].status===Qe.RC.ACHIEVEMENT_UNFINISHED)return t=!1,void(f.value=!1)}t&&(f.value=!0)};t(),v.value&&(e=e.filter((e=>{if(e.postStage){let t=e;while(t.postStage){const e=E.value.achievements.find((e=>e.id===t.postStage));if(t=e||t,!e){console.log("DATAERR: ",t.postStage);break}}return!x(t.id)}return!x(e.id)})));const a=M.value.map((e=>"MQ"===e?"":e));return a.length>0&&(e=e.filter((e=>a.includes(E.value.quest[e.id])))),U.value.length>0&&(e=e.filter((e=>U.value.includes(ia[e.id]||0)))),p.value&&($.value.length<=0?(e=e.sort(((e,t)=>{const a=0;let n=d.value[e.id],s=d.value[t.id];if(e.postStage){let t=e;while(t.postStage){const e=E.value.achievements.find((e=>e.id===t.postStage));if(t=e||t,!e){console.log("DATAERR: ",t.postStage);break}}n=d.value[t.id]}if(t.postStage){let e=t;while(e.postStage){const t=E.value.achievements.find((t=>t.id===e.postStage));if(e=t||e,!t){console.log("DATAERR: ",e.postStage);break}}s=d.value[e.id]}return e.preStage===t.id?1:(n=n&&x(n.id)?n:void 0,s=s&&x(s.id)?s:void 0,n&&!s?1:!n&&s?-1:a)})),$.value=e.map((e=>e.id))):e=e.sort(((e,t)=>{const a=$.value.indexOf(e.id),n=$.value.indexOf(t.id);return a-n}))),u.value.trim()&&(e=e.filter((e=>{const t=I(e,u.value);let a=!1,n=e;while(n.preStage){const e=E.value.achievements.find((e=>e.id===n.preStage));if(!e){console.log("DATAERR: ",n.preStage);break}if(n=e||n,I(n,u.value)){a=!0;break}}let s=!1;n=e;while(n.postStage){const e=E.value.achievements.find((e=>e.id===n.postStage));if(!e){console.log("DATAERR: ",n.preStage);break}if(n=e||n,I(n,u.value)){s=!0;break}}return t||a||s}))),e})),A=e=>{const t=E.value.achievements.concat([]);e&&(t.forEach((e=>{Je.h.value.achievement2[e.id]=Un.x.create(e.id,Qe.RC.ACHIEVEMENT_POINT_TAKEN)})),f.value=!0),e||t.forEach((e=>{Je.h.value.achievement2[e.id].status=Qe.RC.ACHIEVEMENT_UNFINISHED}))},T=async e=>{d.value[e]?d.value[e].status>Qe.RC.ACHIEVEMENT_UNFINISHED?(d.value[e].status=Qe.RC.ACHIEVEMENT_UNFINISHED,d.value[e].timestamp=0):(d.value[e].status=Qe.RC.ACHIEVEMENT_POINT_TAKEN,d.value[e].timestamp=d.value[e].timestamp||Math.floor(Date.now()/1e3)):(d.value[e]=await Un.x.create(e,Qe.RC.ACHIEVEMENT_POINT_TAKEN).finishAllPartials(),d.value[e].current=(await d.value[e].amos).total)},F=(e,t)=>{d.value[e].current=t||0;const a=e=>{d.value[e.id]||(d.value[e.id]=Un.x.create(e.id,Qe.RC.ACHIEVEMENT_UNFINISHED));const a=(0,o.Vh)(d.value,e.id);a.value.current=t||0,a.value.current>=e.total?(a.value.status=Qe.RC.ACHIEVEMENT_POINT_TAKEN,a.value.timestamp=Math.floor(Date.now()/1e3)):a.value.status=Qe.RC.ACHIEVEMENT_UNFINISHED};let n=E.value.achievements.find((t=>t.id===e));a(n);while(n.preStage){const e=E.value.achievements.find((e=>e.id===n.preStage));if(!e){console.log("DATAERR: ",n.preStage);break}n=e||n,a(n)}n=E.value.achievements.find((t=>t.id===e));while(n.postStage){const e=E.value.achievements.find((e=>e.id===n.postStage));if(!e){console.log("DATAERR: ",n.preStage);break}n=e||n,a(n)}},H=(0,c.Z)(F,400),R=(e,t,a)=>{const n=je["default"][e];if(!n)return;if(!d.value[e]){const t=Un.x.create(e,Qe.RC.ACHIEVEMENT_UNFINISHED);t.timestamp=0,d.value[e]=t}const s=d.value[e];a?s.finishPartial(t):s.removePartial(t)},O=(0,o.iH)(!1),W=async e=>{e?Je.h.value.achievement2={}:Object.keys(d.value).forEach((e=>{const t=qe.goalMap[d.value[Number(e)].id];t===E.value.id&&delete Je.h.value.achievement2[Number(e)]})),O.value=!1},V=(0,i.Fl)((()=>S.query.memo?S.query.memo.toString():"")),Y=(0,o.iH)(!!V.value);(0,i.YP)(V,(e=>{e&&(Y.value=!0)}));const P=(0,Ye.tv)(),j=e=>{Y.value=!1,e&&e===V.value&&P.replace({...S,query:{...S.query,memo:void 0}})},q=nt(),z=(0,o.iH)(void 0);return{img:ze.ZP,scroll:e,options:Je.YM,store:Je.h,searchKw:n,searchTo:s,searchHidden:l,onScrollUpdate:r,searchToList:D,showScanner:a,selectedIds:t,achievementCat:b,currentCatId:C,currentCat:E,achievementFin:d,achievementFinStat:m,currentAch:N,updateFinished:T,updatePartial:R,updateCurrent:H,doClear:W,showClear:O,CustomElScrollVue:Ge.Z,showImport:Y,sortByStatus:p,hideFinished:v,selectAllCat:f,checkAllCat:A,totalCount:k,totalFin:h,totalReward:_,contributed:q,isMobile:(0,o.Vh)((0,ya.Z)(),"isMobile"),detail:z,statusQuest:M,statusVersion:U,allVersions:oa,autoImportId:V,closeImport:j,achPartialAmos:je["default"],publishedInfo:w,clickUnpublishedVersion:y,isWindows:rs.isWindows}}}),us={searchToWrap:"search-to-wrap-c3c277",searchToDesc:"search-to-desc-f25d1d",totalPercent:"total-percent-bdff3e",importDialog:"import-dialog-d06931",achievementView:"achievement-view-d77ddb"};const ds={};ds["$style"]=us;const ms=(0,da.Z)(cs,[["render",Ve],["__cssModules",ds]]);var ps=ms},1691:function(e,t,a){"use strict";a.d(t,{os:function(){return v}});var n=a(61583),s=a(91239),i=a(30926),o=a(17398);const l=(0,o.o8)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,o.Cq)(String),default:"solid"}});var r=a(67311),c=a(66384);const u={name:"ElDivider"},d=(0,n.aZ)({...u,props:l,setup(e){const t=e,a=(0,c.s)("divider"),o=(0,n.Fl)((()=>a.cssVar({"border-style":t.borderStyle})));return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)([(0,i.SU)(a).b(),(0,i.SU)(a).m(e.direction)]),style:(0,s.j5)((0,i.SU)(o)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,s.C_)([(0,i.SU)(a).e("text"),(0,i.SU)(a).is(e.contentPosition)])},[(0,n.WI)(e.$slots,"default")],2)):(0,n.kq)("v-if",!0)],6))}});var m=(0,r.Z)(d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]),p=a(6700);const v=(0,p.nz)(m)},96433:function(e,t,a){"use strict";a(75452)},77864:function(e,t,a){"use strict";a(1759)},27067:function(e,t,a){"use strict";a.d(t,{E2:function(){return w}});var n=a(61583),s=a(91239),i=a(30926),o=a(77707),l=a(17398),r=a(49434);const c=(0,l.o8)({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:r.AA,default:""}}),u={click:e=>e instanceof MouseEvent};var d=a(67311),m=a(66384);const p=["href"],v={name:"ElLink"},f=(0,n.aZ)({...v,props:c,emits:u,setup(e,{emit:t}){const a=e,l=(0,m.s)("link");function r(e){a.disabled||t("click",e)}return(e,t)=>((0,n.wg)(),(0,n.iD)("a",{class:(0,s.C_)([(0,i.SU)(l).b(),(0,i.SU)(l).m(e.type),(0,i.SU)(l).is("disabled",e.disabled),(0,i.SU)(l).is("underline",e.underline&&!e.disabled)]),href:e.disabled||!e.href?void 0:e.href,onClick:r},[e.icon?((0,n.wg)(),(0,n.j4)((0,i.SU)(o.gn),{key:0},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.icon)))])),_:1})):(0,n.kq)("v-if",!0),e.$slots.default?((0,n.wg)(),(0,n.iD)("span",{key:1,class:(0,s.C_)((0,i.SU)(l).e("inner"))},[(0,n.WI)(e.$slots,"default")],2)):(0,n.kq)("v-if",!0),e.$slots.icon?(0,n.WI)(e.$slots,"icon",{key:2}):(0,n.kq)("v-if",!0)],10,p))}});var h=(0,d.Z)(f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]),g=a(6700);const w=(0,g.nz)(h)},52672:function(e,t,a){"use strict";a(75452),a(30993)},96402:function(e,t,a){"use strict";a.d(t,{$t:function(){return S}});var n=a(61583),s=a(30926),i=a(91239),o=a(15471),l=a(17398),r=a(1656),c=a(43137);const u=(0,l.o8)({trigger:r.ks.trigger,placement:c.O8.placement,disabled:r.ks.disabled,visible:r.sp.visible,transition:r.sp.transition,popperOptions:c.O8.popperOptions,tabindex:c.O8.tabindex,content:r.sp.content,popperStyle:r.sp.popperStyle,popperClass:r.sp.popperClass,enterable:{...r.sp.enterable,default:!0},effect:{...r.sp.effect,default:"light"},teleported:r.sp.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0}});var d=a(67311),m=a(66384);const p=["update:visible","before-enter","before-leave","after-enter","after-leave"],v="ElPopover",f=(0,n.aZ)({name:v,components:{ElTooltip:o.Q0},props:u,emits:p,setup(e,{emit:t}){const a=(0,m.s)("popover"),o=(0,s.iH)(null),l=(0,n.Fl)((()=>{var e;return null==(e=(0,s.SU)(o))?void 0:e.popperRef})),r=(0,n.Fl)((()=>(0,i.HD)(e.width)?e.width:`${e.width}px`)),c=(0,n.Fl)((()=>[{width:r.value},e.popperStyle])),u=(0,n.Fl)((()=>[a.b(),e.popperClass,{[a.m("plain")]:!!e.content}])),d=(0,n.Fl)((()=>"el-fade-in-linear"===e.transition)),p=()=>{var e;null==(e=o.value)||e.hide()},v=()=>{t("before-enter")},f=()=>{t("before-leave")},h=()=>{t("after-enter")},g=()=>{t("update:visible",!1),t("after-leave")};return{ns:a,kls:u,gpuAcceleration:d,style:c,tooltipRef:o,popperRef:l,hide:p,beforeEnter:v,beforeLeave:f,afterEnter:h,afterLeave:g}}});function h(e,t,a,s,o,l){const r=(0,n.up)("el-tooltip");return(0,n.wg)(),(0,n.j4)(r,(0,n.dG)({ref:"tooltipRef"},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":e.kls,"popper-style":e.style,teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":e.gpuAcceleration,onBeforeShow:e.beforeEnter,onBeforeHide:e.beforeLeave,onShow:e.afterEnter,onHide:e.afterLeave}),{content:(0,n.w5)((()=>[e.title?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,i.C_)(e.ns.e("title")),role:"title"},(0,i.zw)(e.title),3)):(0,n.kq)("v-if",!0),(0,n.WI)(e.$slots,"default",{},(()=>[(0,n.Uk)((0,i.zw)(e.content),1)]))])),default:(0,n.w5)((()=>[e.$slots.reference?(0,n.WI)(e.$slots,"reference",{key:0}):(0,n.kq)("v-if",!0)])),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onBeforeShow","onBeforeHide","onShow","onHide"])}var g=(0,d.Z)(f,[["render",h],["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/index.vue"]]);const w=(e,t)=>{const a=t.arg||t.value,n=null==a?void 0:a.popperRef;n&&(n.triggerRef=e)};var y={mounted(e,t){w(e,t)},updated(e,t){w(e,t)}};const b="popover";g.install=e=>{e.component(g.name,g)},y.install=e=>{e.directive(b,y)};const k=y;g.directive=k;const _=g,S=_},60492:function(e,t,a){"use strict";a(75452),a(26238)},30896:function(e,t,a){"use strict";a(30057)},14737:function(e,t,a){"use strict";a.r(t),t["default"]={84054:[{id:40010,type:"task",name:[3181]},{id:40020,type:"task",name:[3182]},{id:40030,type:"task",name:[3183]},{id:40040,type:"task",name:[3184]}],84055:[{id:29300,type:"task",name:[3185]},{id:29600,type:"task",name:[3186]},{id:29700,type:"task",name:[1763]}],84503:[{id:2070012,type:"subquest",name:[3187]},{id:2070013,type:"subquest",name:[3188]},{id:2070014,type:"subquest",name:[3189]}],84504:[{id:2060006,type:"subquest",name:[3190]},{id:2060008,type:"subquest",name:[3191]},{id:2060010,type:"subquest",name:[3192]}],84505:[{id:2550001,type:"subtask",name:[3193]},{id:2550002,type:"subtask",name:[3194]},{id:2550003,type:"subtask",name:[3195]},{id:2550004,type:"subtask",name:[3196]}],84506:[{id:2560001,type:"subtask",name:[3197]},{id:2560002,type:"subtask",name:[3198]}],84508:[{id:26100,type:"task",name:[3199]},{id:26200,type:"task",name:[3200]},{id:26300,type:"task",name:[3201]}],84509:[{id:26400,type:"task",name:[1670]},{id:26500,type:"task",name:[1669]}],84510:[{id:2610011,type:"subtask",name:[3202]},{id:2610012,type:"subtask",name:[3203]},{id:2610013,type:"subtask",name:[3204]},{id:2610014,type:"subtask",name:[3205]},{id:2610015,type:"subtask",name:[3206]}],84518:[{id:22700,type:"task",name:[3207]},{id:23e3,type:"task",name:[3208]}],84519:[{id:2470201,type:"subtask",name:[3209]},{id:2470202,type:"subtask",name:[3210]},{id:2470203,type:"subtask",name:[3211]},{id:24802,type:"task",name:[3212]}],84520:[{id:2490001,type:"subtask",name:[3213]},{id:2490002,type:"subtask",name:[3214]},{id:2490003,type:"subtask",name:[3215]},{id:2490004,type:"subtask",name:[3216]}],84522:[{id:2200601,type:"subtask",name:[1699," - 1"]},{id:2200602,type:"task",name:[1699," - 2"]},{id:2200603,type:"task",name:[1699," - 3"]},{id:22009,type:"task",name:[3217]}],84523:[{id:25100,type:"task",name:[3218]},{id:28e3,type:"task",name:[3219]}],84526:[{id:2610001,type:"subtask",name:[3220,"/(.*?)[:：]/"]},{id:2610002,type:"subtask",name:[3221,"/(.*?)[？?]/"]},{id:2610003,type:"subtask",name:[3222]},{id:2610004,type:"subtask",name:[3223]}],84528:[{id:41070,type:"task",name:[3224]},{id:41180,type:"task",name:[3225," - ",3226]},{id:4118002,type:"subtask",name:[3225," - ",3227]},{id:4118003,type:"subtask",name:[3225," - ",3228]},{id:41080,type:"task",name:[3229]},{id:41090,type:"task",name:[1716]}],84530:[{id:41160,type:"task",name:[3230]},{id:41170,type:"task",name:[3231]}],84532:[{id:2202109,type:"subquest",name:[3232]},{id:2202110,type:"subquest",name:[3233]}],84534:[{id:2203011,type:"subquest",name:[3234]},{id:2203012,type:"subquest",name:[3235]}],84535:[{id:41250,type:"task",name:[3236]},{id:41260,type:"task",name:[3237]}],84538:[{id:4101001,type:"subtask",name:[3238," - ",3239]},{id:4101002,type:"subtask",name:[3238," - ",3240]},{id:41020,type:"task",name:[1746]},{id:41030,type:"task",name:[3241]}],84539:[{id:41140,type:"task",name:[3242," - 1"]},{id:4114002,type:"subtask",name:[3242," - 2"]},{id:4114003,type:"subtask",name:[3242," - 3"]},{id:4114004,type:"subtask",name:[3242," - 4"]},{id:41150,type:"task",name:[3243]}],84541:[{id:84538,type:"achievement",name:[1747]},{id:72812,type:"quest",name:[3244]}],84542:[{id:41330,type:"task",name:[3245]},{id:41280,type:"task",name:[3246]},{id:41290,type:"task",name:[3247]},{id:22050,type:"quest",name:[3248]}]}}}]);
//# sourceMappingURL=4694.44242bda.js.map